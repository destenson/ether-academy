webpackJsonp([0,3],{160:function(e,t,o){o(413);var a=o(1)(o(404),o(429),null,null);e.exports=a.exports},172:function(e,t,o){o(476);var a=o(1)(o(450),o(542),null,null);e.exports=a.exports},278:function(e,t,o){"use strict";function a(e){function t(){c.add(e,"ps--focus")}function o(){c.remove(e,"ps--focus")}var a=this;a.settings=s.clone(d),a.containerWidth=null,a.containerHeight=null,a.contentWidth=null,a.contentHeight=null,a.isRtl="rtl"===l.css(e,"direction"),a.isNegativeScroll=function(){var t=e.scrollLeft,o=null;return e.scrollLeft=-1,o=e.scrollLeft<0,e.scrollLeft=t,o}(),a.negativeScrollAdjustment=a.isNegativeScroll?e.scrollWidth-e.clientWidth:0,a.event=new v,a.ownerDocument=e.ownerDocument||document,a.scrollbarXRail=l.appendTo(l.e("div","ps__scrollbar-x-rail"),e),a.scrollbarX=l.appendTo(l.e("div","ps__scrollbar-x"),a.scrollbarXRail),a.scrollbarX.setAttribute("tabindex",0),a.event.bind(a.scrollbarX,"focus",t),a.event.bind(a.scrollbarX,"blur",o),a.scrollbarXActive=null,a.scrollbarXWidth=null,a.scrollbarXLeft=null,a.scrollbarXBottom=s.toInt(l.css(a.scrollbarXRail,"bottom")),a.isScrollbarXUsingBottom=a.scrollbarXBottom===a.scrollbarXBottom,a.scrollbarXTop=a.isScrollbarXUsingBottom?null:s.toInt(l.css(a.scrollbarXRail,"top")),a.railBorderXWidth=s.toInt(l.css(a.scrollbarXRail,"borderLeftWidth"))+s.toInt(l.css(a.scrollbarXRail,"borderRightWidth")),l.css(a.scrollbarXRail,"display","block"),a.railXMarginWidth=s.toInt(l.css(a.scrollbarXRail,"marginLeft"))+s.toInt(l.css(a.scrollbarXRail,"marginRight")),l.css(a.scrollbarXRail,"display",""),a.railXWidth=null,a.railXRatio=null,a.scrollbarYRail=l.appendTo(l.e("div","ps__scrollbar-y-rail"),e),a.scrollbarY=l.appendTo(l.e("div","ps__scrollbar-y"),a.scrollbarYRail),a.scrollbarY.setAttribute("tabindex",0),a.event.bind(a.scrollbarY,"focus",t),a.event.bind(a.scrollbarY,"blur",o),a.scrollbarYActive=null,a.scrollbarYHeight=null,a.scrollbarYTop=null,a.scrollbarYRight=s.toInt(l.css(a.scrollbarYRail,"right")),a.isScrollbarYUsingRight=a.scrollbarYRight===a.scrollbarYRight,a.scrollbarYLeft=a.isScrollbarYUsingRight?null:s.toInt(l.css(a.scrollbarYRail,"left")),a.scrollbarYOuterWidth=a.isRtl?s.outerWidth(a.scrollbarY):null,a.railBorderYWidth=s.toInt(l.css(a.scrollbarYRail,"borderTopWidth"))+s.toInt(l.css(a.scrollbarYRail,"borderBottomWidth")),l.css(a.scrollbarYRail,"display","block"),a.railYMarginHeight=s.toInt(l.css(a.scrollbarYRail,"marginTop"))+s.toInt(l.css(a.scrollbarYRail,"marginBottom")),l.css(a.scrollbarYRail,"display",""),a.railYHeight=null,a.railYRatio=null}function n(e){return e.getAttribute("data-ps-id")}function i(e,t){e.setAttribute("data-ps-id",t)}function r(e){e.removeAttribute("data-ps-id")}var s=o(279),c=o(284),d=o(349),l=o(283),v=o(346),m=o(347),p={};t.add=function(e){var t=m();return i(e,t),p[t]=new a(e),p[t]},t.remove=function(e){delete p[n(e)],r(e)},t.get=function(e){return p[n(e)]}},279:function(e,t,o){"use strict";var a=o(284),n=o(283),i=t.toInt=function(e){return parseInt(e,10)||0},r=t.clone=function(e){if(e){if(Array.isArray(e))return e.map(r);if("object"==typeof e){var t={};for(var o in e)t[o]=r(e[o]);return t}return e}return null};t.extend=function(e,t){var o=r(e);for(var a in t)o[a]=r(t[a]);return o},t.isEditable=function(e){return n.matches(e,"input,[contenteditable]")||n.matches(e,"select,[contenteditable]")||n.matches(e,"textarea,[contenteditable]")||n.matches(e,"button,[contenteditable]")},t.removePsClasses=function(e){for(var t=a.list(e),o=0;o<t.length;o++){var n=t[o];0===n.indexOf("ps-")&&a.remove(e,n)}},t.outerWidth=function(e){return i(n.css(e,"width"))+i(n.css(e,"paddingLeft"))+i(n.css(e,"paddingRight"))+i(n.css(e,"borderLeftWidth"))+i(n.css(e,"borderRightWidth"))},t.startScrolling=function(e,t){a.add(e,"ps-in-scrolling"),void 0!==t?a.add(e,"ps-"+t):(a.add(e,"ps-x"),a.add(e,"ps-y"))},t.stopScrolling=function(e,t){a.remove(e,"ps-in-scrolling"),void 0!==t?a.remove(e,"ps-"+t):(a.remove(e,"ps-x"),a.remove(e,"ps-y"))},t.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},280:function(e,t,o){"use strict";function a(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function n(e,t){var o={width:t.railXWidth};t.isRtl?o.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:o.left=e.scrollLeft,t.isScrollbarXUsingBottom?o.bottom=t.scrollbarXBottom-e.scrollTop:o.top=t.scrollbarXTop+e.scrollTop,s.css(t.scrollbarXRail,o);var a={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?a.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:a.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?a.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:a.left=t.scrollbarYLeft+e.scrollLeft,s.css(t.scrollbarYRail,a),s.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),s.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}var i=o(279),r=o(284),s=o(283),c=o(278),d=o(281);e.exports=function(e){var t=c.get(e);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight;var o;e.contains(t.scrollbarXRail)||(o=s.queryChildren(e,".ps__scrollbar-x-rail"),o.length>0&&o.forEach(function(e){s.remove(e)}),s.appendTo(t.scrollbarXRail,e)),e.contains(t.scrollbarYRail)||(o=s.queryChildren(e,".ps__scrollbar-y-rail"),o.length>0&&o.forEach(function(e){s.remove(e)}),s.appendTo(t.scrollbarYRail,e)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=a(t,i.toInt(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=i.toInt((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=a(t,i.toInt(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=i.toInt(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),n(e,t),t.scrollbarXActive?r.add(e,"ps--active-x"):(r.remove(e,"ps--active-x"),t.scrollbarXWidth=0,t.scrollbarXLeft=0,d(e,"left",0)),t.scrollbarYActive?r.add(e,"ps--active-y"):(r.remove(e,"ps--active-y"),t.scrollbarYHeight=0,t.scrollbarYTop=0,d(e,"top",0))}},281:function(e,t,o){"use strict";var a=o(278),n=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t};e.exports=function(e,t,o){if(void 0===e)throw"You must provide an element to the update-scroll function";if(void 0===t)throw"You must provide an axis to the update-scroll function";if(void 0===o)throw"You must provide a value to the update-scroll function";"top"===t&&o<=0&&(e.scrollTop=o=0,e.dispatchEvent(n("ps-y-reach-start"))),"left"===t&&o<=0&&(e.scrollLeft=o=0,e.dispatchEvent(n("ps-x-reach-start")));var i=a.get(e);"top"===t&&o>=i.contentHeight-i.containerHeight&&(o=i.contentHeight-i.containerHeight,o-e.scrollTop<=1?o=e.scrollTop:e.scrollTop=o,e.dispatchEvent(n("ps-y-reach-end"))),"left"===t&&o>=i.contentWidth-i.containerWidth&&(o=i.contentWidth-i.containerWidth,o-e.scrollLeft<=1?o=e.scrollLeft:e.scrollLeft=o,e.dispatchEvent(n("ps-x-reach-end"))),void 0===i.lastTop&&(i.lastTop=e.scrollTop),void 0===i.lastLeft&&(i.lastLeft=e.scrollLeft),"top"===t&&o<i.lastTop&&e.dispatchEvent(n("ps-scroll-up")),"top"===t&&o>i.lastTop&&e.dispatchEvent(n("ps-scroll-down")),"left"===t&&o<i.lastLeft&&e.dispatchEvent(n("ps-scroll-left")),"left"===t&&o>i.lastLeft&&e.dispatchEvent(n("ps-scroll-right")),"top"===t&&o!==i.lastTop&&(e.scrollTop=i.lastTop=o,e.dispatchEvent(n("ps-scroll-y"))),"left"===t&&o!==i.lastLeft&&(e.scrollLeft=i.lastLeft=o,e.dispatchEvent(n("ps-scroll-x")))}},282:function(e,t,o){var a=o(156)("wks"),n=o(158),i=o(5).Symbol,r="function"==typeof i;(e.exports=function(e){return a[e]||(a[e]=r&&i[e]||(r?i:n)("Symbol."+e))}).store=a},283:function(e,t,o){"use strict";function a(e,t){return window.getComputedStyle(e)[t]}function n(e,t,o){return"number"==typeof o&&(o=o.toString()+"px"),e.style[t]=o,e}function i(e,t){for(var o in t){var a=t[o];"number"==typeof a&&(a=a.toString()+"px"),e.style[o]=a}return e}var r={};r.e=function(e,t){var o=document.createElement(e);return o.className=t,o},r.appendTo=function(e,t){return t.appendChild(e),e},r.css=function(e,t,o){return"object"==typeof t?i(e,t):void 0===o?a(e,t):n(e,t,o)},r.matches=function(e,t){return void 0!==e.matches?e.matches(t):void 0!==e.matchesSelector?e.matchesSelector(t):void 0!==e.webkitMatchesSelector?e.webkitMatchesSelector(t):void 0!==e.mozMatchesSelector?e.mozMatchesSelector(t):void 0!==e.msMatchesSelector?e.msMatchesSelector(t):void 0},r.remove=function(e){void 0!==e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},r.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return r.matches(e,t)})},e.exports=r},284:function(e,t,o){"use strict";function a(e,t){var o=e.className.split(" ");o.indexOf(t)<0&&o.push(t),e.className=o.join(" ")}function n(e,t){var o=e.className.split(" "),a=o.indexOf(t);a>=0&&o.splice(a,1),e.className=o.join(" ")}t.add=function(e,t){e.classList?e.classList.add(t):a(e,t)},t.remove=function(e,t){e.classList?e.classList.remove(t):n(e,t)},t.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},285:function(e,t,o){e.exports={default:o(321),__esModule:!0}},286:function(e,t){var o=Object.prototype.toString;e.exports=function(e){switch(o.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!==e?"nan":e&&1===e.nodeType?"element":typeof(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e))}},287:function(e,t){e.exports={}},288:function(e,t,o){o(293);var a=o(1)(o(289),o(296),null,null);e.exports=a.exports},289:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"overlay-btn",computed:{cssClass:function(){return"fa fa-"+this.icon}},props:["icon"]}},290:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"overlay-btns"}},291:function(e,t,o){t=e.exports=o(276)(!0),t.push([e.i,".overlay-btn{width:2.5em;height:2.5em;line-height:2.5em;border-radius:1.25em;text-align:center;color:#000;background:hsla(0,0%,100%,.9);-webkit-backdrop-filter:blur(.125rem);backdrop-filter:blur(.125rem);box-shadow:0 1px 3px rgba(0,0,0,.1)}.overlay-btn i.fa{font-size:1rem}@media screen and (min-width:360px){.overlay-btn{width:3em;height:3em;line-height:3em;border-radius:1.5em}}","",{version:3,sources:["/home/ubuntu/www/cosmos.network/src/components/OverlayBtn.vue"],names:[],mappings:"AACA,aACE,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,qBAAsB,AACtB,kBAAmB,AACnB,WAAY,AACZ,8BAAkC,AAClC,sCAAwC,AAChC,8BAAgC,AACxC,mCAAsC,CACvC,AACD,kBACE,cAAgB,CACjB,AACD,oCACA,aACI,UAAW,AACX,WAAY,AACZ,gBAAiB,AACjB,mBAAqB,CACxB,CACA",file:"OverlayBtn.vue",sourcesContent:["\n.overlay-btn {\n  width: 2.5em;\n  height: 2.5em;\n  line-height: 2.5em;\n  border-radius: 1.25em;\n  text-align: center;\n  color: #000;\n  background: rgba(255,255,255,0.9);\n  -webkit-backdrop-filter: blur(0.125rem);\n          backdrop-filter: blur(0.125rem);\n  box-shadow: rgba(0,0,0,0.1) 0 1px 3px;\n}\n.overlay-btn i.fa {\n  font-size: 1rem;\n}\n@media screen and (min-width: 360px) {\n.overlay-btn {\n    width: 3em;\n    height: 3em;\n    line-height: 3em;\n    border-radius: 1.5em;\n}\n}"],sourceRoot:""}])},292:function(e,t,o){t=e.exports=o(276)(!0),t.push([e.i,".overlay-btns{height:auto;position:fixed;bottom:.5em;right:.5em;z-index:99;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column nowrap;flex-flow:column nowrap}.overlay-btns>div{margin-top:.5em}","",{version:3,sources:["/home/ubuntu/www/cosmos.network/src/components/OverlayBtns.vue"],names:[],mappings:"AACA,cACE,YAAa,AACb,eAAgB,AAChB,YAAc,AACd,WAAa,AACb,WAAY,AACZ,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,4BAA6B,AACzB,uBAAyB,CAClC,AACD,kBACE,eAAkB,CACnB",file:"OverlayBtns.vue",sourcesContent:["\n.overlay-btns {\n  height: auto;\n  position: fixed;\n  bottom: 0.5em;\n  right: 0.5em;\n  z-index: 99;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-flow: column nowrap;\n          flex-flow: column nowrap;\n}\n.overlay-btns > div {\n  margin-top: 0.5em;\n}"],sourceRoot:""}])},293:function(e,t,o){var a=o(291);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(277)("1dce6915",a,!0)},294:function(e,t,o){var a=o(292);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(277)("7cecf74c",a,!0)},295:function(e,t,o){o(294);var a=o(1)(o(290),o(297),null,null);e.exports=a.exports},296:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"overlay-btn"},[o("i",{class:e.cssClass})])},staticRenderFns:[]}},297:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"overlay-btns"},[e._t("default")],2)},staticRenderFns:[]}},298:function(e,t,o){e.exports=o(307)},300:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"ni-article-body",props:["content"]}},302:function(e,t,o){var a=o(145).f,n=o(143),i=o(282)("toStringTag");e.exports=function(e,t,o){e&&!n(e=o?e:e.prototype,i)&&a(e,i,{configurable:!0,value:t})}},303:function(e,t,o){t=e.exports=o(276)(!0),t.push([e.i,'.ni-article-body{background:#fff}.ni-article-body-container{max-width:48rem;padding:1rem;margin-left:auto;margin-right:auto;font-family:Lora,Georgia,Cambria,Times New Roman,Times,serif;font-size:1rem;line-height:1.5;font-weight:400;color:rgba(0,0,0,.8)}.ni-article-body hr{border:none;border-top:1px solid #eee;background:transparent;height:0;margin:0;padding:0}.ni-article-body a{color:#0073e6;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word}.ni-article-body a:hover{text-decoration:underline}.ni-article-body strong{font-weight:700}.ni-article-body em{font-style:italic}.ni-article-body code{font-family:Consolas,Deja Vu Sans Mono,Andale Sans Mono,monospace;margin-bottom:1.5rem;font-size:.875rem;background:#eee;font-weight:700;padding:0 .25rem;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word}.ni-article-body pre{margin-left:-1rem;margin-right:-1rem;overflow-x:scroll;padding:.375rem .5rem;line-height:1.125}.ni-article-body pre+figcaption{font-size:.875rem;margin-top:-1.5rem;background:#eee;border:1px solid #eee;border-top:none;padding:.5rem;color:#555;margin-bottom:1.5rem}.ni-article-body pre,.ni-article-body pre code{background:#282c34;color:#abb2bf}.ni-article-body pre code{margin-bottom:0;font-weight:400;padding:0}.ni-article-body .btn,.ni-article-body blockquote,.ni-article-body figcaption,.ni-article-body hr,.ni-article-body img,.ni-article-body ol,.ni-article-body p,.ni-article-body pre,.ni-article-body table,.ni-article-body ul{margin-bottom:1.5em}.ni-article-body p:empty{display:none}.ni-article-body p img{margin-bottom:0}.ni-article-body .youtube{display:block;margin-bottom:1.5em}.ni-article-body p code:after,.ni-article-body p code:before{letter-spacing:-.375em;content:"\\A0"}.ni-article-body .left,.ni-article-body .right{margin-bottom:2.5em!important}.ni-article-body .left{float:left!important;padding-right:2.5em!important}.ni-article-body .right{float:right!important;padding-left:2.5em!important}.ni-article-body img{max-width:100%}.ni-article-body h1,.ni-article-body h2,.ni-article-body h3,.ni-article-body h4,.ni-article-body h5,.ni-article-body h6{font-family:system,-apple-system,BlinkMacSystemFont,Roboto,Seogue UI,Helvetica Neue,Lucida Grande,sans-serif;position:relative;line-height:1.05;margin:1.5rem 0 .75rem}.ni-article-body h1:first-child,.ni-article-body h2:first-child,.ni-article-body h3:first-child,.ni-article-body h4:first-child,.ni-article-body h5:first-child,.ni-article-body h6:first-child{margin-top:0}.ni-article-body h1,.ni-article-body h3,.ni-article-body h5{color:#000;font-weight:600}.ni-article-body h2,.ni-article-body h4,.ni-article-body h6{color:#888;font-weight:700}.ni-article-body h1{font-size:2rem;margin-top:1.5rem}.ni-article-body h2{font-size:1.75rem}.ni-article-body h3{font-size:1.53125rem}.ni-article-body h4{font-size:1.33984375rem}.ni-article-body h5{font-size:1.1723632813rem}.ni-article-body h6{font-size:1rem}.ni-article-body ol,.ni-article-body ul{padding-left:1.5em}.ni-article-body ol ol,.ni-article-body ol ul,.ni-article-body ul ol,.ni-article-body ul ul{margin-bottom:0;padding-top:.25em}.ni-article-body ul li{list-style:square;margin-bottom:.25em}.ni-article-body ol li{list-style:decimal}.ni-article-body li p+ol,.ni-article-body li p+ul{margin-top:-1.5em}.ni-article-body li p+ol:last-child,.ni-article-body li p+ul:last-child{margin-bottom:1.5em}.ni-article-body table{border:1px solid #ddd;border-collapse:collapse;width:100%}.ni-article-body table th{font-weight:600;background:#e5f3ff;color:#004480}.ni-article-body table td,.ni-article-body table th{border:1px solid #e0e0e0;padding:.25em .5em}.ni-article-body blockquote{padding:.75rem 1rem;background:hsl(210,50%,90);position:relative;color:#155493}.ni-article-body blockquote ol,.ni-article-body blockquote p,.ni-article-body blockquote ul{margin-bottom:.75rem}.ni-article-body blockquote ol:last-child,.ni-article-body blockquote p:last-child,.ni-article-body blockquote ul:last-child{margin-bottom:0}.ni-article-body blockquote+h2{margin-top:1.5rem}@media screen and (min-width:360px){.ni-article-body-container{padding:1.125rem}.ni-article-body pre{margin-left:-1.125rem;margin-right:-1.125rem}}@media screen and (min-width:414px){.ni-article-body-container{padding:1.25rem}.ni-article-body pre{margin-left:-1.25rem;margin-right:-1.25rem}}@media screen and (min-width:540px){.ni-article-body-container{padding:1.5rem}.ni-article-body pre{margin-left:-1.5rem;margin-right:-1.5rem}}@media screen and (min-width:768px){.ni-article-body-container{padding:3rem 3rem 1.5rem}.ni-article-body h1,.ni-article-body h2,.ni-article-body h3,.ni-article-body h4,.ni-article-body h5,.ni-article-body h6{margin:3rem 0 1.5rem}.ni-article-body pre{margin-left:0;margin-right:0}.ni-article-body iframe.iframe-video{max-width:48rem;max-height:27rem}}',"",{version:3,sources:["/home/ubuntu/www/cosmos.network/node_modules/@nylira/vue-article-body/src/style.css"],names:[],mappings:"AACA,iBACE,eAAiB,CAClB,AACD,2BACE,gBAAiB,AACjB,aAAc,AACd,iBAAkB,AAClB,kBAAmB,AAGnB,6DAAqE,AACrE,eAAgB,AAChB,gBAAiB,AACjB,gBAAiB,AACjB,oBAAyB,CAC1B,AACD,oBACE,YAAa,AACb,0BAA2B,AAC3B,uBAAwB,AACxB,SAAU,AACV,SAAU,AACV,SAAW,CACZ,AACD,mBACE,cAA0B,AAG1B,yBAA0B,AAC1B,qBAAsB,AACtB,yBAA0B,AAC1B,qBAAsB,AACtB,qBAAuB,CACxB,AACD,yBACE,yBAA2B,CAC5B,AACD,wBACE,eAAkB,CACnB,AACD,oBACE,iBAAmB,CACpB,AACD,sBACE,kEAA0E,AAC1E,qBAAsB,AACtB,kBAAoB,AACpB,gBAAiB,AACjB,gBAAkB,AAClB,iBAAmB,AAGnB,yBAA0B,AAC1B,qBAAsB,AACtB,yBAA0B,AAC1B,qBAAsB,AACtB,qBAAuB,CACxB,AACD,qBACE,kBAAmB,AACnB,mBAAoB,AACpB,kBAAmB,AACnB,sBAAyB,AACzB,iBAAmB,CACpB,AACD,gCACE,kBAAoB,AACpB,mBAAoB,AACpB,gBAAiB,AACjB,sBAAuB,AACvB,gBAAiB,AACjB,cAAgB,AAChB,WAAY,AACZ,oBAAsB,CACvB,AAKD,+CAHE,mBAA6B,AAC7B,aAA0B,CAQ3B,AAND,0BACE,gBAAiB,AACjB,gBAAoB,AAGpB,SAAW,CACZ,AACD,8NAUE,mBAAqB,CACtB,AACD,yBACE,YAAc,CACf,AACD,uBACE,eAAiB,CAClB,AACD,0BACE,cAAe,AACf,mBAAqB,CACtB,AACD,6DAEE,uBAAyB,AACzB,aAAiB,CAClB,AACD,+CAEE,6BAAgC,CACjC,AACD,uBACE,qBAAuB,AACvB,6BAAgC,CACjC,AACD,wBACE,sBAAwB,AACxB,4BAA+B,CAChC,AACD,qBACE,cAAgB,CACjB,AACD,wHAME,6GAA6H,AAC7H,kBAAmB,AACnB,iBAAkB,AAClB,sBAAyB,CAC1B,AACD,gMAME,YAAc,CACf,AACD,4DAGE,WAAY,AACZ,eAAiB,CAClB,AACD,4DAGE,WAAY,AACZ,eAAkB,CACnB,AACD,oBACE,eAAgB,AAChB,iBAAmB,CACpB,AACD,oBACE,iBAAmB,CACpB,AACD,oBACE,oBAAsB,CACvB,AACD,oBACE,uBAAyB,CAC1B,AACD,oBACE,yBAA2B,CAC5B,AACD,oBACE,cAAgB,CACjB,AACD,wCAEE,kBAAoB,CACrB,AACD,4FAIE,gBAAiB,AACjB,iBAAoB,CACrB,AACD,uBACE,kBAAmB,AACnB,mBAAsB,CACvB,AACD,uBACE,kBAAoB,CACrB,AACD,kDAEE,iBAAmB,CACpB,AACD,wEAEE,mBAAqB,CACtB,AACD,uBACE,sBAAuB,AACvB,yBAA0B,AAC1B,UAAY,CACb,AACD,0BACE,gBAAiB,AACjB,mBAAoB,AACpB,aAAe,CAChB,AACD,oDAEE,yBAA0B,AAC1B,kBAAsB,CACvB,AACD,4BACE,oBAAsB,AACtB,2BAA4B,AAC5B,kBAAmB,AACnB,aAAwB,CACzB,AACD,4FAGE,oBAAuB,CACxB,AACD,6HAGE,eAAiB,CAClB,AACD,+BACE,iBAAmB,CACpB,AACD,oCACA,2BACI,gBAAkB,CACrB,AACD,qBACI,sBAAuB,AACvB,sBAAwB,CAC3B,CACA,AACD,oCACA,2BACI,eAAiB,CACpB,AACD,qBACI,qBAAsB,AACtB,qBAAuB,CAC1B,CACA,AACD,oCACA,2BACI,cAAgB,CACnB,AACD,qBACI,oBAAqB,AACrB,oBAAsB,CACzB,CACA,AACD,oCACA,2BAEI,wBAA0B,CAC7B,AACD,wHAMI,oBAAsB,CACzB,AACD,qBACI,cAAe,AACf,cAAgB,CACnB,AACD,qCACI,gBAAiB,AACjB,gBAAkB,CACrB,CACA",file:"style.css",sourcesContent:['\n.ni-article-body {\n  background: #fff;\n}\n.ni-article-body-container {\n  max-width: 48rem;\n  padding: 1rem;\n  margin-left: auto;\n  margin-right: auto;\n\n  /* text */\n  font-family: Lora, Georgia, Cambria, "Times New Roman", Times, serif;\n  font-size: 1rem;\n  line-height: 1.5;\n  font-weight: 400;\n  color: hsla(0,0%,0%,0.8);\n}\n.ni-article-body hr {\n  border: none;\n  border-top: 1px solid #eee;\n  background: transparent;\n  height: 0;\n  margin: 0;\n  padding: 0;\n}\n.ni-article-body a {\n  color: hsla(210,100%,45%);\n\n  /* break */\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  -ms-word-break: break-all;\n  word-break: break-all;\n  word-break: break-word;\n}\n.ni-article-body a:hover {\n  text-decoration: underline;\n}\n.ni-article-body strong {\n  font-weight: bold;\n}\n.ni-article-body em {\n  font-style: italic;\n}\n.ni-article-body code {\n  font-family: Consolas, \'Deja Vu Sans Mono\', \'Andale Sans Mono\', monospace;\n  margin-bottom: 1.5rem;\n  font-size: 0.875rem;\n  background: #eee;\n  font-weight: bold;\n  padding: 0 0.25rem;\n\n  /* break */\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  -ms-word-break: break-all;\n  word-break: break-all;\n  word-break: break-word;\n}\n.ni-article-body pre {\n  margin-left: -1rem;\n  margin-right: -1rem;\n  overflow-x: scroll;\n  padding: 0.375rem 0.5rem;\n  line-height: 1.125;\n}\n.ni-article-body pre + figcaption {\n  font-size: 0.875rem;\n  margin-top: -1.5rem;\n  background: #eee;\n  border: 1px solid #eee;\n  border-top: none;\n  padding: 0.5rem;\n  color: #555;\n  margin-bottom: 1.5rem;\n}\n.ni-article-body pre {\n  background: hsl(220,13%,18%);\n  color: hsl(220, 14%, 71%);\n}\n.ni-article-body pre code {\n  margin-bottom: 0;\n  font-weight: normal;\n  background: hsl(220,13%,18%);\n  color: hsl(220, 14%, 71%);\n  padding: 0;\n}\n.ni-article-body p,\n.ni-article-body hr,\n.ni-article-body ul,\n.ni-article-body ol,\n.ni-article-body table,\n.ni-article-body pre,\n.ni-article-body figcaption,\n.ni-article-body blockquote,\n.ni-article-body img,\n.ni-article-body .btn {\n  margin-bottom: 1.5em;\n}\n.ni-article-body p:empty {\n  display: none;\n}\n.ni-article-body p img {\n  margin-bottom: 0;\n}\n.ni-article-body .youtube {\n  display: block;\n  margin-bottom: 1.5em;\n}\n.ni-article-body p code:before,\n.ni-article-body p code:after {\n  letter-spacing: -0.375em;\n  content: "\\00a0";\n}\n.ni-article-body .left,\n.ni-article-body .right {\n  margin-bottom: 2.5em !important;\n}\n.ni-article-body .left {\n  float: left !important;\n  padding-right: 2.5em !important;\n}\n.ni-article-body .right {\n  float: right !important;\n  padding-left: 2.5em !important;\n}\n.ni-article-body img {\n  max-width: 100%;\n}\n.ni-article-body h1,\n.ni-article-body h2,\n.ni-article-body h3,\n.ni-article-body h4,\n.ni-article-body h5,\n.ni-article-body h6 {\n  font-family: system, -apple-system, BlinkMacSystemFont, "Roboto", "Seogue UI", "Helvetica Neue", "Lucida Grande", sans-serif;\n  position: relative;\n  line-height: 1.05;\n  margin: 1.5rem 0 0.75rem;\n}\n.ni-article-body h1:first-child,\n.ni-article-body h2:first-child,\n.ni-article-body h3:first-child,\n.ni-article-body h4:first-child,\n.ni-article-body h5:first-child,\n.ni-article-body h6:first-child {\n  margin-top: 0;\n}\n.ni-article-body h1,\n.ni-article-body h3,\n.ni-article-body h5 {\n  color: #000;\n  font-weight: 600;\n}\n.ni-article-body h2,\n.ni-article-body h4,\n.ni-article-body h6 {\n  color: #888;\n  font-weight: bold;\n}\n.ni-article-body h1 {\n  font-size: 2rem;\n  margin-top: 1.5rem;\n}\n.ni-article-body h2 {\n  font-size: 1.75rem;\n}\n.ni-article-body h3 {\n  font-size: 1.53125rem;\n}\n.ni-article-body h4 {\n  font-size: 1.33984375rem;\n}\n.ni-article-body h5 {\n  font-size: 1.1723632813rem;\n}\n.ni-article-body h6 {\n  font-size: 1rem;\n}\n.ni-article-body ul,\n.ni-article-body ol {\n  padding-left: 1.5em;\n}\n.ni-article-body ul ul,\n.ni-article-body ul ol,\n.ni-article-body ol ul,\n.ni-article-body ol ol {\n  margin-bottom: 0;\n  padding-top: 0.25em;\n}\n.ni-article-body ul li {\n  list-style: square;\n  margin-bottom: 0.25em;\n}\n.ni-article-body ol li {\n  list-style: decimal;\n}\n.ni-article-body li p + ul,\n.ni-article-body li p + ol {\n  margin-top: -1.5em;\n}\n.ni-article-body li p + ul:last-child,\n.ni-article-body li p + ol:last-child {\n  margin-bottom: 1.5em;\n}\n.ni-article-body table {\n  border: 1px solid #ddd;\n  border-collapse: collapse;\n  width: 100%;\n}\n.ni-article-body table th {\n  font-weight: 600;\n  background: #e5f3ff;\n  color: #004480;\n}\n.ni-article-body table td,\n.ni-article-body table th {\n  border: 1px solid #e0e0e0;\n  padding: 0.25em 0.5em;\n}\n.ni-article-body blockquote {\n  padding: 0.75rem 1rem;\n  background: hsl(210,50%,90);\n  position: relative;\n  color: hsl(210,75%,33%);\n}\n.ni-article-body blockquote p,\n.ni-article-body blockquote ul,\n.ni-article-body blockquote ol {\n  margin-bottom: 0.75rem;\n}\n.ni-article-body blockquote p:last-child,\n.ni-article-body blockquote ul:last-child,\n.ni-article-body blockquote ol:last-child {\n  margin-bottom: 0;\n}\n.ni-article-body blockquote + h2 {\n  margin-top: 1.5rem;\n}\n@media screen and (min-width: 360px) {\n.ni-article-body-container {\n    padding: 1.125rem;\n}\n.ni-article-body pre {\n    margin-left: -1.125rem;\n    margin-right: -1.125rem;\n}\n}\n@media screen and (min-width: 414px) {\n.ni-article-body-container {\n    padding: 1.25rem;\n}\n.ni-article-body pre {\n    margin-left: -1.25rem;\n    margin-right: -1.25rem;\n}\n}\n@media screen and (min-width: 540px) {\n.ni-article-body-container {\n    padding: 1.5rem;\n}\n.ni-article-body pre {\n    margin-left: -1.5rem;\n    margin-right: -1.5rem;\n}\n}\n@media screen and (min-width: 768px) {\n.ni-article-body-container {\n    /* font-size: 1.125rem; */\n    padding: 3rem 3rem 1.5rem;\n}\n.ni-article-body h1,\n  .ni-article-body h2,\n  .ni-article-body h3,\n  .ni-article-body h4,\n  .ni-article-body h5,\n  .ni-article-body h6 {\n    margin: 3rem 0 1.5rem;\n}\n.ni-article-body pre {\n    margin-left: 0;\n    margin-right: 0;\n}\n.ni-article-body iframe.iframe-video {\n    max-width: 48rem;\n    max-height: 27rem;\n}\n}\n'],sourceRoot:""}])},305:function(e,t,o){var a=o(303);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(277)("29dbcead",a,!0)},307:function(e,t,o){o(305);var a=o(1)(o(300),o(309),null,null);e.exports=a.exports},309:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"ni-article-body"},[o("div",{staticClass:"ni-article-body-container"},[e._t("default")],2)])},staticRenderFns:[]}},312:function(e,t,o){"use strict";function a(e){c&&s.length>=2&&(c.classList.remove("active"),s.splice(s.indexOf(c),1),c=null),e.forEach(function(e){var t=e.target;s.includes(t)?s.length>=2?(t.classList.remove("active"),s.splice(s.indexOf(t),1)):c=t:t.classList.add("active")})}var n=o(285),i=o.n(n),r=o(344),s=(o.n(r),[]),c=void 0;t.a=function(e){var t=new IntersectionObserver(a,{threshold:[1]});return i()(e).map(function(e){return t.observe(e)}),s}},313:function(e,t,o){"use strict";function a(){var e=window.scrollY,t=e/c,o=t*v;i.scrollTop=o}function n(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];i=document.querySelector(".minimal-toc"),r=document.body.scrollHeight,s=window.innerHeight,c=r-s,d=document.querySelector(".minimal-toc").scrollHeight,l=document.querySelector(".minimal-toc").offsetHeight,v=d-l,window.addEventListener("scroll",a)}var i=void 0,r=void 0,s=void 0,c=void 0,d=void 0,l=void 0,v=void 0;t.a=function(){document.documentElement.clientWidth>=1024&&n(),window.addEventListener("resize",function(){document.documentElement.clientWidth<1024&&window.removeEventListener("scroll",a)},!1)}},314:function(e,t,o){"use strict";var a=o(285),n=o.n(a);t.a=function(e){n()(document.querySelectorAll(".minimal-toc a")).map(function(t){var o=t.getAttribute("href");o=o.replace("#",""),e.find(function(e){return e.id===o})?(t.classList.add("active"),t.parentElement.classList.add("active")):(t.classList.remove("active"),t.parentElement.classList.remove("active"))})}},315:function(e,t,o){"use strict";var a=o(285),n=o.n(a),i=o(360),r=o.n(i);t.a=function(e){function t(t){console.log("scrolling to it!"),t.preventDefault();var o=document.querySelector(t.target.getAttribute("href")),a=void 0;a="#page-top"===o.id?0:o.offsetTop-48-16,document.documentElement.clientWidth<1024&&e(!1),r()(0,a,{duration:666})}n()(document.querySelectorAll(".minimal-toc a")).map(function(e){return e.addEventListener("click",t)})}},317:function(e,t,o){function a(e){switch(n(e)){case"object":var t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=a(e[o]));return t;case"array":for(var t=new Array(e.length),i=0,r=e.length;i<r;i++)t[i]=a(e[i]);return t;case"regexp":var s="";return s+=e.multiline?"m":"",s+=e.global?"g":"",s+=e.ignoreCase?"i":"",new RegExp(e.source,s);case"date":return new Date(e.getTime());default:return e}}var n;try{n=o(286)}catch(e){n=o(286)}e.exports=a},318:function(e,t){function o(e){var t=(new Date).getTime(),o=Math.max(0,16-(t-a)),n=setTimeout(e,o);return a=t,n}t=e.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||o;var a=(new Date).getTime(),n=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.clearTimeout;t.cancel=function(e){n.call(window,e)}},319:function(e,t,o){function a(e){if(!(this instanceof a))return new a(e);this._from=e,this.ease("linear"),this.duration(500)}var n=o(320),i=o(317),r=o(286),s=o(341);e.exports=a,n(a.prototype),a.prototype.reset=function(){return this.isArray="array"===r(this._from),this._curr=i(this._from),this._done=!1,this._start=Date.now(),this},a.prototype.to=function(e){return this.reset(),this._to=e,this},a.prototype.duration=function(e){return this._duration=e,this},a.prototype.ease=function(e){if(!(e="function"==typeof e?e:s[e]))throw new TypeError("invalid easing function");return this._ease=e,this},a.prototype.stop=function(){return this.stopped=!0,this._done=!0,this.emit("stop"),this.emit("end"),this},a.prototype.step=function(){if(!this._done){var e=this._duration,t=Date.now();if(t-this._start>=e)return this._from=this._to,this._update(this._to),this._done=!0,this.emit("end"),this;var o=this._from,a=this._to,n=this._curr,i=this._ease,r=(t-this._start)/e,s=i(r);if(this.isArray){for(var c=0;c<o.length;++c)n[c]=o[c]+(a[c]-o[c])*s;return this._update(n),this}for(var d in o)n[d]=o[d]+(a[d]-o[d])*s;return this._update(n),this}},a.prototype.update=function(e){return 0==arguments.length?this.step():(this._update=e,this)}},320:function(e,t){function o(e){if(e)return a(e)}function a(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}e.exports=o,o.prototype.on=o.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},o.prototype.once=function(e,t){function o(){this.off(e,o),t.apply(this,arguments)}return o.fn=t,this.on(e,o),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var o=this._callbacks["$"+e];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a,n=0;n<o.length;n++)if((a=o[n])===t||a.fn===t){o.splice(n,1);break}return this},o.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),o=this._callbacks["$"+e];if(o){o=o.slice(0);for(var a=0,n=o.length;a<n;++a)o[a].apply(this,t)}return this},o.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},o.prototype.hasListeners=function(e){return!!this.listeners(e).length}},321:function(e,t,o){o(338),o(337),e.exports=o(4).Array.from},322:function(e,t,o){var a=o(151),n=o(282)("toStringTag"),i="Arguments"==a(function(){return arguments}()),r=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,o,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(o=r(t=Object(e),n))?o:i?a(t):"Object"==(s=a(t))&&"function"==typeof t.callee?"Arguments":s}},323:function(e,t,o){"use strict";var a=o(145),n=o(147);e.exports=function(e,t,o){t in e?a.f(e,t,n(0,o)):e[t]=o}},324:function(e,t,o){e.exports=o(5).document&&document.documentElement},325:function(e,t,o){var a=o(287),n=o(282)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||i[n]===e)}},326:function(e,t,o){var a=o(142);e.exports=function(e,t,o,n){try{return n?t(a(o)[0],o[1]):t(o)}catch(t){var i=e.return;throw void 0!==i&&a(i.call(e)),t}}},327:function(e,t,o){"use strict";var a=o(331),n=o(147),i=o(302),r={};o(144)(r,o(282)("iterator"),function(){return this}),e.exports=function(e,t,o){e.prototype=a(r,{next:n(1,o)}),i(e,t+" Iterator")}},328:function(e,t,o){"use strict";var a=o(330),n=o(146),i=o(334),r=o(144),s=o(143),c=o(287),d=o(327),l=o(302),v=o(333),m=o(282)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,o,u,_,f,g){d(o,t,u);var b,k,A,y=function(e){if(!p&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new o(this,e)}}return function(){return new o(this,e)}},C=t+" Iterator",w="values"==_,B=!1,T=e.prototype,x=T[m]||T["@@iterator"]||_&&T[_],P=x||y(_),I=_?w?y("entries"):P:void 0,q="Array"==t?T.entries||x:x;if(q&&(A=v(q.call(new e)))!==Object.prototype&&(l(A,C,!0),a||s(A,m)||r(A,m,h)),w&&x&&"values"!==x.name&&(B=!0,P=function(){return x.call(this)}),a&&!g||!p&&!B&&T[m]||r(T,m,P),c[t]=P,c[C]=h,_)if(b={values:w?P:y("values"),keys:f?P:y("keys"),entries:I},g)for(k in b)k in T||i(T,k,b[k]);else n(n.P+n.F*(p||B),t,b);return b}},329:function(e,t,o){var a=o(282)("iterator"),n=!1;try{var i=[7][a]();i.return=function(){n=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!n)return!1;var o=!1;try{var i=[7],r=i[a]();r.next=function(){return{done:o=!0}},i[a]=function(){return r},e(i)}catch(e){}return o}},330:function(e,t){e.exports=!0},331:function(e,t,o){var a=o(142),n=o(332),i=o(154),r=o(148)("IE_PROTO"),s=function(){},c=function(){var e,t=o(153)("iframe"),a=i.length;for(t.style.display="none",o(324).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object</script>"),e.close(),c=e.F;a--;)delete c.prototype[i[a]];return c()};e.exports=Object.create||function(e,t){var o;return null!==e?(s.prototype=a(e),o=new s,s.prototype=null,o[r]=e):o=c(),void 0===t?o:n(o,t)}},332:function(e,t,o){var a=o(145),n=o(142),i=o(155);e.exports=o(7)?Object.defineProperties:function(e,t){n(e);for(var o,r=i(t),s=r.length,c=0;s>c;)a.f(e,o=r[c++],t[o]);return e}},333:function(e,t,o){var a=o(143),n=o(149),i=o(148)("IE_PROTO"),r=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=n(e),a(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?r:null}},334:function(e,t,o){e.exports=o(144)},335:function(e,t,o){var a=o(15),n=o(14);e.exports=function(e){return function(t,o){var i,r,s=String(n(t)),c=a(o),d=s.length;return c<0||c>=d?e?"":void 0:(i=s.charCodeAt(c),i<55296||i>56319||c+1===d||(r=s.charCodeAt(c+1))<56320||r>57343?e?s.charAt(c):i:e?s.slice(c,c+2):r-56320+(i-55296<<10)+65536)}}},336:function(e,t,o){var a=o(322),n=o(282)("iterator"),i=o(287);e.exports=o(4).getIteratorMethod=function(e){if(void 0!=e)return e[n]||e["@@iterator"]||i[a(e)]}},337:function(e,t,o){"use strict";var a=o(152),n=o(146),i=o(149),r=o(326),s=o(325),c=o(157),d=o(323),l=o(336);n(n.S+n.F*!o(329)(function(e){Array.from(e)}),"Array",{from:function(e){var t,o,n,v,m=i(e),p="function"==typeof this?this:Array,h=arguments.length,u=h>1?arguments[1]:void 0,_=void 0!==u,f=0,g=l(m);if(_&&(u=a(u,h>2?arguments[2]:void 0,2)),void 0==g||p==Array&&s(g))for(t=c(m.length),o=new p(t);t>f;f++)d(o,f,_?u(m[f],f):m[f]);else for(v=g.call(m),o=new p;!(n=v.next()).done;f++)d(o,f,_?r(v,u,[n.value,f],!0):n.value);return o.length=f,o}})},338:function(e,t,o){"use strict";var a=o(335)(!0);o(328)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,o=this._i;return o>=t.length?{value:void 0,done:!0}:(e=a(t,o),this._i+=e.length,{value:e,done:!1})})},341:function(e,t){t.linear=function(e){return e},t.inQuad=function(e){return e*e},t.outQuad=function(e){return e*(2-e)},t.inOutQuad=function(e){return e*=2,e<1?.5*e*e:-.5*(--e*(e-2)-1)},t.inCube=function(e){return e*e*e},t.outCube=function(e){return--e*e*e+1},t.inOutCube=function(e){return e*=2,e<1?.5*e*e*e:.5*((e-=2)*e*e+2)},t.inQuart=function(e){return e*e*e*e},t.outQuart=function(e){return 1- --e*e*e*e},t.inOutQuart=function(e){return e*=2,e<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},t.inQuint=function(e){return e*e*e*e*e},t.outQuint=function(e){return--e*e*e*e*e+1},t.inOutQuint=function(e){return e*=2,e<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},t.inSine=function(e){return 1-Math.cos(e*Math.PI/2)},t.outSine=function(e){return Math.sin(e*Math.PI/2)},t.inOutSine=function(e){return.5*(1-Math.cos(Math.PI*e))},t.inExpo=function(e){return 0==e?0:Math.pow(1024,e-1)},t.outExpo=function(e){return 1==e?e:1-Math.pow(2,-10*e)},t.inOutExpo=function(e){return 0==e?0:1==e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},t.inCirc=function(e){return 1-Math.sqrt(1-e*e)},t.outCirc=function(e){return Math.sqrt(1- --e*e)},t.inOutCirc=function(e){return e*=2,e<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},t.inBack=function(e){var t=1.70158;return e*e*((t+1)*e-t)},t.outBack=function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},t.inOutBack=function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},t.inBounce=function(e){return 1-t.outBounce(1-e)},t.outBounce=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},t.inOutBounce=function(e){return e<.5?.5*t.inBounce(2*e):.5*t.outBounce(2*e-1)+.5},t["in-quad"]=t.inQuad,t["out-quad"]=t.outQuad,t["in-out-quad"]=t.inOutQuad,t["in-cube"]=t.inCube,t["out-cube"]=t.outCube,t["in-out-cube"]=t.inOutCube,t["in-quart"]=t.inQuart,t["out-quart"]=t.outQuart,t["in-out-quart"]=t.inOutQuart,t["in-quint"]=t.inQuint,t["out-quint"]=t.outQuint,t["in-out-quint"]=t.inOutQuint,t["in-sine"]=t.inSine,t["out-sine"]=t.outSine,t["in-out-sine"]=t.inOutSine,t["in-expo"]=t.inExpo,t["out-expo"]=t.outExpo,t["in-out-expo"]=t.inOutExpo,t["in-circ"]=t.inCirc,t["out-circ"]=t.outCirc,t["in-out-circ"]=t.inOutCirc,t["in-back"]=t.inBack,t["out-back"]=t.outBack,t["in-out-back"]=t.inOutBack,t["in-bounce"]=t.inBounce,t["out-bounce"]=t.outBounce,t["in-out-bounce"]=t.inOutBounce},344:function(e,t){!function(e,t){"use strict";function o(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||l(),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,o=t.width*t.height,a=this.intersectionRect,n=a.width*a.height;this.intersectionRatio=o?n/o:0}function a(e,t){var o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=i(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function n(){return e.performance&&performance.now&&performance.now()}function i(e,t){var o=null;return function(){o||(o=setTimeout(function(){e(),o=null},t))}}function r(e,t,o,a){"function"==typeof e.addEventListener?e.addEventListener(t,o,a||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,o)}function s(e,t,o,a){"function"==typeof e.removeEventListener?e.removeEventListener(t,o,a||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,o)}function c(e,t){var o=Math.max(e.top,t.top),a=Math.min(e.bottom,t.bottom),n=Math.max(e.left,t.left),i=Math.min(e.right,t.right),r=i-n,s=a-o;return r>=0&&s>=0&&{top:o,bottom:a,left:n,right:i,width:r,height:s}}function d(e){var t=e.getBoundingClientRect();if(t)return t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t}function l(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}if(!("IntersectionObserver"in e&&"IntersectionObserverEntry"in e&&"intersectionRatio"in e.IntersectionObserverEntry.prototype)){var v=t.documentElement,m=[];a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections()}},a.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},a.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,o){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==o[t-1]})},a.prototype._parseRootMargin=function(e){var t=e||"0px",o=t.split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return o[1]=o[1]||o[0],o[2]=o[2]||o[0],o[3]=o[3]||o[1],o},a.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this._checkForIntersections(),this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(e,"resize",this._checkForIntersections,!0),r(t,"scroll",this._checkForIntersections,!0),"MutationObserver"in e&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},a.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,s(e,"resize",this._checkForIntersections,!0),s(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},a.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),t=e?this._getRootRect():l();this._observationTargets.forEach(function(a){var i=a.element,r=d(i),s=this._rootContainsTarget(i),c=a.entry,l=e&&s&&this._computeTargetAndRootIntersection(i,t),v=a.entry=new o({time:n(),target:i,boundingClientRect:r,rootBounds:t,intersectionRect:l});e&&s?this._hasCrossedThreshold(c,v)&&this._queuedEntries.push(v):c&&c.isIntersecting&&this._queuedEntries.push(v)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},a.prototype._computeTargetAndRootIntersection=function(t,o){if("none"!=e.getComputedStyle(t).display){for(var a=d(t),n=a,i=t.parentNode,r=!1;!r;){var s=null;if(i==this.root||1!=i.nodeType?(r=!0,s=o):"visible"!=e.getComputedStyle(i).overflow&&(s=d(i)),s&&!(n=c(s,n)))break;i=i.parentNode}return n}},a.prototype._getRootRect=function(){var e;if(this.root)e=d(this.root);else{var o=t.documentElement,a=t.body;e={top:0,left:0,right:o.clientWidth||a.clientWidth,width:o.clientWidth||a.clientWidth,bottom:o.clientHeight||a.clientHeight,height:o.clientHeight||a.clientHeight}}return this._expandRectByRootMargin(e)},a.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map(function(t,o){return"px"==t.unit?t.value:t.value*(o%2?e.width:e.height)/100}),o={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return o.width=o.right-o.left,o.height=o.bottom-o.top,o},a.prototype._hasCrossedThreshold=function(e,t){var o=e&&e.isIntersecting?e.intersectionRatio||0:-1,a=t.isIntersecting?t.intersectionRatio||0:-1;if(o!==a)for(var n=0;n<this.thresholds.length;n++){var i=this.thresholds[n];if(i==o||i==a||i<o!=i<a)return!0}},a.prototype._rootIsInDom=function(){return!this.root||v.contains(this.root)},a.prototype._rootContainsTarget=function(e){return(this.root||v).contains(e)},a.prototype._registerInstance=function(){m.indexOf(this)<0&&m.push(this)},a.prototype._unregisterInstance=function(){var e=m.indexOf(this);e!=-1&&m.splice(e,1)},e.IntersectionObserver=a,e.IntersectionObserverEntry=o}}(window,document)},345:function(e,t,o){"use strict";e.exports=o(348)},346:function(e,t,o){"use strict";var a=function(e){this.element=e,this.events={}};a.prototype.bind=function(e,t){void 0===this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},a.prototype.unbind=function(e,t){var o=void 0!==t;this.events[e]=this.events[e].filter(function(a){return!(!o||a===t)||(this.element.removeEventListener(e,a,!1),!1)},this)},a.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var n=function(){this.eventElements=[]};n.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return void 0===t&&(t=new a(e),this.eventElements.push(t)),t},n.prototype.bind=function(e,t,o){this.eventElement(e).bind(t,o)},n.prototype.unbind=function(e,t,o){this.eventElement(e).unbind(t,o)},n.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},n.prototype.once=function(e,t,o){var a=this.eventElement(e),n=function(e){a.unbind(t,n),o(e)};a.bind(t,n)},e.exports=n},347:function(e,t,o){"use strict";e.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},348:function(e,t,o){"use strict";var a=o(350),n=o(358),i=o(359);e.exports={initialize:n,update:i,destroy:a}},349:function(e,t,o){"use strict";e.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},350:function(e,t,o){"use strict";var a=o(279),n=o(283),i=o(278);e.exports=function(e){var t=i.get(e);t&&(t.event.unbindAll(),n.remove(t.scrollbarX),n.remove(t.scrollbarY),n.remove(t.scrollbarXRail),n.remove(t.scrollbarYRail),a.removePsClasses(e),i.remove(e))}},351:function(e,t,o){"use strict";function a(e,t){function o(e){return e.getBoundingClientRect()}var a=function(e){e.stopPropagation()};t.event.bind(t.scrollbarY,"click",a),t.event.bind(t.scrollbarYRail,"click",function(a){var n=a.pageY-window.pageYOffset-o(t.scrollbarYRail).top,s=n>t.scrollbarYTop?1:-1;r(e,"top",e.scrollTop+s*t.containerHeight),i(e),a.stopPropagation()}),t.event.bind(t.scrollbarX,"click",a),t.event.bind(t.scrollbarXRail,"click",function(a){var n=a.pageX-window.pageXOffset-o(t.scrollbarXRail).left,s=n>t.scrollbarXLeft?1:-1;r(e,"left",e.scrollLeft+s*t.containerWidth),i(e),a.stopPropagation()})}var n=o(278),i=o(280),r=o(281);e.exports=function(e){a(e,n.get(e))}},352:function(e,t,o){"use strict";function a(e,t){function o(o){var n=a+o*t.railXRatio,r=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);t.scrollbarXLeft=n<0?0:n>r?r:n;var s=i.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment;d(e,"left",s)}var a=null,n=null,s=function(t){o(t.pageX-n),c(e),t.stopPropagation(),t.preventDefault()},l=function(){i.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",s)};t.event.bind(t.scrollbarX,"mousedown",function(o){n=o.pageX,a=i.toInt(r.css(t.scrollbarX,"left"))*t.railXRatio,i.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",s),t.event.once(t.ownerDocument,"mouseup",l),o.stopPropagation(),o.preventDefault()})}function n(e,t){function o(o){var n=a+o*t.railYRatio,r=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);t.scrollbarYTop=n<0?0:n>r?r:n;var s=i.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight));d(e,"top",s)}var a=null,n=null,s=function(t){o(t.pageY-n),c(e),t.stopPropagation(),t.preventDefault()},l=function(){i.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",s)};t.event.bind(t.scrollbarY,"mousedown",function(o){n=o.pageY,a=i.toInt(r.css(t.scrollbarY,"top"))*t.railYRatio,i.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",s),t.event.once(t.ownerDocument,"mouseup",l),o.stopPropagation(),o.preventDefault()})}var i=o(279),r=o(283),s=o(278),c=o(280),d=o(281);e.exports=function(e){var t=s.get(e);a(e,t),n(e,t)}},353:function(e,t,o){"use strict";function a(e,t){function o(o,a){var n=e.scrollTop;if(0===o){if(!t.scrollbarYActive)return!1;if(0===n&&a>0||n>=t.contentHeight-t.containerHeight&&a<0)return!t.settings.wheelPropagation}var i=e.scrollLeft;if(0===a){if(!t.scrollbarXActive)return!1;if(0===i&&o<0||i>=t.contentWidth-t.containerWidth&&o>0)return!t.settings.wheelPropagation}return!0}var a=!1;t.event.bind(e,"mouseenter",function(){a=!0}),t.event.bind(e,"mouseleave",function(){a=!1});var r=!1;t.event.bind(t.ownerDocument,"keydown",function(d){if(!(d.isDefaultPrevented&&d.isDefaultPrevented()||d.defaultPrevented)){var l=i.matches(t.scrollbarX,":focus")||i.matches(t.scrollbarY,":focus");if(a||l){var v=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(v){if("IFRAME"===v.tagName)v=v.contentDocument.activeElement;else for(;v.shadowRoot;)v=v.shadowRoot.activeElement;if(n.isEditable(v))return}var m=0,p=0;switch(d.which){case 37:m=d.metaKey?-t.contentWidth:d.altKey?-t.containerWidth:-30;break;case 38:p=d.metaKey?t.contentHeight:d.altKey?t.containerHeight:30;break;case 39:m=d.metaKey?t.contentWidth:d.altKey?t.containerWidth:30;break;case 40:p=d.metaKey?-t.contentHeight:d.altKey?-t.containerHeight:-30;break;case 33:p=90;break;case 32:p=d.shiftKey?90:-90;break;case 34:p=-90;break;case 35:p=d.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:p=d.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}c(e,"top",e.scrollTop-p),c(e,"left",e.scrollLeft+m),s(e),r=o(m,p),r&&d.preventDefault()}}})}var n=o(279),i=o(283),r=o(278),s=o(280),c=o(281);e.exports=function(e){a(e,r.get(e))}},354:function(e,t,o){"use strict";function a(e,t){function o(o,a){var n=e.scrollTop;if(0===o){if(!t.scrollbarYActive)return!1;if(0===n&&a>0||n>=t.contentHeight-t.containerHeight&&a<0)return!t.settings.wheelPropagation}var i=e.scrollLeft;if(0===a){if(!t.scrollbarXActive)return!1;if(0===i&&o<0||i>=t.contentWidth-t.containerWidth&&o>0)return!t.settings.wheelPropagation}return!0}function a(e){var t=e.deltaX,o=-1*e.deltaY;return void 0!==t&&void 0!==o||(t=-1*e.wheelDeltaX/6,o=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,o*=10),t!==t&&o!==o&&(t=0,o=e.wheelDelta),e.shiftKey?[-o,-t]:[t,o]}function n(t,o){var a=e.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(a){var n=window.getComputedStyle(a);if(![n.overflow,n.overflowX,n.overflowY].join("").match(/(scroll|auto)/))return!1;var i=a.scrollHeight-a.clientHeight;if(i>0&&!(0===a.scrollTop&&o>0||a.scrollTop===i&&o<0))return!0;var r=a.scrollLeft-a.clientWidth;if(r>0&&!(0===a.scrollLeft&&t<0||a.scrollLeft===r&&t>0))return!0}return!1}function s(s){var d=a(s),l=d[0],v=d[1];n(l,v)||(c=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(v?r(e,"top",e.scrollTop-v*t.settings.wheelSpeed):r(e,"top",e.scrollTop+l*t.settings.wheelSpeed),c=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(l?r(e,"left",e.scrollLeft+l*t.settings.wheelSpeed):r(e,"left",e.scrollLeft-v*t.settings.wheelSpeed),c=!0):(r(e,"top",e.scrollTop-v*t.settings.wheelSpeed),r(e,"left",e.scrollLeft+l*t.settings.wheelSpeed)),i(e),(c=c||o(l,v))&&(s.stopPropagation(),s.preventDefault()))}var c=!1;void 0!==window.onwheel?t.event.bind(e,"wheel",s):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",s)}var n=o(278),i=o(280),r=o(281);e.exports=function(e){a(e,n.get(e))}},355:function(e,t,o){"use strict";function a(e,t){t.event.bind(e,"scroll",function(){i(e)})}var n=o(278),i=o(280);e.exports=function(e){a(e,n.get(e))}},356:function(e,t,o){"use strict";function a(e,t){function o(){var e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===e.toString().length?null:e.getRangeAt(0).commonAncestorContainer}function a(){d||(d=setInterval(function(){if(!i.get(e))return void clearInterval(d);s(e,"top",e.scrollTop+l.top),s(e,"left",e.scrollLeft+l.left),r(e)},50))}function c(){d&&(clearInterval(d),d=null),n.stopScrolling(e)}var d=null,l={top:0,left:0},v=!1;t.event.bind(t.ownerDocument,"selectionchange",function(){e.contains(o())?v=!0:(v=!1,c())}),t.event.bind(window,"mouseup",function(){v&&(v=!1,c())}),t.event.bind(window,"keyup",function(){v&&(v=!1,c())}),t.event.bind(window,"mousemove",function(t){if(v){var o={x:t.pageX,y:t.pageY},i={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};o.x<i.left+3?(l.left=-5,n.startScrolling(e,"x")):o.x>i.right-3?(l.left=5,n.startScrolling(e,"x")):l.left=0,o.y<i.top+3?(i.top+3-o.y<5?l.top=-5:l.top=-20,n.startScrolling(e,"y")):o.y>i.bottom-3?(o.y-i.bottom+3<5?l.top=5:l.top=20,n.startScrolling(e,"y")):l.top=0,0===l.top&&0===l.left?c():a()}})}var n=o(279),i=o(278),r=o(280),s=o(281);e.exports=function(e){a(e,i.get(e))}},357:function(e,t,o){"use strict";function a(e,t,o,a){function n(o,a){var n=e.scrollTop,i=e.scrollLeft,r=Math.abs(o),s=Math.abs(a);if(s>r){if(a<0&&n===t.contentHeight-t.containerHeight||a>0&&0===n)return!t.settings.swipePropagation}else if(r>s&&(o<0&&i===t.contentWidth-t.containerWidth||o>0&&0===i))return!t.settings.swipePropagation;return!0}function c(t,o){s(e,"top",e.scrollTop-o),s(e,"left",e.scrollLeft-t),r(e)}function d(){k=!0}function l(){k=!1}function v(e){return e.targetTouches?e.targetTouches[0]:e}function m(e){return!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function p(e){if(m(e)){A=!0;var t=v(e);_.pageX=t.pageX,_.pageY=t.pageY,f=(new Date).getTime(),null!==b&&clearInterval(b),e.stopPropagation()}}function h(e){if(!A&&t.settings.swipePropagation&&p(e),!k&&A&&m(e)){var o=v(e),a={pageX:o.pageX,pageY:o.pageY},i=a.pageX-_.pageX,r=a.pageY-_.pageY;c(i,r),_=a;var s=(new Date).getTime(),d=s-f;d>0&&(g.x=i/d,g.y=r/d,f=s),n(i,r)&&(e.stopPropagation(),e.preventDefault())}}function u(){!k&&A&&(A=!1,t.settings.swipeEasing&&(clearInterval(b),b=setInterval(function(){return i.get(e)&&(g.x||g.y)?Math.abs(g.x)<.01&&Math.abs(g.y)<.01?void clearInterval(b):(c(30*g.x,30*g.y),g.x*=.8,void(g.y*=.8)):void clearInterval(b)},10)))}var _={},f=0,g={},b=null,k=!1,A=!1;o?(t.event.bind(window,"touchstart",d),t.event.bind(window,"touchend",l),t.event.bind(e,"touchstart",p),t.event.bind(e,"touchmove",h),t.event.bind(e,"touchend",u)):a&&(window.PointerEvent?(t.event.bind(window,"pointerdown",d),t.event.bind(window,"pointerup",l),t.event.bind(e,"pointerdown",p),t.event.bind(e,"pointermove",h),t.event.bind(e,"pointerup",u)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",d),t.event.bind(window,"MSPointerUp",l),t.event.bind(e,"MSPointerDown",p),t.event.bind(e,"MSPointerMove",h),t.event.bind(e,"MSPointerUp",u)))}var n=o(279),i=o(278),r=o(280),s=o(281);e.exports=function(e){if(n.env.supportsTouch||n.env.supportsIePointer){a(e,i.get(e),n.env.supportsTouch,n.env.supportsIePointer)}}},358:function(e,t,o){"use strict";var a=o(279),n=o(284),i=o(278),r=o(280),s={"click-rail":o(351),"drag-scrollbar":o(352),keyboard:o(353),wheel:o(354),touch:o(357),selection:o(356)},c=o(355);e.exports=function(e,t){t="object"==typeof t?t:{},n.add(e,"ps");var o=i.add(e);o.settings=a.extend(o.settings,t),n.add(e,"ps--theme_"+o.settings.theme),o.settings.handlers.forEach(function(t){s[t](e)}),c(e),r(e)}},359:function(e,t,o){"use strict";var a=o(279),n=o(283),i=o(278),r=o(280),s=o(281);e.exports=function(e){var t=i.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,n.css(t.scrollbarXRail,"display","block"),n.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=a.toInt(n.css(t.scrollbarXRail,"marginLeft"))+a.toInt(n.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=a.toInt(n.css(t.scrollbarYRail,"marginTop"))+a.toInt(n.css(t.scrollbarYRail,"marginBottom")),n.css(t.scrollbarXRail,"display","none"),n.css(t.scrollbarYRail,"display","none"),r(e),s(e,"top",e.scrollTop),s(e,"left",e.scrollLeft),n.css(t.scrollbarXRail,"display",""),n.css(t.scrollbarYRail,"display",""))}},360:function(e,t,o){function a(e,t,o){function a(){r(a),c.update()}o=o||{};var s=n(),c=i(s).ease(o.ease||"out-circ").to({top:t,left:e}).duration(o.duration||1e3);return c.update(function(e){window.scrollTo(0|e.left,0|e.top)}),c.on("end",function(){a=function(){}}),a(),c}function n(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}}var i=o(319),r=o(318);e.exports=a},402:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(288),n=o.n(a);t.default={name:"locale-menu",components:{OverlayBtn:n.a},computed:{dir:function(){return"/"+this.path+"/"},languages:function(){var e=this.langs;return this.allLanguages.filter(function(t){return e.includes(t.code)})}},data:function(){return{maximized:!1,allLanguages:[{name:"English",code:"en-US"},{name:"Português",code:"pt"},{name:"日本語",code:"ja"},{name:"한국어",code:"ko"},{name:"简体中文",code:"zh-CN"}]}},methods:{toggle:function(e){this.maximized=!this.maximized},set:function(e){this.maximized=e}},props:["path","langs"]}},404:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(3),n=o.n(a),i=o(345),r=o.n(i),s=o(315),c=o(312),d=o(314),l=o(313),v=o(425),m=o.n(v),p=o(295),h=o.n(p),u=o(288),_=o.n(u),f=o(2);t.default={name:"page-whitepaper-nav",components:{LocaleMenu:m.a,OverlayBtns:h.a,OverlayBtn:_.a},computed:n()({},o.i(f.a)(["whitepaperTocVisible","whitepaperElementsVisible"])),methods:{setTocVisOnWidth:function(){document.documentElement.clientWidth>=1024?this.tocVisible(!0):this.tocVisible(!1)},tocVisible:function(e){e?(document.querySelector(".minimal-toc").style.display="block",this.initToc()):(document.querySelector(".minimal-toc").style.display="none",this.destroyToc())},initToc:function(){r.a.initialize(document.querySelector(".minimal-toc")),this.$store.commit("setWhitepaperTocVisible",!0),o.i(s.a)(this.tocVisible),this.$store.commit("setWhitepaperElementsVisible",o.i(c.a)(document.querySelectorAll("h2, h3, h4, h5"))),o.i(l.a)()},destroyToc:function(){r.a.destroy(document.querySelector(".minimal-toc")),this.$store.commit("setWhitepaperTocVisible",!1)}},mounted:function(){this.setTocVisOnWidth()},watch:{whitepaperElementsVisible:function(){o.i(d.a)(this.whitepaperElementsVisible)},"$route.params.locale":function(){var e=this;setTimeout(function(){return e.setTocVisOnWidth()},100)}}}},405:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"toc-padding"}},406:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(426),n=o.n(a),i=o(298),r=o.n(i);t.default={name:"toc-page",components:{ArticleBody:r.a,TocPadding:n.a},props:["tocVisible"]}},407:function(e,t,o){t=e.exports=o(276)(!0),t.push([e.i,'.minimal-toc{z-index:98;font-family:system,-apple-system,BlinkMacSystemFont,Roboto,Seogue UI,Helvetica Neue,Lucida Grande,sans-serif;overflow:hidden;position:fixed;font-size:.875rem;display:none}.minimal-toc a{text-decoration:none!important;color:#000}.minimal-toc ul{padding:0!important}.minimal-toc ul li{margin-bottom:0!important;list-style:none!important}.minimal-toc ul li a{position:relative;line-height:1.25;padding:.375rem 1.5em}.minimal-toc ul li a:hover{color:#007ae6;text-decoration:none}.minimal-toc ul li a.active{position:relative;color:#999}.minimal-toc ul li a.active:before{width:1.5rem;height:2rem;color:#007ae6;position:absolute;top:0;left:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;content:"\\F0DA";font-family:FontAwesome;color:#999}.minimal-toc>ul>li:last-of-type{border-bottom:none}.minimal-toc>ul>li>a{display:block;color:#000;font-weight:700;padding:.5em 1.5em}.minimal-toc>ul>li ul{margin-bottom:0}.minimal-toc>ul>li ul li a{display:block;padding-left:3em;font-weight:500}.minimal-toc>ul>li ul ul{padding:0}.minimal-toc>ul>li ul ul li a{padding-left:4.5em;font-weight:300}@media screen and (min-width:360px){.minimal-toc{font-size:1rem}}@media screen and (min-width:768px){.minimal-toc{padding:3rem}}@media screen and (max-width:1023px){.minimal-toc{background:#fafafa;top:3rem;left:0;right:0;bottom:0}.minimal-toc:before{display:block;padding:0 1.25rem;content:"Table of Contents";color:#000;line-height:2rem;border-bottom:1px solid #f2f2f2;text-transform:uppercase}}@media screen and (min-width:1024px){.minimal-toc{z-index:99;top:3rem;left:0;bottom:0;max-height:100vh;width:20rem;padding:.5rem 0 0;border-right:1px solid #f2f2f2}}@media screen and (min-width:1280px){.minimal-toc{padding:3rem;width:26rem}}',"",{version:3,sources:["/home/ubuntu/www/cosmos.network/src/components/TocPage.vue"],names:[],mappings:"AACA,aACE,WAAY,AACZ,6GAA6H,AAC7H,gBAAiB,AACjB,eAAgB,AAChB,kBAAoB,AACpB,YAAc,CACf,AACD,eACE,+BAAiC,AACjC,UAAY,CACb,AACD,gBACE,mBAAsB,CACvB,AACD,mBACE,0BAA4B,AAC5B,yBAA4B,CAC7B,AACD,qBACE,kBAAmB,AACnB,iBAAkB,AAClB,qBAAwB,CACzB,AACD,2BACE,cAAe,AACf,oBAAsB,CACvB,AACD,4BACE,kBAAmB,AACnB,UAAY,CACb,AACD,mCACE,aAAc,AACd,YAAa,AACb,cAAe,AACf,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,gBAAiB,AACjB,wBAAyB,AACzB,UAAY,CACb,AACD,gCACE,kBAAoB,CACrB,AACD,qBACE,cAAe,AACf,WAAY,AACZ,gBAAkB,AAClB,kBAAqB,CACtB,AACD,sBACE,eAAiB,CAClB,AACD,2BACE,cAAe,AACf,iBAAkB,AAClB,eAAiB,CAClB,AACD,yBACE,SAAW,CACZ,AACD,8BACE,mBAAoB,AACpB,eAAiB,CAClB,AACD,oCACA,aACI,cAAgB,CACnB,CACA,AACD,oCACA,aACI,YAAc,CACjB,CACA,AACD,qCACA,aACI,mBAAoB,AACpB,SAAU,AACV,OAAQ,AACR,QAAS,AACT,QAAU,CACb,AACD,oBACI,cAAe,AACf,kBAAmB,AACnB,4BAA6B,AAC7B,WAAY,AACZ,iBAAkB,AAClB,gCAAiC,AACjC,wBAA0B,CAC7B,CACA,AACD,qCACA,aACI,WAAY,AACZ,SAAU,AACV,OAAQ,AACR,SAAU,AACV,iBAAkB,AAClB,YAAa,AACb,kBAAoB,AACpB,8BAAgC,CACnC,CACA,AACD,qCACA,aACI,aAAc,AACd,WAAa,CAChB,CACA",file:"TocPage.vue",sourcesContent:['\n.minimal-toc {\n  z-index: 98;\n  font-family: system, -apple-system, BlinkMacSystemFont, "Roboto", "Seogue UI", "Helvetica Neue", "Lucida Grande", sans-serif;\n  overflow: hidden;\n  position: fixed;\n  font-size: 0.875rem;\n  display: none;\n}\n.minimal-toc a {\n  text-decoration: none !important;\n  color: #000;\n}\n.minimal-toc ul {\n  padding: 0 !important;\n}\n.minimal-toc ul li {\n  margin-bottom: 0 !important;\n  list-style: none !important;\n}\n.minimal-toc ul li a {\n  position: relative;\n  line-height: 1.25;\n  padding: 0.375rem 1.5em;\n}\n.minimal-toc ul li a:hover {\n  color: #007ae6;\n  text-decoration: none;\n}\n.minimal-toc ul li a.active {\n  position: relative;\n  color: #999;\n}\n.minimal-toc ul li a.active:before {\n  width: 1.5rem;\n  height: 2rem;\n  color: #007ae6;\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  content: \'\\f0da\';\n  font-family: FontAwesome;\n  color: #999;\n}\n.minimal-toc > ul > li:last-of-type {\n  border-bottom: none;\n}\n.minimal-toc > ul > li > a {\n  display: block;\n  color: #000;\n  font-weight: bold;\n  padding: 0.5em 1.5em;\n}\n.minimal-toc > ul > li ul {\n  margin-bottom: 0;\n}\n.minimal-toc > ul > li ul li a {\n  display: block;\n  padding-left: 3em;\n  font-weight: 500;\n}\n.minimal-toc > ul > li ul ul {\n  padding: 0;\n}\n.minimal-toc > ul > li ul ul li a {\n  padding-left: 4.5em;\n  font-weight: 300;\n}\n@media screen and (min-width: 360px) {\n.minimal-toc {\n    font-size: 1rem;\n}\n}\n@media screen and (min-width: 768px) {\n.minimal-toc {\n    padding: 3rem;\n}\n}\n@media screen and (max-width: 1023px) {\n.minimal-toc {\n    background: #fafafa;\n    top: 3rem;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n.minimal-toc:before {\n    display: block;\n    padding: 0 1.25rem;\n    content: \'Table of Contents\';\n    color: #000;\n    line-height: 2rem;\n    border-bottom: 1px solid #f2f2f2;\n    text-transform: uppercase;\n}\n}\n@media screen and (min-width: 1024px) {\n.minimal-toc {\n    z-index: 99;\n    top: 3rem;\n    left: 0;\n    bottom: 0;\n    max-height: 100vh;\n    width: 20rem;\n    padding: 0.5rem 0 0;\n    border-right: 1px solid #f2f2f2;\n}\n}\n@media screen and (min-width: 1280px) {\n.minimal-toc {\n    padding: 3rem;\n    width: 26rem;\n}\n}'],sourceRoot:""}])},408:function(e,t,o){t=e.exports=o(276)(!0),t.push([e.i,".page-whitepaper-nav i{line-height:3rem}","",{version:3,sources:["/home/ubuntu/www/cosmos.network/src/components/PageWhitepaperNav.vue"],names:[],mappings:"AACA,uBACE,gBAAkB,CACnB",file:"PageWhitepaperNav.vue",sourcesContent:["\n.page-whitepaper-nav i {\n  line-height: 3rem;\n}"],sourceRoot:""}])},409:function(e,t,o){t=e.exports=o(276)(!0),t.push([e.i,"@media screen and (min-width:1024px){.toc-padding.toc-visible{margin-left:20rem}}@media screen and (min-width:1280px){.toc-padding.toc-visible{margin-left:26rem}}","",{version:3,sources:["/home/ubuntu/www/cosmos.network/src/components/TocPadding.vue"],names:[],mappings:"AACA,qCACA,yBACI,iBAAmB,CACtB,CACA,AACD,qCACA,yBACI,iBAAmB,CACtB,CACA",file:"TocPadding.vue",sourcesContent:["\n@media screen and (min-width: 1024px) {\n.toc-padding.toc-visible {\n    margin-left: 20rem;\n}\n}\n@media screen and (min-width: 1280px) {\n.toc-padding.toc-visible {\n    margin-left: 26rem;\n}\n}"],sourceRoot:""}])},411:function(e,t,o){t=e.exports=o(276)(!0),t.push([e.i,".locale-menu-container{position:relative}.locale-menu{background:hsla(0,0%,100%,.95);-webkit-backdrop-filter:blur(.125rem);backdrop-filter:blur(.125rem);box-shadow:0 1px 3px rgba(0,0,0,.1);position:absolute;bottom:3em;right:-.5em;width:100vw;max-width:20rem;z-index:100}.locale-menu a{display:block;line-height:3em;border-bottom:1px solid #f2f2f2;padding:0 1.25rem;cursor:pointer;color:#000}.locale-menu a:hover{color:#007ae6}.locale-menu a.router-link-active{color:#999}.locale-menu a:last-of-type{border-bottom:none}@media screen and (min-width:1024px){.locale-menu-container{bottom:.5rem}}","",{version:3,sources:["/home/ubuntu/www/cosmos.network/src/components/LocaleMenu.vue"],names:[],mappings:"AACA,uBACE,iBAAmB,CACpB,AACD,aACE,+BAAmC,AACnC,sCAAwC,AAChC,8BAAgC,AACxC,oCAAsC,AAGtC,kBAAmB,AACnB,WAAY,AACZ,YAAc,AACd,YAAa,AACb,gBAAiB,AACjB,WAAa,CAPd,AASD,eACE,cAAe,AACf,gBAAiB,AACjB,gCAAiC,AACjC,kBAAmB,AACnB,eAAgB,AAChB,UAAY,CACb,AACD,qBACE,aAAe,CAChB,AACD,kCACE,UAAY,CACb,AACD,4BACE,kBAAoB,CACrB,AACD,qCACA,uBACI,YAAe,CAClB,CACA",file:"LocaleMenu.vue",sourcesContent:["\n.locale-menu-container {\n  position: relative;\n}\n.locale-menu {\n  background: rgba(255,255,255,0.95);\n  -webkit-backdrop-filter: blur(0.125rem);\n          backdrop-filter: blur(0.125rem);\n  box-shadow: rgba(0,0,0,0.1) 0 1px 3px;\n}\n.locale-menu {\n  position: absolute;\n  bottom: 3em;\n  right: -0.5em;\n  width: 100vw;\n  max-width: 20rem;\n  z-index: 100;\n}\n.locale-menu a {\n  display: block;\n  line-height: 3em;\n  border-bottom: 1px solid #f2f2f2;\n  padding: 0 1.25rem;\n  cursor: pointer;\n  color: #000;\n}\n.locale-menu a:hover {\n  color: #007ae6;\n}\n.locale-menu a.router-link-active {\n  color: #999;\n}\n.locale-menu a:last-of-type {\n  border-bottom: none;\n}\n@media screen and (min-width: 1024px) {\n.locale-menu-container {\n    bottom: 0.5rem;\n}\n}"],sourceRoot:""}])},412:function(e,t,o){var a=o(407);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(277)("d4468748",a,!0)},413:function(e,t,o){var a=o(408);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(277)("1d77a15f",a,!0)},414:function(e,t,o){var a=o(409);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(277)("39bf4128",a,!0)},416:function(e,t,o){var a=o(411);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(277)("332503bf",a,!0)},425:function(e,t,o){o(416);var a=o(1)(o(402),o(433),null,null);e.exports=a.exports},426:function(e,t,o){o(414);var a=o(1)(o(405),o(430),null,null);e.exports=a.exports},427:function(e,t,o){o(412);var a=o(1)(o(406),o(428),null,null);e.exports=a.exports},428:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"toc-page"},[e._t("locale"),e._v(" "),e._t("nav"),e._v(" "),o("toc-padding",{class:{"toc-visible":e.tocVisible}},[o("article-body",[e._t("default")],2)],1)],2)},staticRenderFns:[]}},429:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"page-whitepaper-nav "},[o("overlay-btns",[o("locale-menu",{attrs:{path:"whitepaper",langs:["en-US","ko","pt","zh-CN"]}}),e._v(" "),o("overlay-btn",{directives:[{name:"show",rawName:"v-show",value:!e.whitepaperTocVisible,expression:"!whitepaperTocVisible"}],attrs:{icon:"list-ol"},nativeOn:{click:function(t){e.tocVisible(!0)}}}),e._v(" "),o("overlay-btn",{directives:[{name:"show",rawName:"v-show",value:e.whitepaperTocVisible,expression:"whitepaperTocVisible"}],staticClass:"mobile-only",attrs:{icon:"times"},nativeOn:{click:function(t){e.tocVisible(!1)}}})],1)],1)},staticRenderFns:[]}},430:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"toc-padding"},[e._t("default")],2)},staticRenderFns:[]}},433:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"locale-menu-container"},[e.maximized?o("overlay-btn",{attrs:{icon:"times"},nativeOn:{click:function(t){e.toggle(!0)}}}):o("overlay-btn",{attrs:{icon:"globe"},nativeOn:{click:function(t){e.toggle(!0)}}}),e._v(" "),o("menu",{directives:[{name:"show",rawName:"v-show",value:e.maximized,expression:"maximized"}],staticClass:"locale-menu"},[e._l(e.languages,function(t){return["en-US"===t.code?o("router-link",{attrs:{to:e.dir,exact:""},nativeOn:{click:function(t){e.set(!1)}}},[e._v("\n        "+e._s(t.name)+"\n      ")]):o("router-link",{attrs:{to:e.dir+t.code},nativeOn:{click:function(t){e.set(!1)}}},[e._v("\n        "+e._s(t.name)+"\n      ")])]})],2)],1)},staticRenderFns:[]}},450:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(3),n=o.n(a),i=o(2),r=o(298),s=o.n(r),c=o(160),d=o.n(c),l=o(558),v=o.n(l),m=o(561),p=o.n(m),h=o(562),u=o.n(h),_=o(563),f=o.n(_),g=o(427),b=o.n(g);t.default={components:{ArticleBody:s.a,PageNav:d.a,TextEnUs:v.a,TextKo:p.a,TextPt:u.a,TextZhCn:f.a,TocPage:b.a},computed:n()({},o.i(i.a)(["whitepaperTocVisible"])),data:function(){return{metadata:{title:"Whitepaper",desc:"Read the whitepaper to learn everything about Cosmos: The Internet of Blockchains."}}},head:{title:function(){return{inner:this.metadata.title,separator:"-",complement:"Cosmos - Internet of Blockchains"}},meta:function(){return[{n:"description",c:this.metadata.desc},{n:"twitter:title",c:this.metadata.title},{n:"twitter:description",c:this.metadata.desc},{p:"og:title",c:this.metadata.title},{p:"og:description",c:this.metadata.desc}]}},mounted:function(){document.documentElement.clientWidth>=1024&&this.$store.commit("setWhitepaperTocVisible",!0)}}},462:function(e,t,o){t=e.exports=o(276)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"PageWhitepaper.vue",sourceRoot:""}])},476:function(e,t,o){var a=o(462);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(277)("7da03703",a,!0)},514:function(e,t,o){var a=o(1)(null,o(544),null,null);e.exports=a.exports},517:function(e,t,o){var a=o(1)(null,o(534),null,null);e.exports=a.exports},518:function(e,t,o){var a=o(1)(null,o(538),null,null);e.exports=a.exports},519:function(e,t,o){var a=o(1)(null,o(528),null,null);e.exports=a.exports},528:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("h1",{attrs:{id:"cosmos"}},[e._v("Cosmos")]),e._v(" "),o("p",[e._v("分布式账本网络")]),e._v(" "),o("p",[e._v("Jae Kwon "),o("a",{attrs:{href:"mailto:jae@tendermint.com"}},[e._v("jae@tendermint.com")]),o("br"),e._v("\nEthan Buchman "),o("a",{attrs:{href:"mailto:ethan@tendermint.com"}},[e._v("ethan@tendermint.com")])]),e._v(" "),o("p",[e._v("加入我们的 "),o("a",{attrs:{href:"https://cosmos.rocket.chat"}},[e._v("Rocket")]),e._v("一起讨论吧！")]),e._v(" "),o("p",[o("em",[e._v("注意：我们会对内容进行定期更新，您可以随时进行查阅，谢谢！")])]),e._v(" "),o("p"),o("div",{staticClass:"minimal-toc"},[o("ul",[o("li",[o("a",{attrs:{href:"#"}},[e._v("介绍")])]),o("li",[o("a",{attrs:{href:"#tendermint"}},[e._v("Tendermint")]),o("ul",[o("li",[o("a",{attrs:{href:"#"}},[e._v("验证人")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("共识")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("轻客户端")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("防止攻击")])]),o("li",[o("a",{attrs:{href:"#tmsp"}},[e._v("TMSP")])])])]),o("li",[o("a",{attrs:{href:"#cosmos"}},[e._v("Cosmos概述")]),o("ul",[o("li",[o("a",{attrs:{href:"#tenderminttendermint-bft-dpos"}},[e._v("Tendermint拜占庭容错股份授权证明机制(Tendermint-BFT DPoS)")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("管理")])])])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("中心与空间")]),o("ul",[o("li",[o("a",{attrs:{href:"#hub"}},[e._v("中心（Hub）")])]),o("li",[o("a",{attrs:{href:"#zones"}},[e._v("空间（Zones）")])])])]),o("li",[o("a",{attrs:{href:"#ibc"}},[e._v("区块链间通信（IBC）")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("用例")]),o("ul",[o("li",[o("a",{attrs:{href:"#"}},[e._v("分布式交易所")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("和其他加密货币挂钩")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("以太坊的扩展")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("多应用一体化")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("缓解网络分区问题")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("联邦式名称解析系统")])])])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("发行与激励")]),o("ul",[o("li",[o("a",{attrs:{href:"#atom"}},[e._v("Atom代币")]),o("ul",[o("li",[o("a",{attrs:{href:"#"}},[e._v("众筹")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("归属")])])])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("验证人的数量上限")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("成为创世日后首个验证人")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("针对验证人的惩罚")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("交易费用")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("激励黑客")])])])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("管理")]),o("ul",[o("li",[o("a",{attrs:{href:"#"}},[e._v("参数改变提案")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("文本提案")])])])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("路线图")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("相关工作")]),o("ul",[o("li",[o("a",{attrs:{href:"#"}},[e._v("共识系统")]),o("ul",[o("li",[o("a",{attrs:{href:"#"}},[e._v("经典拜占庭容错")])]),o("li",[o("a",{attrs:{href:"#bitshare"}},[e._v("BitShare委托权益")])]),o("li",[o("a",{attrs:{href:"#stellar"}},[e._v("Stellar")])]),o("li",[o("a",{attrs:{href:"#bitcoinng"}},[e._v("BitcoinNG")])]),o("li",[o("a",{attrs:{href:"#casper"}},[e._v("Casper")])])])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("水平扩展")]),o("ul",[o("li",[o("a",{attrs:{href:"#interledger"}},[e._v("Interledger 协议")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("侧链")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("以太坊在可扩展方面的努力")]),o("ul",[o("li",[o("a",{attrs:{href:"#cosmos-vs-20-mauve"}},[e._v("Cosmos vs 以太坊2.0 Mauve")])])])])])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("普通扩展")]),o("ul",[o("li",[o("a",{attrs:{href:"#"}},[e._v("闪电网络")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("隔离见证")])])])])])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("附录")]),o("ul",[o("li",[o("a",{attrs:{href:"#"}},[e._v("分叉问责制")])]),o("li",[o("a",{attrs:{href:"#tendermint"}},[e._v("Tendermint共识")])]),o("li",[o("a",{attrs:{href:"#tendermint"}},[e._v("Tendermint轻客戸端")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("预防远距离攻击")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("克服分叉及审查攻击")])]),o("li",[o("a",{attrs:{href:"#tmsp"}},[e._v("TMSP具体说明")]),o("ul",[o("li",[o("a",{attrs:{href:"#appendtx"}},[e._v("AppendTx（附加交易）")])]),o("li",[o("a",{attrs:{href:"#checktx"}},[e._v("CheckTx（检查交易）")])]),o("li",[o("a",{attrs:{href:"#commit"}},[e._v("Commit（提交）")])]),o("li",[o("a",{attrs:{href:"#query"}},[e._v("Query（查询）")])]),o("li",[o("a",{attrs:{href:"#flush"}},[e._v("Flush（划掉）")])]),o("li",[o("a",{attrs:{href:"#info"}},[e._v("Info（信息）")])]),o("li",[o("a",{attrs:{href:"#setoption"}},[e._v("SetOption（设置选项）")])]),o("li",[o("a",{attrs:{href:"#initchain"}},[e._v("InitChain（初始链）")])]),o("li",[o("a",{attrs:{href:"#beginblock"}},[e._v("BeginBlock（起始块）")])]),o("li",[o("a",{attrs:{href:"#endblock"}},[e._v("EndBlock（结束区块）")])])])]),o("li",[o("a",{attrs:{href:"#ibc"}},[e._v("IBC包交付确认")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("梅克尔树及梅克尔证明说明")]),o("ul",[o("li",[o("a",{attrs:{href:"#"}},[e._v("简易版梅克尔树")])]),o("li",[o("a",{attrs:{href:"#iavl"}},[e._v("IAVL+梅克尔树")])])])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("交易类型")]),o("ul",[o("li",[o("a",{attrs:{href:"#ibcblockcommittxibc"}},[e._v("IBCBlockCommitTx（IBC区块提交交易）")])]),o("li",[o("a",{attrs:{href:"#ibcpackettxibc"}},[e._v("IBCPacketTx（IBC包交易）")])])])])])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("鸣谢")])]),o("li",[o("a",{attrs:{href:"#"}},[e._v("引用")]),o("ul",[o("li",[o("a",{attrs:{href:"#"}},[e._v("未分类链接")])])])])])]),o("p"),e._v(" "),o("h2",{attrs:{id:""}},[e._v("介绍")]),e._v(" "),o("p",[e._v("开源的生态系统、去中心化的文件共享、以及公共的加密货币，这一系列技术的成功让人们开始了解到，去中心化互联网协议是可以用来彻底改善社会经济基础架构的。我们见证了专业区块链应用的诞生，比如比特币  "),o("a",{attrs:{href:"1"}},[e._v("[1]")]),e._v("（加密货币），Zerocash "),o("a",{attrs:{href:"2"}},[e._v("[2]")]),e._v("（私有加密货币），也看到了大众化智能合约平台，比如以太坊 "),o("a",{attrs:{href:"3"}},[e._v("[3]")]),e._v("，此外还有其他无数针对EVM（以太坊虚拟机）的分布式应用，如Augur（预测市场）以及The DAO  "),o("a",{attrs:{href:"4"}},[e._v("[4]")]),e._v("（投资俱乐部）。")]),e._v(" "),o("p",[e._v("但是，到目前为止，这些区块链已经暴露了各种缺陷，包括总能量低效、功能不佳或受限、并且缺乏成熟的管理机制。为了扩大比特币交易吞吐量，已经研发了许多诸如隔离见证（Segregated-Witness） "),o("a",{attrs:{href:"5"}},[e._v("[5]")]),e._v("和BitcoinNG "),o("a",{attrs:{href:"6"}},[e._v("[6]")]),e._v("这样的解决方案，但是这些垂直扩展方案都因单一物理机容量而受到限制，不然就得损害其可审核性这一特性。闪电网络  "),o("a",{attrs:{href:"7"}},[e._v("[7]")]),e._v("可以通过让部分交易完全记录在账本外，来帮助扩大比特币交易额，这个方法非常适合微支付以及隐私保护支付轨道，但是可能无法满足更广泛的扩展需求。")]),e._v(" "),o("p",[e._v("理想的解决方案是在允许多个平行区块链互相操作的同时，保留安全特性。不过事实证明，采用工作量证明很难做到这一点，但也并非不可能。例如合并挖矿可以在完成工作的同时，让母链得以在子链上重复使用。不过这样还是需要通过每个节点，依次对交易进行验证，而且如果母链上大多数哈希力没有积极地对子链进行合并挖矿，那么就很容易遭到攻击。关于 "),o("a",{attrs:{href:"http://vukolic.com/iNetSec_2015.pdf"}},[e._v("可替代区块链网络架构的学术回顾")]),e._v("将在辅助材料中呈现，我们会在 "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/WHITEPAPER.md#related-work"}},[e._v("相关作品")]),e._v("中对更多提议及其缺点进行概括。")]),e._v(" "),o("p",[e._v('这里我们要介绍的是Cosmos，这是一个全新区块链网络架构，能够解决所有问题。Cosmos是一个涵盖众多独立区块链的网络，叫做"空间"。空间在Tendermint Core  '),o("a",{attrs:{href:"8"}},[e._v("[8]")]),e._v("支持下运行，是一个类似实用拜占庭容错的安全共识引擎，兼具高性能、一致性等特点，而且在其严格的分叉责任制保证下，能够防止怀有恶意的参与者做出不当操作。Tendermint Core的拜占庭容错共识算法，非常适合用来扩展权益证明机制下的公共区块链。")]),e._v(" "),o("p",[e._v('Cosmos上的第一个空间叫做"Cosmos Hub"（Cosmos中心）。Cosmos中心是一种多资产权益证明加密货币网络，它通过简单的管理机制来实现网络的改动与更新。此外，Cosmos中心还可以通过连接其他空间来实现扩展。')]),e._v(" "),o("p",[e._v("Cosmos网络的中心及各个空间可以通过区块链间通信（IBC）协议进行沟通，这种协议就是针对区块链的虚拟用户数据报协议（UDP）或者传输控制协议（TCP）。代币可以安全快速地从一个空间传递到另一个空间，两者之间无需体现汇兑流动性。相反，空间内部所有代币的转移都会通过Cosmos 中心，它会记录每个空间所持有的代币总量。这个中心会将每个空间与其他故障空间隔离开。因为每个人都将新空间连接到Cosmos中心，所以空间今后也可以兼容新的区块链技术。")]),e._v(" "),o("h2",{attrs:{id:"tendermint"}},[e._v("Tendermint")]),e._v(" "),o("p",[e._v("这一部分将对Tendermint共识协议及其用来创建应用程序的界面进行介绍。更多细节，详见 "),o("a",{attrs:{href:"#appendix"}},[e._v("附录")]),e._v("。")]),e._v(" "),o("h3",{attrs:{id:"-2"}},[e._v("验证人")]),e._v(" "),o("p",[e._v('在经典拜占庭容错（BFT）算法中，每个节点都同样重要。在Tendermint网络里，节点的投票权不能为负，而拥有投票权的节点被称作"验证人"。验证人通过传播加密签名或选票，来参与共识协议并商定下一区块。')]),e._v(" "),o("p",[e._v("验证人的投票权是一开始就确定好的，或者根据应用程序由区块链来决定是否有改变。比如，在Cosmos中心这种权益证明类应用程序中，投票权可能就是通过绑定为保证金的代币数量来确定的。")]),e._v(" "),o("p",[o("em",[e._v('注意：像⅔和⅓这样的分数指的是占总投票权的分数，而不是总验证人，除非所有验证人拥有相同币种。而+⅔ 的意思是"超过⅔ "，⅓+则是"⅓或者更多"的意思。')])]),e._v(" "),o("h3",{attrs:{id:"-3"}},[e._v("共识")]),e._v(" "),o("p",[e._v("Tendermint是部分同步运作的拜占庭容错共识协议，这种协议源自DLS共识算法 "),o("a",{attrs:{href:"20"}},[e._v("[20]")]),e._v("。Tendermint的特点就在于其简易性、高性能以及分叉责任制。协议要求有固定且熟知的一组验证人，其中每个验证人通过公钥进行身份验证。这些验证人会尝试在某个区块上同时达成共识（这里的区块是指一份交易列表）。每个区块的共识轮流进行，每一轮都会有个领头人，或者提议人，由他们来发起区块。之后验证人分阶段对是否接受该区块，或者是否进入下一轮做出投票。每轮的提议人会从验证人顺序列表中按照其选票比例来选择确定。")]),e._v(" "),o("p",[e._v("该协议全部细节请参考 "),o("a",{attrs:{href:"https://github.com/tendermint/tendermint/wiki/Byzantine-Consensus-Algorithm"}},[e._v("此处")]),e._v("。")]),e._v(" "),o("p",[e._v("Tendermint采用由绝对多数的选票（+⅔）选定的最优拜占庭容错算法，以及一套锁定机制来确保安全性。对此他们保证：")]),e._v(" "),o("ul",[o("li",[e._v("想要违背安全必须有超过⅓的选票出现拜占庭问题，并且提交超过两个值。")]),e._v(" "),o("li",[e._v("如果有任何验证组引起了安全问题，或者说是企图这么做，那么就会被协议发现，一方面针对有冲突的区块进行投票，同时广播那些有问题的选票。")])]),e._v(" "),o("p",[e._v("除了其超强安全保障外，Tendermint还具备其他功效。以商品型云平台为例，Tendermint共识以分布在五大洲七个数据中心的64位节点为基准，其每秒可以处理成千上万笔交易，提交顺序延迟时间为1-2秒。而值得关注的是，即使是在极其恶劣的敌对环境中，比如验证人崩溃了或者是遇到蓄谋已久的恶意选票，也能维持这种每秒千笔交易的高绩效。详见下图。")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://raw.githubusercontent.com/gnuclear/atom-whitepaper/master/images/tendermint_throughput_blocksize.png",alt:"Figure of Tendermint throughput performance"}})]),e._v(" "),o("h3",{attrs:{id:"-4"}},[e._v("轻客户端")]),e._v(" "),o("p",[e._v("Tendermint共识算法的主要好处就是它具有安全简易的轻客戸端，这一点使其成为手机和物联网用例的理想工具。比特币轻客户端必须同步运行区块头组成的链，并且找到工作量证明最多的那一条，而Tendermint轻客戸端只需和验证组的变化保持一致，然后简单地验证最新区块中预先提交的+⅔，来确定最新情况。")]),e._v(" "),o("p",[e._v("这种简单的轻客戸端证明机制也可以实现 "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/WHITEPAPER.md#inter-blockchain-communication-ibc"}},[e._v("区块链之间的通信")]),e._v("。")]),e._v(" "),o("h3",{attrs:{id:"-5"}},[e._v("防止攻击")]),e._v(" "),o("p",[e._v("Tendermint有各种各样的防御措施来防止攻击，比如 "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/WHITEPAPER.md#preventing-long-range-attacks"}},[e._v("远程无利害关系双重花费")]),e._v("及 "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/WHITEPAPER.md#overcoming-forks-and-censorship-attacks"}},[e._v("审查制度")]),e._v("。这个在 "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/WHITEPAPER.md#appendix"}},[e._v("附录")]),e._v("中会进行完整讨论。")]),e._v(" "),o("h3",{attrs:{id:"tmsp"}},[e._v("TMSP")]),e._v(" "),o("p",[e._v('Tendermint共识算法是在叫做Tendermint Core的程序中实现的。这个程序是一种与应用程序无关的"共识引擎"，可以让任何命中注定的黑匣子软件变为分散复制的区块链。就像Apache网页服务器或者Nginx是通过通用网关接口（CGI）或快速通用网关接口（FastCGI）来连接Wordpress（一款博客系统）应用程序一样，Tendermint Core通过Tendermint Socket协议（TMSP）来连接区块链应用程序。因此，TMSP允许区块链应用程序用任何语言进行编程，而不仅仅是共识引擎写入的程序语言。此外，TMSP也让交换任何现有区块链堆栈的共识层成为可能。')]),e._v(" "),o("p",[e._v("我们将其与知名加密货币比特币进行了类比。在比特币这种加密币区块链中，每个节点都维持着完整的审核过的UTXO（未使用交易输出）数据库。如果您想要在TMSP基础上，创建出类似比特币的系统，那么Tendermint Core可以做到：")]),e._v(" "),o("ul",[o("li",[e._v("在节点间共享区块及交易")]),e._v(" "),o("li",[e._v("创建规范或不可改变的交易顺序（区块链）")])]),e._v(" "),o("p",[e._v("同时，TMSP应用程序会负责：")]),e._v(" "),o("ul",[o("li",[e._v("维护UTXO数据库")]),e._v(" "),o("li",[e._v("验证交易的加密签名")]),e._v(" "),o("li",[e._v("防止出现不存在的交易花费")]),e._v(" "),o("li",[e._v("允许客户访问UTXO数据库")])]),e._v(" "),o("p",[e._v("Tendermint能够通过为应用程序与共识的形成过程，提供简单的应用程序界面（API），来分解区块设计。")]),e._v(" "),o("h2",{attrs:{id:"cosmos-2"}},[e._v("Cosmos概述")]),e._v(" "),o("p",[e._v("Cosmos是一种独立平行的区块链网络，其中每条区块链通过Tendermint  "),o("a",{attrs:{href:"http://github.com/tendermint/tendermint"}},[e._v("1")]),e._v("这样的经典拜占庭容错共识算法来运行。")]),e._v(" "),o("p",[e._v("网络中第一条区块链将会是Cosmos中心。Cosmos中心通过全新区块链间通信协议来连接其他众多区块链（或将其称之为空间）。中心可以追踪无数代币种类，并且在各个连接的空间里记录代币总数。代币可以安全快速地从一个空间传递到另一个空间，两者之间无需体现汇兑流动性，因为所有空间之间的代币传输都会经过Cosmos中心。")]),e._v(" "),o("p",[e._v("这一架构解决了当今区块链领域面临的许多问题，包括应用程序互操作性、可扩展性、以及无缝更新性。比如，从Bitcoind、Go-Ethereum、CryptoNote、ZCash或其他区块链系统中衍生出来的空间，都可以接入Cosmos中心。这些空间允许Cosmos实现无限扩展，从而满足全球交易的需求。此外，空间也完全适用于分布式交易所，反之交易所也支持空间运行。")]),e._v(" "),o("p",[e._v("Cosmos不仅仅是单一的分布式账本，而Cosmos中心也不是封闭式花园或宇宙中心。我们正在为分布式账本的开放网络设计一套协议，这套协议会按照加密学、稳健经济学、共识理论、透明性及可追究制的原则，成为未来金融系统的全新基础。")]),e._v(" "),o("h3",{attrs:{id:"tenderminttendermint-bft-dpos"}},[e._v("Tendermint拜占庭容错股份授权证明机制(Tendermint-BFT DPoS)")]),e._v(" "),o("p",[e._v('Cosmos中心是Cosmos网络中第一个公共区块链，通过Tendermint拜占庭共识算法运行。这个Tendermint开源项目于2014年开始，旨在解决比特币工作量证明算法的速度、可扩展性以及环境问题。通过采用并提高已经过验证的拜占庭算法（1988年在麻省理工学院开发），Tendermint成为了首个在概念上演示加密货币权益证明的团队，这种机制可以解决NXT和BitShares这些第一代权益证明加密币面临的"无利害关系"（nothing-at-stake）的问题。')]),e._v(" "),o("p",[e._v("如今，实际上所有比特币移动钱包都要使用可靠的服务器来进行交易验证。这是因为工作量证明机制需要在交易被认定为无法逆转前进行多次确认。而在CoinBase之类的服务中也已经出现重复花费攻击。")]),e._v(" "),o("p",[e._v("和其他区块链共识系统不同，Tendermint提供的是即时、可证明安全的移动客户端支付验证方式。因为Tendermint的设计完全不支持分叉，所以移动钱包就可以实时接收交易确认，从而在智能手机上真正实现去信任的支付方式。这一点也大大影响了物联网应用程序。")]),e._v(" "),o("p",[e._v('Cosmos中的验证人（其扮演的角色类似比特币矿工，但是与之不同的是，他们采用加密签名来进行投票）必须是专门用来提交区块的安全机器。非验证人可以将权益代币（也叫做"atom"）委托给任何验证人来赚取一定的区块费用以及atom奖励，但是如果验证人被黑客攻击或者违反协议规定，那么就会面临被惩罚（削减）的风险。Tendermint拜占庭共识的可证明安全机制，以及利益相关方（验证人和委托人）的抵押品保证，为节点甚至是轻客户端提供了可证明、可计量的安全性。')]),e._v(" "),o("h3",{attrs:{id:"-6"}},[e._v("管理")]),e._v(" "),o("p",[e._v("分布式公共账本应该要有一套章程与管理体系。比特币依靠比特币基金会（在一定程度上）及挖矿来协调更新，但是这个过程很缓慢。以太坊在采用硬分叉措施解决The DAO黑客事件后，分裂成了ETH和ETC，这主要是因为之前设定社会契约或机制来进行这类决定。")]),e._v(" "),o("p",[e._v("Cosmos中心的验证人与委托人可以对提案进行投票，从而自动改变预先设置好的系统参数（比如区块容量限制），协调更新，并对人们看得懂的章程进行修订投票，从而管理Cosmos中心。这个章程允许权益相关者聚集到一起，来解决盗窃及漏洞等相关问题（比如The DAO事件），并快速得出明确的解决方案。")]),e._v(" "),o("p",[e._v("每个空间也具备自己的一套章程及管理机制。比如，Cosmos中心的章程会强制实现中心的不可改变性（不能重新执行，除了Cosmos中心节点实现的漏洞），而每个空间则可自行设置与盗窃及漏洞相关的重新执行政策。")]),e._v(" "),o("p",[e._v("Cosmos网络能够在政策不同的区块间实现互操作性，这一点可以让客户在无需许可的环境下进行实验，为客户带去了终极自由及潜力。")]),e._v(" "),o("h2",{attrs:{id:"-7"}},[e._v("中心与空间")]),e._v(" "),o("p",[e._v('这里我们将描述一个全新的去中心化与可扩展性模型。Cosmos网络通过Tendermint机制来运行众多区块链。虽然现存提案的目标是创建一个包含全球所有交易顺序的"单一区块链"，Cosmos允许众多区块链在相互运行的同时，维持互操作性。')]),e._v(" "),o("p",[e._v('在这个基础上，Cosmos中心负责管理众多独立区块链（称之为"空间"，有时也叫做"碎片"，根据数据库扩展技术"分片"得出）。中心上的空间会源源不断地提交最新区块，这一点可以让中心跟上每个空间状态的变化。同样地，每个空间也会和中心的状态保持一致（不过空间之间不会同彼此的步伐保持一致，除非间接通过中心来实现）。之后信息包就会从一个空间传递到另一个空间，并通过发布梅克尔证明（Merkle-proof）来说明信息已经被传送或接收。这种机制叫做"区块链间通信"，或者简称为"IBC"机制。')]),e._v(" "),o("p",[o("img",{attrs:{src:"https://raw.githubusercontent.com/gnuclear/atom-whitepaper/master/images/hub_and_zones.png",alt:"Figure of hub and zones acknowledgement"}})]),e._v(" "),o("p",[e._v("任何区块都可以自行成为中心，从而形成非循环图，但是有一点需要阐明，那就是我们只会对简单配置（只有一个中心）以及许多没有中心的空间进行描述。")]),e._v(" "),o("h3",{attrs:{id:"hub"}},[e._v("中心（Hub）")]),e._v(" "),o("p",[e._v('Cosmos中心区块链承载的是多资产分布式账本，其中代币可以由个体用户或空间本身持有。这些代币能够通过特殊的IBC包裹，即"代币包"（coin packet）从一个空间转移到另一个空间。中心负责保持空间中各类代币全球总量不变。IBC代币宝交易必须由发送人、中心及接收人的区块链执行。')]),e._v(" "),o("p",[e._v("因为Cosmos中心在整个系统中扮演着中央代币账本的角色，其安全性极其重要。虽然每个空间可能都是一个Tendermint区块链——只需通过4个，或者在无需拜占庭容错共识的情况下更少的验证人来保证安全），但是Cosmos中心必须通过全球去中心化验证组来保证安全，而且这个验证组要能够承受最严重的攻击，比如大陆网络分割或者由国家发起的攻击。")]),e._v(" "),o("h3",{attrs:{id:"zones"}},[e._v("空间（Zones）")]),e._v(" "),o("p",[e._v('Cosmos空间是独立的区块链，能够和Cosmos中心进行IBC信息交换。从Cosmos中心的角度看，空间是一种多资产、多签名的动态会员制账户，它可以通过IBC包裹进行代币发送与接收。就像加密币账户一样，空间不能转移超出其持有量的代币，不过可以从其他拥有代币的人那里接收代币。空间可能会被指定为一种或多种代币的"来源"，从而赋予其增加代币供应量的权力。')]),e._v(" "),o("p",[e._v("Cosmos中心的Atom或可作为空间（连接到中心）验证人的筹码。虽然在Tendermint分叉责任制下，空间出现重复花费攻击会导致atom数量减少，但是如果空间中有超过⅔的选票都出现拜占庭问题的话，那这个空间就可以提交无效状态。Cosmos中心不会验证或执行提交到其他空间的交易，因此将代币传送到可靠空间就是用户的责任了。未来Cosmos中心的管理系统可能会通过改善提案，来解决空间故障问题。比如，在检测到袭击时，可以将有些空间（或全部空间）发起的代币转移输出压制下来，实现紧急断路（即暂时中止代币转移）。")]),e._v(" "),o("h2",{attrs:{id:"ibc"}},[e._v("区块链间通信（IBC）")]),e._v(" "),o("p",[e._v('现在我们来介绍下中心与空间之前通信的方法。假如现在有三个区块链，分别是"空间1"、“空间2"以及"中心”，我们想要"空间1"生成一个包裹，通过"中心"发送给"空间2"。为了让包裹从一个区块链转移到另一个区块链，需要在接收方区块链上发布一个证明，来明确发送方已经发起了一个包裹到指定地点。接收方要验证的这个证明，必须和发送方区块头保持一致。这种机制就类似与侧链采用的机制，它需要两个相互作用的链，通过双向传送存在证明数据元（交易），来"知晓"另一方的情况。')]),e._v(" "),o("p",[e._v("IBC协议可以自然定义为两种交易的使用：一种是IBCBlockCommitTx 交易，这种交易可以让区块链向任何观察员证明其最新区块哈希值；另一种是IBCPacketTx 交易，这种交易则可以证明某个包裹确实由发送者的应用程序，通过梅克尔证明机制（Merkle-proof）传送到了最新区块的哈希值上。")]),e._v(" "),o("p",[e._v("通过将IBC机制分裂成两个单独的交易，即IBCBlockCommitTx 交易与IBCPacketTx交易，我们可以让接收链的本地费用市场机制，来决定承认哪个包裹，与此同时还能确保发送方的完全自由，让其自行决定能够传出的包裹数量。")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://raw.githubusercontent.com/gnuclear/atom-whitepaper/master/msc/ibc_without_ack.png",alt:"Figure of Zone1, Zone2, and Hub IBC without acknowledgement"}})]),e._v(" "),o("p",[e._v('在上述案例中，为了更新"中心"上"空间1"的区块哈希（或者说"空间2"上"中心"的区块哈希），必须将IBCBlockCommitTx交易的"空间1"区块哈希值发布到"中心"上（或者将该交易的"中心"区块哈希值发布到"空间2"中）。')]),e._v(" "),o("p",[o("em",[e._v("更多关于两种IBC交易的信息，请参考")]),e._v(" "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/WHITEPAPER.md#ibcblockcommittx"}},[o("em",[e._v("IBCBlockCommitTx")])]),e._v("_ 以及 _ "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/WHITEPAPER.md#ibcpacketcommit"}},[o("em",[e._v("IBCPacketTx")])]),o("em",[e._v("。")])]),e._v(" "),o("h2",{attrs:{id:"-8"}},[e._v("用例")]),e._v(" "),o("h3",{attrs:{id:"-9"}},[e._v("分布式交易所")]),e._v(" "),o("p",[e._v("比特币借助批量复制的分布式账本技术来保证安全，同样的，我们也可以用这种方式，在区块链上运行，从而降低交易所受内外部攻击的可能性。我们称之为分布式交易所。")]),e._v(" "),o("p",[e._v('如今，加密币社区认为去中心化交易所是基于"原子交叉链"交易（AXC交易）的交易所。通过这类交易，不同链上的两位用户可以发起两笔传输交易，要么在两个账本上一起执行，要么两个账本都不执行（即原子级）。比如，两位用户可以通过AXC交易来进行比特币和以太币之间的交易（或不同账本上的任意两种代币），即使比特币和以太坊之间并没有相互连接。在AXC交易模式下的交易所，其好处在于用户双方都不需要相信彼此，也不用相信交易匹配服务。其坏处就是，双方都得在线才能进行交易。')]),e._v(" "),o("p",[e._v("另一种去中心化交易所是在交易所的区块链上运行批量复制的分布式账本。这种交易所的用户可以提交一份限价订单，在关机状态下执行交易。区块链会代表交易者匹配并完成交易。")]),e._v(" "),o("p",[e._v('去中心化交易所可以创建一份大范围限价订单簿，以此来吸引其他交易者。在交易所界，流动性需求越来越高，因此交易所业务界的网络效应也愈发强烈（或者说至少产生了"胜者得益"效应）。目前加密币交易所排名第一的是Poloniex，其24小时交易额为2000万美元，而Bitfinex以24小时500万位列第二。在这种强大的网络效应背景下，基于AXC的去中心化交易所的交易额是不可能超过中心化交易所的。去中心化交易所要想和中心化交易所一争高下，那么就需要支持大范围限价订单簿的运行。而只有基于区块链的去中心化交易所可以实现这一点。')]),e._v(" "),o("p",[e._v("Tendermint的快速交易执行是另一大优势。Cosmos的空间可以在不牺牲一致性的前提下，通过优先完善快速交易，来实现交易的快速完成——针对双向订单交易，及IBC（跨区块链通信）代币与其他空间的交易。")]),e._v(" "),o("p",[e._v("根据如今加密币交易所的情况，Cosmos的一项重大应用就是分布式交易所（也就是Cosmos DEX）。其交易吞吐能力及提交延时情况可以和那些中心化交易所媲美。交易者可以在离线的状态下提交限价订单。并且，在Tendermint，Cosmos中心以及IBC的应用下，交易者可以快速地完成资金在交易所及其他空间的转出转入。")]),e._v(" "),o("h3",{attrs:{id:"-10"}},[e._v("和其他加密货币挂钩")]),e._v(" "),o("p",[e._v("享有特权的空间可以作为和其他加密货币挂钩的代币来源。这种挂钩类似Cosmos中心与空间之间的关系，两者都必须及时更新彼此最新的区块链，从而验证代币已经从一方转移到另一方的证明。Cosmos网络上挂钩的空间要和中心以及其他加密货币保持一致。这种间接挂钩的空间可以维持简单的中心逻辑，并且不用了解其他区块链共识战略（比如比特币工作量证明挖矿机制）。")]),e._v(" "),o("p",[e._v('比如，设置有特定验证组的Cosmos空间（可能和中心里的验证组一样）可以作为与以太币挂钩的空间，其中基于Tendermint Socket协议（TMSP）的应用（即"挂钩空间"里的）有办法和外部以太坊区块链上的（即"起始点"）挂钩合约交换IBC信息。通过这一合约，持币人可以先将以太币发送到以太坊的挂钩合约中，然后再将以太币传送到挂钩空间。挂钩合约接收到以太币后，除非同时从挂钩空间处接收到正确的IBC包裹，否则这些以太币是无法提取的。而当挂钩空间接收到IBC包裹，并证明以太币已被特定以太坊账户的挂钩合约接收后，挂钩空间就会生成存有余额的相关账户。之后，挂钩空间上的以太币（即"已挂钩的以太币"）就可以转进或转出中心了，完成传送到特定以太坊提取地址的交易后，再彻底删除。IBC包裹可以证明挂钩空间上的交易，这个包裹可以公布到以太坊挂钩合约中，来开放以太币的提取权。')]),e._v(" "),o("p",[e._v("当然，这类挂钩合约也存在风险，比如会出现恶劣的验证组。如果拜占庭投票权超过⅓，就会造成分叉，即从以太坊挂钩合约中提取以太币的同时，还能保持挂钩空间中的挂钩以太币不变。更有甚者，如果拜占庭投票权超过⅔，可能会有人直接对将以太币发送到挂钩合约中（通过脱离原始挂钩空间的挂钩逻辑）的人下手，盗取他们的以太币。")]),e._v(" "),o("p",[e._v("如果将这个挂钩方法完全设计成责任制，那么就有可能解决这一问题。比如，中心及起始点的全部IBC包裹可能需要先通过挂钩空间的认可，即让中心或起始点中的钩挂合约对挂钩空间的所有状态转变进行有效验证。中心及起始点要允许挂钩空间的验证人提供抵押品，而挂钩合约的代币转出需要有所延迟（并且抵押品解绑时间也要足够长），从而让单独的审计人有时间发起挑战。我们会以未来Cosmos改善提议的形式公开这一系统的设计说明及实现方式，以待Cosmos中心的管理系统审批通过。")]),e._v(" "),o("p",[e._v("虽然现在的社会政治环境还不够成熟，不过我们可以做一些延伸，比如让负责国家国币的一些机构（尤其是其银行）组成一个验证组，来实现空间同国家法定货币的挂钩。当然这必须布置好额外的预防措施，只接受法律系统下的货币，从而加强可靠的公证人或大型机构对银行活动的审计。")]),e._v(" "),o("p",[e._v("这一整合或可让空间中所有拥有银行账户的人，将自己银行账户里的美元传输到空间账户中，或者完整的转入中心或其他空间里。")]),e._v(" "),o("p",[e._v("这么看来，Cosmos中心就是法定货币和加密货币无缝对接的导管，从而解决困扰交易所至今的交互局限问题。")]),e._v(" "),o("h3",{attrs:{id:"-11"}},[e._v("以太坊的扩展")]),e._v(" "),o("p",[e._v("扩展问题一直是以太坊的一个公开问题。目前以太坊节点会处理每笔交易，并且存储所有状态。")]),e._v(" "),o("p",[e._v("因为Tendermint提交区块的速度比以太坊工作量证明要快，所以由Tendermint共识推动且用于挂钩以太币运行的EVM（以太坊虚拟机）空间能够强以太坊区块链的性能。此外，虽然Cosmos中心及IBC包裹技术不能实现每秒合约逻辑的任意执行，但是它可以用来协调不同空间里以太坊合约间的代币变动，通过碎片化方式为以代币为中心的以太坊奠定基础。")]),e._v(" "),o("h3",{attrs:{id:"-12"}},[e._v("多应用一体化")]),e._v(" "),o("p",[e._v("Cosmos空间可以运行任意应用逻辑，这一点在空间运转初期就已经设定好，通过管理可以不断更新。这种灵活度让Cosmos空间得以成为其他加密货币的挂钩载体，比如以太坊或比特币，并且它还能和这些区块链的衍生品挂钩，使用同样的代码库，但是验证组及初始分配有所不同。这样一来就可以运行多种现有加密币框架，比如以太坊、Zerocash、比特币、CryptoNote等等，将其同Tendermint Core结合，成为通用网络中性能更优的共识引擎，为平台提供更多的交互机遇。此外，作为多资产区块链，每笔交易都有可能包含多个输入输出项，其中每个输入项都可以是任意代币，使Cosmos直接成为去中心化交易所，当然这里假设的是订单通过其他平台进行匹配。还有一种替代方案，即让空间作为分布式容错交易所（包含订单簿），这可以算是对现有中心化加密币交易所的严格改进——现有交易所时不时会受到攻击。")]),e._v(" "),o("p",[e._v("空间也可以作为区块链版的企业及政府系统，其原本由一个或多个组织运行的特定服务，现在作为TMSP应用在某个空间上运行，从而在不放弃对底层服务控制的前提下，维持公共Cosmos网络的安全性及交互性。所以，Cosmos或可为那些既想使用区块链技术，又不愿将控制权彻底放给分布式第三方的人，提供最佳的运行环境。")]),e._v(" "),o("h3",{attrs:{id:"-13"}},[e._v("缓解网络分区问题")]),e._v(" "),o("p",[e._v("有人认为像Tendermint这种支持一致性的共识算法有一个重大问题，那就是网络分割会导致没有一个分区拥有超过⅔的投票权（比如超过⅓在线下），而任何这类网络分割都将中止整个共识。而Cosmos架构可以缓解这个问题，它可以使用全球中心，但是空间实行地区自治，然后让每个空间的投票权按照正常的地理位置进行分布。比如，某个一般范例就有可能是针对个别城市或地区的，让他们在运行自己空间的同时，还能共享共同的中心（比如Cosmos中心），并且可以在因网络分区导致的中断期间，继续维持地区自治活动。请注意，这样一来在设计稳健的联邦式容错系统过程中，就可以真正地去考虑地理、政治及网络拓扑的特征了。")]),e._v(" "),o("h3",{attrs:{id:"-14"}},[e._v("联邦式名称解析系统")]),e._v(" "),o("p",[e._v("NameCoin是首批试图通过比特币区块链解决名称解析问题的区块链之一。不幸的是，这个方案存在一些不足。")]),e._v(" "),o("p",[e._v("比如，我们可以通过Namecoin来验证_@satoshi_（中本聪）这个号是在过去某个时间点用特定公钥进行注册的。但是，该公约是否更新过我们就不得而知了，除非将该名称最后一次更新以来的全部区块都下载下来。这一点是因为比特币UTXO交易模式中梅克尔式模型的局限性所导致的，这类模型中只有交易（而非可变的应用程序状态）会以梅克尔形式加入到区块哈希中。它会让我们证明之后名称更新的存在，而非不存在。因此，我们必须依靠完整节点才能明确这个名称的最近价值，否则就要投入巨大成本来下载整个区块链。")]),e._v(" "),o("p",[e._v("即使在NameCoin运用了默克尔化的搜索树，其工作量证明的独立性还是会导致轻客戸端的验证出现问题。轻客戸端必须下载区块链中所有区块头的完整复件（或者至少是自其最后的名称更新后的所有区块头）。这意味着带宽需要会随着时间直线扩展。  "),o("a",{attrs:{href:"21"}},[e._v("[21]")]),e._v("此外，在工作量证明制区块链上的名称更改需要等额外的工作量证明验证区块才能进行，这个在比特币上可能要花上一个小时。")]),e._v(" "),o("p",[e._v("有了Tendermint，我们只需用到由法定数量验证人签署（通过投票权）的区块哈希，以及与名称相关的当前价值的默克尔证明。这点让简易、快速、安全的轻客戸端名称价值验证成为可能。")]),e._v(" "),o("p",[e._v('在Cosmos中，我们可以借助这个概念对其进行延伸。Cosmos中的每个名称注册空间都能有一个相关的最高级别域名（TLD），比如".com"或者".org"等，每个名称注册空间都有其本身的管理和登记规则。')]),e._v(" "),o("h2",{attrs:{id:"-15"}},[e._v("发行与激励")]),e._v(" "),o("h3",{attrs:{id:"atom"}},[e._v("Atom代币")]),e._v(" "),o("p",[e._v("Cosmos Hub（Cosmos中心）是多资产分布式账本，不过它也有本地代币，叫做Atom。Atom是Cosmos Hub唯一的权益代币。Atom是持有人投票、验证或委托给其他验证人的许可证，就像以太坊的以太币以太币一样，Atom也可以用来支付交易费以减少电子垃圾。额外的通胀Atom和区块交易费用就作为验证人及委托人（委托给其他验证人）的奖励。")]),e._v(" "),o("p",[e._v("BurnAtomTx交易可以用来恢复储蓄池中任意比例的代币。")]),e._v(" "),o("h4",{attrs:{id:"-16"}},[e._v("众筹")]),e._v(" "),o("p",[e._v("创世块上的Atom代币及验证人的初次分布会是Cosmos 众销资助人占75%，预售资助人5%，Cosmos公司占20%。从创世块开始，总Atom总量的1/3将作为奖励发放给每年绑定的验证人以及委托人。")]),e._v(" "),o("p",[e._v("额外细节详见 "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/PLAN.md"}},[e._v("Crowdfund Plan")]),e._v("。")]),e._v(" "),o("h4",{attrs:{id:"-17"}},[e._v("归属")]),e._v(" "),o("p",[e._v("为了防止那些炒股诈骗的投机者借众筹来进行短期牟利，创世块的Atom必须有所归属才能用于转移。每个账户将在为期两年的时间里以每小时恒速授予Atom，这个速率由创世块Atom总量除以(2 * 365 * 24)小时得出。通胀区块获得的Atom奖励是预先授予的，可以立即进行转移，因此第一年绑定的验证人及委托人可以挣取比其创世块Atom一半还多的奖励。")]),e._v(" "),o("h3",{attrs:{id:"-18"}},[e._v("验证人的数量上限")]),e._v(" "),o("p",[e._v("Tendermint区块链和比特币之类的工作量证明区块链不同，由于通信复杂度提升，验证人增加，所以速度会更慢。所幸的是，我们可以支持足够多的验证人来实现全球稳健的分布式区块链，使其拥有较短交易验证时间，此外，在提升带宽、内存以及平行电脑计算能力的提升下，在未来支持更多验证人的参与。")]),e._v(" "),o("p",[e._v("在创世块诞生那天，验证人数量最多将设置为100，之后十年的增长率将在13%，最终达到300位验证人。")]),e._v(" "),o("pre",{pre:!0},[o("code",{attrs:{"v-pre":""}},[e._v("Year 0: 100\nYear 1: 113\nYear 2: 127\nYear 3: 144\nYear 4: 163\nYear 5: 184\nYear 6: 208\nYear 7: 235\nYear 8: 265\nYear 9: 300\nYear 10: 300\n...\n")])]),e._v(" "),o("h3",{attrs:{id:"-19"}},[e._v("成为创世日后首个验证人")]),e._v(" "),o("p",[e._v("如果Atom持有人还没有成为验证人，那么可以通过签署提交BondTx交易来成为验证人，其中作为抵押品的Atom数量不能为零。任何人在任何时候都可以作为验证人，除非当前验证组的数量超过了最大值。这样的话，除非Atom数量比最小验证人持有的有效Atom（包括受委托的Atom）还要多，那么交易才算有效。如果新验证人通过这种方式取代了现有验证人，那么现有验证人就被中止活动，所有Atom和受委托的Atom都会进入解绑状态。")]),e._v(" "),o("h3",{attrs:{id:"-20"}},[e._v("针对验证人的惩罚")]),e._v(" "),o("p",[e._v('针对验证人必须有一定的惩罚机制，防止他们有意无意地偏离已批准的协议。有些证据可以立即采纳，比如在同样高度和回合的双重签名，或者违反"预投票锁定"的（这一规则在Tendermint共识协议中有列出）。这类证据将导致验证人损失良好信誉，而且其绑定的Atom还有储备池内一定比例的代币份额——合起来称作其"权益"——也会减少。')]),e._v(" "),o("p",[e._v("有时因为地区网络中断、电力故障或者其他原因，验证人会无法连通。如果在过去随便什么时间点的ValidatorTimeoutWindow 区块中，验证人在区块链中提交的投票没有超过ValidatorTimeoutMaxAbsent次，那么验证人将会被中止活动，并且从权益中共损失一定的验证人超时罚款（ValidatorTimeoutPenalty ，默认为1%）。有些劣行表露的没那么明显，这样的话，验证人就可以在带外协调，强制叫停这类恶意验证人，如果有绝对多数制共识的话。")]),e._v(" "),o("p",[e._v('如果Cosmos中心因为超过⅓的投票权在线下合并而出现了中止情况，或者说超过⅓的投票权合并来审查进入区块链的恶意行为，这时候中心就必须借助硬分叉重组协议来恢复。（详见"分叉与审查攻击"）')]),e._v(" "),o("h3",{attrs:{id:"-21"}},[e._v("交易费用")]),e._v(" "),o("p",[e._v("Cosmos Hub验证人可以接受任何中共类的代币或组合作为处理交易的费用。每个验证人可以主观设置任意兑换率，并且选择它想要进行的交易，只要没有超过区块Gas限制（BlockGasLimit）。收集起来的费用剪去下面列出的任意税费后，会再次根据权益相关人绑定的Atom比例进行分配，周期是就是每次验证人支付的时间（ValidatorPayoutPeriod，默认为1小时）。")]),e._v(" "),o("p",[e._v("在所有交易费用中，储存税（ReserveTax，默认为2%）将存入储备池来增加储备量，来提高Cosmos网络的安全性及价值。普通税（CommonsTax，默认为3%）合并到普通商品的资金中。这些资金将进入托管人地址（CustodianAddress）根据管理熊进行分配。将投票权委托给其他验证人的Atom持有人会支付一定佣金给委托方，而这笔费用可以由每个验证人进行设置。")]),e._v(" "),o("h3",{attrs:{id:"-22"}},[e._v("激励黑客")]),e._v(" "),o("p",[e._v('Cosmos Hub的安全是一组函数，涉及底层验证人的安全以及委托人的委托选择。为了鼓励发现并及时报告缺陷，Cosmos Hub允许黑客通过ReportHackTx 交易来"邀功"，主要就是说明，“这个加点已被攻击，请将奖金发到这个地址”。通过这类功绩，验证人和委托人的行为将被中止，而黑客赏金地址可以收到每个人Atom中攻击奖励比率（HackRewardRatio，默认为5%）。而验证人必须通过使用备份密钥来恢复剩余的Atom。')]),e._v(" "),o("p",[e._v("为了防止这个特征被滥用于转移未授权的Atom，ReportHackTx（黑客报告交易）前后验证人和委托人手中的两类Atom的比例（授权的与未授权的）将保持不变，而黑客的赏金将包含未授权的Atom，如果有的话。")]),e._v(" "),o("h2",{attrs:{id:"-23"}},[e._v("管理")]),e._v(" "),o("p",[e._v("Cosmos Hub通过分布式组织来运行，这类组织要求有一套完备的管理机制，从而协调区块链上的各类变动，比如系统变量参数，以及软件更新、规章更改等。")]),e._v(" "),o("p",[e._v("所有验证人对所有提案的投票负责。如果没能及时对提案做出投票，那么验证人就会在一段时间内自动失去活动权利，这段时间叫做缺席惩罚期（AbsenteeismPenaltyPeriod，默认为一周）。")]),e._v(" "),o("p",[e._v("委托人自动继承委托验证人的投票权。这一投票可能会被手动覆盖掉。而未绑定的Atom是没有投票权的。")]),e._v(" "),o("p",[e._v("每个提案都需要一定的保证金，即最低提案保证金（MinimumProposalDeposit ）代币，这个可以是代币组合也可以是更多代币包括Atom。对每一个提案，投票人可能会投票来取走保证金呢。如果超过一半的投票人选择取走保证金（比如，由于提案是垃圾信息之类），那么保证金就会进去储备池，除非有任何Atom被燃烧。")]),e._v(" "),o("p",[e._v("对于每一个提案，投票人可能会投以下选项：")]),e._v(" "),o("ul",[o("li",[e._v("同意")]),e._v(" "),o("li",[e._v("强烈同意")]),e._v(" "),o("li",[e._v("反对")]),e._v(" "),o("li",[e._v("强烈反对")]),e._v(" "),o("li",[e._v("弃权")])]),e._v(" "),o("p",[e._v('决定采纳（或不采纳）提案需要严格的多数投"同意"或"强烈同意"（或者"反对"及"强烈反对"），但是超过1/3的人投"强烈反对"或"强烈支持"的话就可以否决大多数人的决定。如果大多数人的票都被否决，那么每个人都会得到惩罚，即损失否决惩罚费用块那一部分钱（ VetoPenaltyFeeBlocks，默认是一天的区块值 ，税费除外），而否决大多数决定的那一方也会受到额外的惩罚，即损失否决惩罚Atom（VetoPenaltyAtoms，默认为0.1%）。')]),e._v(" "),o("h3",{attrs:{id:"-24"}},[e._v("参数改变提案")]),e._v(" "),o("p",[e._v("这里定义的任何参数都可以发生改变，主要在参数改变提案（ParameterChangeProposal）的接受范围内。")]),e._v(" "),o("h3",{attrs:{id:"-25"}},[e._v("文本提案")]),e._v(" "),o("p",[e._v("所有其他提案，比如用来更新协议的提案，都会通过通用的文本提案（TextProposal）来协调。")]),e._v(" "),o("h2",{attrs:{id:"-26"}},[e._v("路线图")]),e._v(" "),o("p",[e._v("详见 "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/PLAN.md"}},[e._v("计划")]),e._v("。")]),e._v(" "),o("h2",{attrs:{id:"-27"}},[e._v("相关工作")]),e._v(" "),o("p",[e._v("过去几年，关于区块链共识及可扩展性已经有过多次创新，这一部分将挑选一些重要的创新进行简短分析。")]),e._v(" "),o("h3",{attrs:{id:"-28"}},[e._v("共识系统")]),e._v(" "),o("h4",{attrs:{id:"-29"}},[e._v("经典拜占庭容错")]),e._v(" "),o("p",[e._v('二十世纪八十年代早期的共识机制中就已经出现了恶意参与者，当时Leslie Lamport杜撰了"拜占庭容错"这个词，用来指那些图谋不轨参与者做出的恣意妄为的行径，这个词和"死机故障"相对，死机故障就只是处理过程崩溃而已。早期针对同步网络也探索出了一些解决方案，其信息滞后有一个上限，尽管实际使用是在高度受控的环境下进行的（比如飞机控制器以及原子钟同步的数据中心）。直到九十年代后期，实用拜占庭容错（PBFT）才被引用，作为有效的、部分同步的共识算法，以容忍处理过程中⅓的恣意行为。PBFT成为标准算法，繁殖了各种衍生品，包括最近IBM用于超级账本中的。')]),e._v(" "),o("p",[e._v("和PBFT相比，Tendermint共识的主要好处在于其有一套经过改善且简化了的底层结构，其中有些是拥抱区块链范例的结果。Tendermint区块必须按顺序提交，这一点可以消除复杂性，节省与PBFT浏览变化相关的通信开支。在Cosmos和众多加密币中，如果区块N本身没有提交，那么就无需让区块N+i（i_>=1_）来提交。如果是带宽导致了区块N未提交到Cosmos空间，那么它就不会帮助使用带宽将选票共享给区块N+i。如果是网络分区或者线下节点导致的区块N未提交，那么N+i就无论如何也不会提交。")]),e._v(" "),o("p",[e._v("此外，区块内交易的批量处理可以对应用程序的状态进行默克尔哈希，而不是用PBFT检查机制进行周期消化。这可以实现轻客戸端更快的证明交易提交，以及更快的跨区块链通信。")]),e._v(" "),o("p",[e._v("Tendermint Core中有很多优化项和特点都超过了PBFT特定的性能。比如，验证人发起的区块被分割成部分，默克尔化然后散布开来，这种方式可以提高其广播性能（关于启发请查看LibSwift "),o("a",{attrs:{href:"19"}},[e._v("[19]")]),e._v("）。而且，Tendermint Core不会对点对点连接做任何假设，只要点对点网络仍有微小连接，那么它就能正常运行。")]),e._v(" "),o("h4",{attrs:{id:"bitshare"}},[e._v("BitShare委托权益")]),e._v(" "),o("p",[e._v("BitShares  "),o("a",{attrs:{href:"12"}},[e._v("[12]")]),e._v('不是第一个部署权益证明机制（PoS）的区块链，但是其对PoS区块链的研究与采纳做出了巨大的贡献，尤其是这些被认为是"受委托的" PoS。在BitShares中，股权持有者选择"见证"以及"委托"，其中"见证"负责下单并提交交易，而"委托"负责协调软件更新与参数变化。尽管BitShare在理想环境下的性能很高（100k tx/s，1秒的滞后），但是它也有可能受到恶意见证施加的重复使用攻击，这类攻击会导致区块链出现分叉而不用受到任何经济惩罚——它的惩罚来自于"没有任何权益"。BitShare试图通过允许交易查看近期区块哈希来缓解这个问题。此外，权益相关者可以每天移除或替代行为不佳的见证，尽管这个对成功的重复使用攻击来说根本不算什么明确的惩罚。')]),e._v(" "),o("h4",{attrs:{id:"stellar"}},[e._v("Stellar")]),e._v(" "),o("p",[e._v("Stellar   "),o("a",{attrs:{href:"13"}},[e._v("[13]")]),e._v('是在Ripple的解决方案上创建的，它精炼了联邦拜占庭协议模型，其中参与共识的进程不包括固定且举世闻名的组件。相反，每个处理节点管理一个或多个"仲裁集碎片"（每一个都组成一组可靠的进程）。Stellar中的"仲裁集"被定义为一组节点，其中每一节点包含（是一个超集合）至少一个仲裁集碎片，这样就可以达成协议。')]),e._v(" "),o("p",[e._v('机制的安全性依靠假设实现，即假设任意两个仲裁集的交集并非为空，而实现节点的可用性则需要至少一个仲裁集碎片来完整组成正确节点，这个在使用或大或小的仲裁集碎片间可能会产生一组权衡，因为要在不对信任施加重要假设的情况下来进行平衡是很困难的。最终，节点必须以某种办法来选择充足的仲裁集碎片，从而保证有足够多的容错（或任何"完整无损的节点"，大部分文章里得出的结果就依靠这个来决定）。此外，唯一用来确保这类配置的战略是等级制的，且和BGP协议相似（边界网关协议），可用于互联网高层ISP来创建全球路由表，或者是用在浏览器中管理TSL（传输层安全）证书，不过这两者都因其不安全性而臭名昭著。')]),e._v(" "),o("p",[e._v('Stellar文章中对基于Tendermint的权益证明系统的批判可以通过以下代币战略加以缓和，其中有一种新的代币叫做"atom"，可以通过发布这一代币来代表未来的费用及奖励。所以，Tendermint权益证明机制的好处就是其简易性，在相对简易的同时，提供足够多且可证明的安全保障。')]),e._v(" "),o("h4",{attrs:{id:"bitcoinng"}},[e._v("BitcoinNG")]),e._v(" "),o("p",[e._v('BitcoinNG是针对比特币提出来的一种改善，或将允许垂直扩展形式，比如增加区块容量，并且不会带来负面经济影响（一般这类变动都会带来这类影响），比如越小的矿工受到的影响越大。这一改善可以通过将是首项选择从交易广播中分离来实现，即由"微区块"中的工作量证明先选择群首，之后可以对要提交的交易进行广播，直到新的微区块被发现。这个过程会减少赢得工作量证明比赛所必须的带宽需求，让小矿工可以更公平的参与竞争，然后让最后找到微区块的矿工来定期提交交易。')]),e._v(" "),o("h4",{attrs:{id:"casper"}},[e._v("Casper")]),e._v(" "),o("p",[e._v("Casper  "),o("a",{attrs:{href:"16"}},[e._v("[16]")]),e._v('是针对以太坊提出的一个权益证明共识算法。其最初运行模式是"赌注共识"，理念就是让验证人反复对其认为会提交到区块链的区块下赌注（根据它之前打赌的经验来），最后得出结论。 '),o("a",{attrs:{href:"https://blog.ethereum.org/2015/12/28/understanding-serenity-part-2-casper/"}},[e._v("链接")]),e._v('。这是Casper团队活跃中的研究领域，其挑战就是搭建一套进化稳定的打赌机制。和Tendermint相比，Casper主要的优势就在于提供了"优于一致性的实用性"——其共识无需超过⅔的仲裁选票——可能其代价就是速度慢以及实现复杂。')]),e._v(" "),o("h3",{attrs:{id:"-30"}},[e._v("水平扩展")]),e._v(" "),o("h4",{attrs:{id:"interledger"}},[e._v("Interledger 协议")]),e._v(" "),o("p",[e._v("Interledger协议 "),o("a",{attrs:{href:"14"}},[e._v("[14]")]),e._v("严格来说不算是可扩展解决方案。它通过一个松散耦合的双边关系网络，为不同账本系统提供了特别的互操作性。比如闪电网络，ILP的目的就是促进支付，不过是以不同账本类型的支付为主，并且延展了原子交易机制，将哈希锁以及公证人的仲裁集（也叫做原子传输协议）都包括进去。用于维持账本间交易原子数的后面这种机制和Tendermint的轻客戸端SPV机制相似，因此就可以对ILP和Cosmos/IBC之间的区别加以解释了，具体如下：")]),e._v(" "),o("ol",[o("li",[e._v("在ILP中连接器的公证人不支持成员变动，并且不允许在公证人间进行灵活的权重。而IBC是专门为区块链设计的，其验证人可以有不同的权重，而且成员也可以根据区块链进程进行变动。")]),e._v(" "),o("li",[e._v("在闪电网络中，ILP付款接收人必须在线来发送确认函给发送者。而在IBC代币传输过程中，接收人区块链的验证组会负责提供确认，而非接收人。")]),e._v(" "),o("li",[e._v("两者最大的不同就是ILP的连接器不充当支付状态的权威方，而在Cosmos中，一个中心的验证人就是IBC代币传输状态以及每个空间所持代币总量（不是空间每个账户所持代币总量）的权威见证人。这是一个根本性创新，允许代币在空间里进行安全且非对称的传输，而在Cosmos中，充当ILP连接器的角色是一个持久且安全的区块链账本——Cosmos中心（Cosmos Hub）。")]),e._v(" "),o("li",[e._v("ILP账本间支付需要由一份交易订单簿做支持，因为其不包括代币从一个账本到另一个账本的非对称传输，而只有价值或市场等值在传输。")])]),e._v(" "),o("h4",{attrs:{id:"-31"}},[e._v("侧链")]),e._v(" "),o("p",[e._v("侧链 "),o("a",{attrs:{href:"15"}},[e._v("[15]")]),e._v('是针对比特币网络扩展提出的一个机制，通过与比特币区块链"挂钩"的可替代区块链实现。侧链可以让比特币有效从区块链转移到侧链及后台，还可以在侧链上进行新功能测试。在Cosmos Hub中，侧链和比特币是彼此的轻客戸端，使用SPV（安全协议验证工具）证明来决定什么时候转移代币到侧链及后台。当然，因为比特币采用工作量证明机制，所以以比特币为中心的侧链也遇到很多工作量证明作为共识算法而带来的问题与风险。此外，这个是比特币多数派解决方案，它并不支持本地代币以及空间内网络拓扑学，而Cosmos可以。也就是说，这种双向挂钩的核心机制在原则上是和Cosmos网络运用的机制一样的。')]),e._v(" "),o("h4",{attrs:{id:"-32"}},[e._v("以太坊在可扩展方面的努力")]),e._v(" "),o("p",[e._v("以太坊目前正在研究不同的方法来实现以太坊区块链状态的碎片化，从而解决可扩展问题。这些努力的目标就是在共享状态空间中维持当前以太坊虚拟机提供的抽象层。他们同时开展了多项研究。 "),o("a",{attrs:{href:"18"}},[e._v("[18]")]),e._v(" "),o("a",{attrs:{href:"22"}},[e._v("[22]")])]),e._v(" "),o("h5",{attrs:{id:"cosmos-vs-20-mauve"}},[e._v("Cosmos vs 以太坊2.0 Mauve")]),e._v(" "),o("p",[e._v("Cosmos和以太坊2.0 Mauve "),o("a",{attrs:{href:"22"}},[e._v("[22]")]),e._v("有不同的设计目标。")]),e._v(" "),o("ul",[o("li",[e._v("Cosmos专注代币。而Mauve是和扩展普通计算相关。")]),e._v(" "),o("li",[e._v("Cosmos不一定是以太坊虚拟机，因此即使是不同的虚拟机也可以进行交互。")]),e._v(" "),o("li",[e._v("Cosmos可以让空间创建者决定谁来验证空间。")]),e._v(" "),o("li",[e._v("任何人都可以在Cosmos开创新空间（除非管理有其他决定）。")]),e._v(" "),o("li",[e._v("中心会隔离空间故障，这样全球代币的不变性就得到了维护。")])]),e._v(" "),o("h3",{attrs:{id:"-33"}},[e._v("普通扩展")]),e._v(" "),o("h4",{attrs:{id:"-34"}},[e._v("闪电网络")]),e._v(" "),o("p",[e._v('闪电网络是一种代币传输网络，在比特币区块链（及其他公共区块链）上一层运行，能够执行众多改善交易吞吐量的指令，通过将大多数交易从共式账本移出，转入所谓的"支付信道"内。这个举措通过链上的加密货币脚本或可实现，它可以让参与者进入双方有状态的合约，其中状态可以通过共享数字签名进行更新，并且最后将证据公布到区块链后可以关闭合约，这个机制最初是通过跨链原子掉期而普及的。通过开放多方支付信道，闪电网络的参与者可以成为他人支付的路由焦点，带领全面连接的支付信道网络，代价就是绑定在支付信道上的资本。')]),e._v(" "),o("p",[e._v("虽然闪电网络可以轻松在多个单独区块链间延伸以通过交易市场进行价值传输，但是它无法用来进行区块链间的非对称代币传输。Cosmos网络的主要好处就是能够进行这类直接代币传输。也就是说，我们可以期待支付信道与闪电网络在我们的代币传输机制下投入广泛应用，一方面为了节省成本，另一方面也可以保证隐私。")]),e._v(" "),o("h4",{attrs:{id:"-35"}},[e._v("隔离见证")]),e._v(" "),o("p",[e._v("隔离见证是一项比特币改善提议（ "),o("a",{attrs:{href:"https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki"}},[e._v("连接")]),e._v("），其目的是将每个区块的交易吞吐量提高2-3倍，并且同时保证区块快速同步新节点。这个方案的出色就在于它可以在比特币当前协议的限制下运行，并且允许进行软分叉更新（也就是其他旧版本的客户端软件在更新后可以继续运行）。Tendermint是一种新的协议，它没有设计限制，因此可以有不同的扩展选择。首先，Tendermint采用拜占庭容错循环制算法，这个是在加密签字而非挖矿的基础上进行，可以简单地通过多平行区块链进行水平扩展，而定期频繁的区块提交还可以进行垂直扩展。")]),e._v(" "),o("h2",{attrs:{id:"-36"}},[e._v("附录")]),e._v(" "),o("h3",{attrs:{id:"-37"}},[e._v("分叉问责制")]),e._v(" "),o("p",[e._v("如果遇到超过容错能力以及共识出错的情况下，设计周到的共识协议应该要对此提供一定的保障。这个在经济系统中尤为必要，经济系统中的拜占庭行为可以获取大量资金奖励。而针对上述情况有一个最为重要的保证就是分叉问责制，这个形式下，导致共识出错的进程（也就是导致协议客户端开始接受不同值——即分叉出现）可以被识别出并根据协议规定进行生发，或者也有可能受到法律制裁。当法律系统变得不可靠或者调用代价过大，那么验证人可能要强制支付安全保证金来参与，而一旦检测到恶意行为，那么这些保证金就会被吊销或者减少。 "),o("a",{attrs:{href:"10"}},[e._v("[10]")])]),e._v(" "),o("p",[e._v("注意这个和比特币有很大区别，由于网络同步及其发现哈希冲突的概率特性，比特币的分叉是定期出现的。在很多案例中，很难将恶意分叉与同步导致的分叉区分开来，所以比特币无法可靠地实施分叉问责制，除了让矿工为孤行区块挖矿支付隐形机会成本。")]),e._v(" "),o("h3",{attrs:{id:"tendermint-2"}},[e._v("Tendermint共识")]),e._v(" "),o("p",[e._v("我们将投票阶段分为预投票及预提交阶段。一个选票可以用于特定区块或_Nil。"),o("em",[e._v("我们把同一轮超过⅔的单个区块的预投票总和称为_Polka")]),e._v("，把同一轮超过⅔的单个区块的预提交总和称为_Commit_。如果同一轮针对Nil的预提交超过⅔，那么它们就进入下一轮。")]),e._v(" "),o("p",[e._v("注意，协议中严格的决定论会招致较弱的同步假设，因为默认的首项必须被扣除且略过。因此，验证人在对Nil进行预投票前会等候一段时间（即_TimeoutPropose_ ，超时提议），而_TimeoutPropose_ 的值会随着每一轮的进行而增加。每一轮剩下的进程是完全同步的，在过程中只有验证人收到超过⅔的网络投票才会进入下一步。在实践中，这么做将需要超级强大的对手无限阻挠较弱的同步假设（导致共识无法提交区块），而且通过使用每个验证人的_TimeoutPropose_ 随机值还可加大其难度。")]),e._v(" "),o("p",[e._v("另一套约束，或者锁定规则会确保最终在每个高度只提交一个区块，任何试图提交超过一个区块到指定高度的恶意行为都会被识别出来。首先，每个区块的预提交必须正当，并且以Polka的形式提交。如果验证人已经在_R_1_轮预提交了一个区块，那么我们就认为它们被锁定在了这个区块，然后用于验证_R_2_轮新预提交动作的Polka必须进入R_polka轮，其中 "),o("code",{pre:!0},[e._v("R_1 < R_polka <= R_2")]),e._v("。第二，验证人必须提出并且/或者预投票它们被锁定的区块。这两步合起来，就可以确保验证人不会在没有充足证据证明正当性的前提下进行预提交，并且保证已经完成预提交的验证人不能再为其他东西的预提交贡献证明。这样不但可以保证安全，还能保证共识算法的活跃。")]),e._v(" "),o("p",[e._v("关于这一协议的全部细节参考 "),o("a",{attrs:{href:"https://github.com/tendermint/tendermint/wiki/Byzantine-Consensus-Algorithm"}},[e._v("这里")]),e._v("。")]),e._v(" "),o("h3",{attrs:{id:"tendermint-3"}},[e._v("Tendermint轻客戸端")]),e._v(" "),o("p",[e._v("本来需要同步所有区块头，现在在Tendermint-PoS里取消了这一需求，因为我们有替代链（分叉），也就是说可以削减超过⅓的绑定权益。当然，削减也是需要有人共享分叉证据的，所以轻客戸端就要存储任何它见证的区块哈希提交。此外，轻客戸端可以定期同步验证组的变动，以避免出现 "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/WHITEPAPER.md#preventing-long-range-attacks"}},[e._v("远距离攻击")]),e._v("（除了其他可能实现的解决方案）。")]),e._v(" "),o("p",[e._v("秉着和以太坊类似的想法，Tendermint能够让应用程序在每个区块中嵌入全球梅克尔根哈希，可以进行简单且可验证的状态查询，比如查询账户余额、合约存放价值，或者未使用交易输入的存在等，具体由应用程序的特性决定。")]),e._v(" "),o("h3",{attrs:{id:"-38"}},[e._v("预防远距离攻击")]),e._v(" "),o("p",[e._v('假设有一套充足的可复原的广播网络集合以及一组静态验证组，那么任何区块链分叉都可以被检测到，而且发起攻击的验证人提交的保证金会被扣除。这一创新是由Vitalik Buterin于2014年首次提出的，可以解决其他权益证明加密货币"没有任何权益"的问题（详见 '),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/WHITEPAPER.md#related-work"}},[e._v("相关工作")]),e._v("部分。）但是，由于验证组必须要可以更改，所以可能在很长一段时内最初的验证人可能会解除绑定，因此就可以自由从创世区块中创建新链，并且不需要任何费用，因为他们不再有锁定的保证金。这类攻击被称为远距离攻击（LRA），和短距离攻击相反，短距离攻击是当前处于绑定中的验证人导致的分叉，并且会因此受到惩罚（假设有类似Tendermint共识这样的分叉问责制拜占庭容错算法）。长距离攻击经常被认为是对权益证明机制的重要打击。")]),e._v(" "),o("p",[e._v('所幸的是，LRA可以通过以下方法得以缓解。第一，针对解绑（来恢复抵押的保证金并且不再挣取参与共识的费用）的验证人，保证金在一定时间内必须是不可转移的，可以称作"解绑期"，可能长达数周或数月。第二，针对轻客戸端的安全，其首次连接到网络必须根据可信源验证最近的一个或者最好是多个区块哈希。这种情况有时也被称作"薄弱主观性"。最后，为了保证安全，必须频繁同步最新验证组（每次间隔时间和解绑期一样）。这一点可以保证轻客戸端在验证人解绑资金（从而没有任何权益）前知道验证组的变化情况，否则解绑的验证人就会通过实施远距离攻击来欺骗客户端，在其绑定的高度创建新区块起始返回点（假设它可以控制足够多的早期私钥）。')]),e._v(" "),o("p",[e._v("注意，用这种方式解决LRA问题需要对工作量证明模型原始的安全问题进行彻底检查。在PoW中，轻客戸端被认为可以在任何时候从可靠的创世区块同步到当前高度，这个过程可以简单的在每个区块头上处理工作量证明来完成。但是，为了解决LRA，我们需要轻客戸端上线定期追踪验证组的变动，并且其首次上线必须尤其要注意根据可靠源来验证其从网络收集的情报。当然，后面这个要求和比特币的类似，在比特币中，协议和软件也必须从可靠源获得。")]),e._v(" "),o("p",[e._v("上述预防LRA的方法正好适合Tendermint驱动下的区块链验证人及全部节点，因为这些节点的任务就是保持连接到网络。这个方法也适合那些想要经常进行网络同步的轻客戸端。但是，对不希望频繁接入互联网或区块链网络的轻客戸端来说，还有另一种方法可以用来解决LRA问题。非验证人的代币持有者额可以在很长的解绑期内（比如比验证人的解绑期久）发布代币作为抵押品，并且为轻客戸端提供第二级解决方案来证实当前及过去区块哈希的有效性。就算这些节点没有计入区块链共识的安全性时，他们还是可以为轻客戸端提供强大的保障。如果历史区块哈希查询在以太坊中得到过支持，那么任何人都可以用特定的智能合约来绑定他们的代币，并且提供付费证明服务，从而有效地针对轻客戸端LRA安全问题开发出一个市场。")]),e._v(" "),o("h3",{attrs:{id:"-39"}},[e._v("克服分叉及审查攻击")]),e._v(" "),o("p",[e._v("由于区块提交的定义如此，所以任何超过⅓的投票联合都可以通过下线或者不广播选票来中止区块链运行。这样的联合也可以通过拒绝包含这类交易的区块来检查特定交易，尽管这或将导致大多数区块提案被拒绝，从而减缓区块提交速率，降低实用性及价值。恶意联合或许会陆陆续续地广播选票，以阻挠区块链的区块提交，将其逼停，或者就是参与到这些攻击的组合攻击中。最后，它会通过双重签名或者违反锁定规则来造成区块链分叉。")]),e._v(" "),o("p",[e._v("如果一个全球活跃的对手参与进来，那么就会使网络分割，导致验证组子集出现拉低速率。这不单单是Tendermint面临的限制，也是所有共识协议（其网络可能由活跃对手控制）的限制。")]),e._v(" "),o("p",[e._v("对这几类攻击，验证人子集应该在外部进行协调，签署重组提议来选择分叉（及牵扯到的任何证据）以及验证人的初始子集。签署这份重组提议的验证人会放弃他们在其他分叉上的所有抵押品。客户端要验证重组提议上的签名，验证任何证据并且做出判断或者给端用户提示来做决定。比如，一个手机钱包APP可能会提示用户安全警告，而电冰箱可能会接受签署超过½的初始验证人提出的重组提议。")]),e._v(" "),o("p",[e._v("任何非同步的拜占庭容错算反都不能进入共识，如果超过⅓的投票不诚实的话，而且出现分叉就说明已经有超过⅓的投票权因为无正当理由的双重签名或改锁而失信。因此，签署重组提议是一个协调性问题，无法通过任何非同步协议（即自动的，不对底层网络可靠性做假设的）来解决。目前，我们认为重组提议的协调问题，可以通过互联网媒体的社会共识来实现人为协调。验证人必须确保在签订重组提议前不会出现网络分割，以此来避免有两个相冲突的重组提议被强叔的情况出现。")]),e._v(" "),o("p",[e._v("加入外部条件媒介以及协议足够稳健的话，那么分叉的问题就没有检查攻击问题来的严重。")]),e._v(" "),o("p",[e._v("分叉和检查需要有超过⅓的拜占庭投票权，此外超过⅔的投票权联合可能会恣意提交无效状态。这个是任何拜占庭容错共识系统的特点。和双重签名不同，双重签名会利用简单的可验证的证据来创建分叉，而要检测无效状态的提交则需要非验证对等节点来验证整个区块，也就是说它们会保留一份本地状态副本，执行每笔交易，然后独立计算状态根。一旦检测出来，处理这类故障的唯一方法就是社会共识。比如，如果比特币出现问题，那么无论是软件漏洞造成的分叉，还是矿工拜占庭行为提交的无效状态（正如2015年7月），连接紧密的商户、开发者、矿工以及其他组织组成的社区按照所需分工来参与修复网络。此外，因为Tendermint区块链的验证人或可进行身份认证，所以如果有这个想法，那么无效状态的提交也可能会受到法律或其他外部法律体系的惩罚。")]),e._v(" "),o("h3",{attrs:{id:"tmsp-2"}},[e._v("TMSP具体说明")]),e._v(" "),o("p",[e._v("TMSP（Tendermint Socket协议）由三个主要信息类型组成，这三类信息从核心传递到应用程序上，然后应用程序用相关回复信息做出应答。")]),e._v(" "),o("p",[e._v("AppendTx 信息是应用程序的主力。区块链上的每笔交易都通过这个信息来传递。应用程序需要借助AppendTx信息在当前状态、应用程序协议以及交易加密证书中进行验证，验证每笔接收的交易。验证过的交易之后需要更新应用状态——通过绑定一个值到关键价值存储库中，或者更新UTXO数据库。")]),e._v(" "),o("p",[e._v("CheckTx 信息和AppendTx信息类似，但是只针对交易验证。Tendermint Core的内存池会先用CheckTx检查交易有效性，并且只会将有效的交易分程传递给对等节点。应用程序可能会检查交易中的递增新鲜值，如果新鲜值过期就会借助CheckTx返回一个错误。")]),e._v(" "),o("p",[e._v("Commit信息是用来计算当前应用状态上的加密提交项的——之后会存入下一区块头。这包含一些方便的特性。状态更新的矛盾性将以区块链分叉的形式出现，从而捕捉整个阶段的程序错误。这也简化了安全轻客戸端的开发，因为梅克尔哈希证明可以通过检查区块哈希来加以验证，而区块哈希是通过验证人仲裁集加以签署的（通过投票权）。")]),e._v(" "),o("p",[e._v("额外的TMSP信息允许应用程序追踪改变验证组，并让应用程序接收高度、提交的选票之类的区块信息。")]),e._v(" "),o("p",[e._v("TMSP的要求/回应是简单的Protobuf信息。请参考这里的 "),o("a",{attrs:{href:"https://github.com/tendermint/tmsp/blob/master/types/types.proto"}},[e._v("模式文件")]),e._v("。")]),e._v(" "),o("h4",{attrs:{id:"appendtx"}},[e._v("AppendTx（附加交易）")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("命令行参数")]),e._v(" :\n"),o("ul",[o("li",[e._v("Data ([]byte): 所需交易的字节")])])]),e._v(" "),o("li",[o("strong",[e._v("返回")]),e._v(" :\n"),o("ul",[o("li",[e._v("Code (uint32): 回复代码")]),e._v(" "),o("li",[e._v("Data ([]byte): 结果字节，如果有的话")]),e._v(" "),o("li",[e._v("Log (string): 调试或出错信息")])])]),e._v(" "),o("li",[o("strong",[e._v("使用")]),e._v(" :\n附加并运行一笔交易。如果交易有效，那返回CodeType.OK")])]),e._v(" "),o("h4",{attrs:{id:"checktx"}},[e._v("CheckTx（检查交易）")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("命令行参数")]),e._v(" :\n"),o("ul",[o("li",[e._v("Data ([]byte): 所需交易的字节")])])]),e._v(" "),o("li",[o("strong",[e._v("返回")]),e._v(" :\n"),o("ul",[o("li",[e._v("Code (uint32): 回复代码")]),e._v(" "),o("li",[e._v("Data ([]byte): 结果字节，如果有的话")]),e._v(" "),o("li",[e._v("Log (string): 调试或出错信息")])])]),e._v(" "),o("li",[o("strong",[e._v("使用")]),e._v(" :")])]),e._v(" "),o("p",[e._v("验证一笔交易。这个信息不应该改变状态。交易在广播给内存池层对等节点前，首先通过CheckTx运行。你可以发起半状态化CheckTx，并在Commit or BeginBlock上清算状态，以允许执行同一区块中相关的交易序列。")]),e._v(" "),o("h4",{attrs:{id:"commit"}},[e._v("Commit（提交）")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("返回")]),e._v(" :\n"),o("ul",[o("li",[e._v("Data ([]byte): 梅克尔根哈希")]),e._v(" "),o("li",[e._v("Log (string): 调试或出错信息")])])]),e._v(" "),o("li",[o("strong",[e._v("使用")]),e._v(" :\n返回应用程序状态梅克尔根哈希。")])]),e._v(" "),o("h4",{attrs:{id:"query"}},[e._v("Query（查询）")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("命令行参数")]),e._v(" :\n"),o("ul",[o("li",[e._v("Data ([]byte): 查询需要的字节")])])]),e._v(" "),o("li",[o("strong",[e._v("返回")]),e._v(" :\n"),o("ul",[o("li",[e._v("Code (uint32): 回复代码")]),e._v(" "),o("li",[e._v("Data ([]byte): 查询回复字节")]),e._v(" "),o("li",[e._v("Log (string): 调试或出错信息")])])])]),e._v(" "),o("h4",{attrs:{id:"flush"}},[e._v("Flush（划掉）")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("使用")]),e._v(" :")])]),e._v(" "),o("p",[e._v("划掉回复队列。使用types.Application的应用程序无需实施这条信息——这个由项目进行处理。")]),e._v(" "),o("h4",{attrs:{id:"info"}},[e._v("Info（信息）")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("返回")]),e._v(" :\n"),o("ul",[o("li",[e._v("Data ([]byte): 信息的字节")])])]),e._v(" "),o("li",[o("strong",[e._v("使用")]),e._v(" :")])]),e._v(" "),o("p",[e._v("返回关于应用程序状态的信息。Application specific.")]),e._v(" "),o("h4",{attrs:{id:"setoption"}},[e._v("SetOption（设置选项）")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("命令行参数")]),e._v(" :\n"),o("ul",[o("li",[e._v("Key (string): 设置密钥")]),e._v(" "),o("li",[e._v("Value (string): 密钥设置的值")])])]),e._v(" "),o("li",[o("strong",[e._v("返回")]),e._v(" :\n"),o("ul",[o("li",[e._v("Log (string): 调试或出错信息")])])]),e._v(" "),o("li",[o("strong",[e._v("使用")]),e._v(' :\n设置应用选项。比如，针对内存池的连接可以将密钥设置为"mode"（模式），价值为"mempool"（内存池）。或者针对共识连接，将密钥设置为"mode"，价值设置为"consensus"（共识）。其他选项根据可具体应用进行专门设置。')])]),e._v(" "),o("h4",{attrs:{id:"initchain"}},[e._v("InitChain（初始链）")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("命令行参数")]),e._v(" :\n"),o("ul",[o("li",[e._v("Validators ([]Validator): 初始创世验证人")])])]),e._v(" "),o("li",[o("strong",[e._v("使用")]),e._v(" :\n在创世块生成后进行调用")])]),e._v(" "),o("h4",{attrs:{id:"beginblock"}},[e._v("BeginBlock（起始块）")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("命令行参数")]),e._v(" :\n"),o("ul",[o("li",[e._v("Height (uint64): 区块刚开始的高度")])])]),e._v(" "),o("li",[o("strong",[e._v("使用")]),e._v(" :\n为新区块的开始提供信号。在任何附加交易（AppendTxs）前进行调用。")])]),e._v(" "),o("h4",{attrs:{id:"endblock"}},[e._v("EndBlock（结束区块）")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("命令行参数")]),e._v(" :\n"),o("ul",[o("li",[e._v("Height (uint64): 结束时的区块高度")])])]),e._v(" "),o("li",[o("strong",[e._v("返回")]),e._v(" :\n"),o("ul",[o("li",[e._v("Validators ([]Validator): 具有新选票的变动后的验证人（归零就去除）")])])]),e._v(" "),o("li",[o("strong",[e._v("使用")]),e._v(" :\n为区块结束提供信号。在每次提交前所有交易后调用。")])]),e._v(" "),o("p",[e._v("更多细节请参考 "),o("a",{attrs:{href:"https://github.com/tendermint/tmsp#message-types"}},[e._v("TMSP知识库")]),e._v("。")]),e._v(" "),o("h3",{attrs:{id:"ibc-2"}},[e._v("IBC包交付确认")]),e._v(" "),o("p",[e._v("发送人可能会需要接收链提供包交付确认，这个原因有很多。比如，发送人可能不了解目的链的状态，如果有问题的话也不得而知。或者，发送者可能会想要向包强加一次超时（借助MaxHeight 即最大值包域），而目的链可能会遇到拒绝服务攻击，比如接受包数量突然暴增。")]),e._v(" "),o("p",[e._v("在这些案例中，发送人可以通过在AckPending上设置初始包状态来要求提供交付确认。接着就由接收链通过在应用程序的梅克尔哈希中包括一个缩写的IBCPacket 来确认交付。")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://raw.githubusercontent.com/gnuclear/atom-whitepaper/master/msc/ibc_with_ack.png",alt:"Figure of Zone1, Zone2, and Hub IBC with acknowledgement"}})]),e._v(" "),o("p",[e._v('首先，IBCBlockCommit 以及IBCPacketTx 是公布在"Hub"（中心）上用来证明"Zone1"（空间1）上的IBCPacket的存在的。假如IBCPacketTx 的值如下：')]),e._v(" "),o("ul",[o("li",[e._v("FromChainID: “Zone1”")]),e._v(" "),o("li",[e._v("FromBlockHeight: 100 (假如)")]),e._v(" "),o("li",[e._v("Packet: an IBCPacket:\n"),o("ul",[o("li",[e._v("Header: an IBCPacketHeader:\n"),o("ul",[o("li",[e._v("SrcChainID: “Zone1”")]),e._v(" "),o("li",[e._v("DstChainID: “Zone2”")]),e._v(" "),o("li",[e._v("Number: 200 (假如)")]),e._v(" "),o("li",[e._v("Status: AckPending")]),e._v(" "),o("li",[e._v("Type: “coin”")]),e._v(" "),o("li",[e._v('MaxHeight: 350 (假如"Hub"目前的高度是300)')])])]),e._v(" "),o("li",[e._v('Payload: <The bytes of a “coin” payload>（一个"代币"的有效负荷字节）')])])])]),e._v(" "),o("p",[e._v('第二步，IBCBlockCommit 和IBCPacketTx 被公布到"Zone2"（空间2）来证明IBCPacket 存在于"Hub"上。假如IBCPacketTx 的值如下：')]),e._v(" "),o("ul",[o("li",[e._v("FromChainID: “Hub”")]),e._v(" "),o("li",[e._v("FromBlockHeight: 300")]),e._v(" "),o("li",[e._v("Packet: an IBCPacket:\n"),o("ul",[o("li",[e._v("Header: an IBCPacketHeader:\n"),o("ul",[o("li",[e._v("SrcChainID: “Zone1”")]),e._v(" "),o("li",[e._v("DstChainID: “Zone2”")]),e._v(" "),o("li",[e._v("Number: 200")]),e._v(" "),o("li",[e._v("Status: AckPending")]),e._v(" "),o("li",[e._v("Type: “coin”")]),e._v(" "),o("li",[e._v("MaxHeight: 350")])])]),e._v(" "),o("li",[e._v('Payload: <The same bytes of a “coin” payload>（一个"代币"相同的有效负荷字节）')])])])]),e._v(" "),o("p",[e._v('接下来，"Zone2"必须将缩写的包放入其应用程序哈希中来显示AckSent的最新状态。')]),e._v(" "),o("p",[e._v('IBCBlockCommitand 和IBCPacketTx 会公布到"Hub"上来证明缩写的IBCPacket 存在于"Zone2"上。假如IBCPacketTx 的值如下：')]),e._v(" "),o("ul",[o("li",[e._v("FromChainID: “Zone2”")]),e._v(" "),o("li",[e._v("FromBlockHeight: 400 (say)")]),e._v(" "),o("li",[e._v("Packet: an IBCPacket:\n"),o("ul",[o("li",[e._v("Header: an IBCPacketHeader:\n"),o("ul",[o("li",[e._v("SrcChainID: “Zone1”")]),e._v(" "),o("li",[e._v("DstChainID: “Zone2”")]),e._v(" "),o("li",[e._v("Number: 200")]),e._v(" "),o("li",[e._v("Status: AckSent")]),e._v(" "),o("li",[e._v("Type: “coin”")]),e._v(" "),o("li",[e._v("MaxHeight: 350")])])]),e._v(" "),o("li",[e._v('PayloadHash: <The hash bytes of the same “coin” payload>（相同"代币"有效负荷的哈希字节）')])])])]),e._v(" "),o("p",[e._v('最后，“Hub"必须更新从AckPending 到AckReceived的包的状态。这个最新状态的证据要回到"Zone2”。假如IBCPacketTx 的值如下：')]),e._v(" "),o("ul",[o("li",[e._v("FromChainID: “Hub”")]),e._v(" "),o("li",[e._v("FromBlockHeight: 301")]),e._v(" "),o("li",[e._v("Packet: an IBCPacket:\n"),o("ul",[o("li",[e._v("Header: an IBCPacketHeader:\n"),o("ul",[o("li",[e._v("SrcChainID: “Zone1”")]),e._v(" "),o("li",[e._v("DstChainID: “Zone2”")]),e._v(" "),o("li",[e._v("Number: 200")]),e._v(" "),o("li",[e._v("Status: AckReceived")]),e._v(" "),o("li",[e._v("Type: “coin”")]),e._v(" "),o("li",[e._v("MaxHeight: 350")])])]),e._v(" "),o("li",[e._v('PayloadHash: <The hash bytes of the same “coin” payload>（相同"代币"有效负荷的哈希字节）')])])])]),e._v(" "),o("p",[e._v('同时，"Zone1"可能会积极地假设"代币"包的交付是成功的，除非"Hub"上有证据给出相反的证明。在上述例子中，如果"Hub"没有从"Zone2"接收到区块350的AckSent 状态，那么它就会自动将这个设置到Timeout（超时）。这个超时证据可以贴回到"Zone1"上，然后就可以返回任意代币。')]),e._v(" "),o("p",[o("img",{attrs:{src:"https://raw.githubusercontent.com/gnuclear/atom-whitepaper/master/msc/ibc_with_ack_timeout.png",alt:"Figure of Zone1, Zone2, and Hub IBC with acknowledgement and timeout"}})]),e._v(" "),o("h3",{attrs:{id:"-40"}},[e._v("梅克尔树及梅克尔证明说明")]),e._v(" "),o("p",[e._v("Tendermint/Cosmos生态支持的梅克尔树有两种：简单的和IAVL+的。")]),e._v(" "),o("h4",{attrs:{id:"-41"}},[e._v("简易版梅克尔树")]),e._v(" "),o("p",[e._v("简易版梅克尔树针对的元素的静态列表。如果项的数目不是2的次方，那么有些树叶就会在不同的层。简易树试图让树的两侧在同一高度，但是左边可能会稍大一点。这种梅克尔树就是用于一个区块交易的梅克尔化的，而顶层元素就是应用状态根。")]),e._v(" "),o("pre",{pre:!0},[o("code",{attrs:{"v-pre":""}},[e._v("                *\n               / \\\n             /     \\\n           /         \\\n         /             \\\n        *               *\n       / \\             / \\\n      /   \\           /   \\\n     /     \\         /     \\\n    *       *       *       h6\n   / \\     / \\     / \\\n  h0  h1  h2  h3  h4  h5\n\n  A SimpleTree with 7 elements\n")])]),e._v(" "),o("h4",{attrs:{id:"iavl"}},[e._v("IAVL+梅克尔树")]),e._v(" "),o("p",[e._v("IAVL+数据结构的目的是永久储存应用状态中的密钥-值，这样具有决定功能的梅克尔根哈希就可以有效进行运算了。这个树的平衡通过 "),o("a",{attrs:{href:"http://en.wikipedia.org/wiki/AVL_tree%E3%80%81"}},[e._v("AVL算法")]),e._v("的一个变量来达到，所有运行都是O(log(n))。")]),e._v(" "),o("p",[e._v('在AVL树中，任意节点两个子树的高度至少有一处不同。无论什么时候出现更新来打破这种情况，这个树都会通过创造O(log(n))新节点（指向旧树上未修改的节点）来再次达到平衡。在初始AVL算法中，内部节点也可以维持密钥-值。AVL+算法（注意这里有个"+"号）对AVL算法进行了修改，来维持所有树叶节点上的值，同时还只需采用分支-节点来存储密钥。这一点在简化算法的同时，还能维持较短的梅克尔哈希轨迹。')]),e._v(" "),o("p",[e._v("AVL+树类似于以太坊的 "),o("a",{attrs:{href:"http://en.wikipedia.org/wiki/Radix_tree"}},[e._v("Patricia tries")]),e._v("（帕氏树）。其中也有一定的折中。密钥不需要在嵌入到IAVL+树前生成哈希，而这个就为密钥空间里提供了较快的命令迭代，或许为很多应用程序都带去了好处。逻辑实现很简单，只需要两种节点——内部节点和树叶节点。作为一个平衡的二进制树，梅克尔证明算是短的。而另一方面，IAVL+树有取决于命令的更新。")]),e._v(" "),o("p",[e._v("我们将支持额外有效的梅克尔树，比如以太坊的帕氏树，同时实现二进制变量的可用性。")]),e._v(" "),o("h3",{attrs:{id:"-42"}},[e._v("交易类型")]),e._v(" "),o("p",[e._v("在标准实现中，交易通过TMSP界面流入Cosmos Hub的应用程序。")]),e._v(" "),o("p",[e._v("Cosmos Hub将接受几类主要交易，包括SendTx，BondTx，UnbondTx，ReportHackTx，SlashTx，BurnAtomTx，ProposalCreateTx，以及ProposalVoteTx（即发送交易、绑定交易、解绑交易、攻击报告交易、削减交易、Atom燃烧交易，创建提议交易），这些都不需要加以寿命，会在之后文章更新中进行归档。这里我们主要列举两个主要的IBC交易类型：IBCBlockCommitTx 以及IBCPacketTx（即IBC区块提交交易以及IBC包交易）")]),e._v(" "),o("h4",{attrs:{id:"ibcblockcommittxibc"}},[e._v("IBCBlockCommitTx（IBC区块提交交易）")]),e._v(" "),o("p",[e._v("IBCBlockCommitTx 交易主要由这些组成：")]),e._v(" "),o("ul",[o("li",[e._v("ChainID (string): 区块链ID")]),e._v(" "),o("li",[e._v("BlockHash ([]byte): 区块哈希字节，就是梅克尔根（包括应用程序哈希）")]),e._v(" "),o("li",[e._v("BlockPartsHeader (PartSetHeader): 区块部分设置的头字节，只用于验证投票签名")]),e._v(" "),o("li",[e._v("BlockHeight (int): 提交高度")]),e._v(" "),o("li",[e._v("BlockRound (int): 提交回合")]),e._v(" "),o("li",[e._v("Commit ([]Vote): 超过⅔的Tendermint预提交投票，以组成区块提交项")]),e._v(" "),o("li",[e._v("ValidatorsHash ([]byte): 新验证组的梅克尔树根哈希")]),e._v(" "),o("li",[e._v("ValidatorsHashProof (SimpleProof): 简易版梅克尔树证明，在区块哈希中证明验证人哈希")]),e._v(" "),o("li",[e._v("AppHash ([]byte): IAVL树，应用程序状态的梅克尔树根哈希")]),e._v(" "),o("li",[e._v("AppHashProof (SimpleProof): 简易版梅克尔树证明，在区块哈希中验证应用程序哈希")])]),e._v(" "),o("h4",{attrs:{id:"ibcpackettxibc"}},[e._v("IBCPacketTx（IBC包交易）")]),e._v(" "),o("p",[e._v("IBCPacket 由下列项组成：")]),e._v(" "),o("ul",[o("li",[e._v("Header (IBCPacketHeader): 包头")]),e._v(" "),o("li",[e._v("Payload ([]byte): 包有效负荷字节。"),o("em",[e._v("可选择")]),e._v("。")]),e._v(" "),o("li",[e._v("PayloadHash ([]byte): 包字节哈希。"),o("em",[e._v("可选择。")])])]),e._v(" "),o("p",[e._v("有效负荷或有效负荷哈希必须存在一个。IBCPacket 的哈希就是两个项的简易版梅克尔根，即头和有效负荷。没有完整有效负荷的IBCPacket 被称作缩写版包。")]),e._v(" "),o("p",[e._v("IBCPacketHeader由下列项组成：")]),e._v(" "),o("ul",[o("li",[e._v("SrcChainID (string): 源区块链ID")]),e._v(" "),o("li",[e._v("DstChainID (string): 目标区块链ID")]),e._v(" "),o("li",[e._v("Number (int): 所有包特定数量")]),e._v(" "),o("li",[e._v("Status (enum): 可以是AckPending，AckSent，AckReceived，NoAck，或Timeout任意一个")]),e._v(" "),o("li",[e._v('Type (string): 种类根据应用程序决定。Cosmos保留"coin"（币）包种类。')]),e._v(" "),o("li",[e._v("MaxHeight (int): 如果状态不是这个高度给出的NoAckWanted 或者AckReceived ，那么状态就算超时。"),o("em",[e._v("可选择。")])])]),e._v(" "),o("p",[e._v("IBCPacketTx 交易有下列项组成：")]),e._v(" "),o("ul",[o("li",[e._v("FromChainID (string): 区块链ID，用于提供这个包，不是必要的来源")]),e._v(" "),o("li",[e._v("FromBlockHeight (int): 区块链高度，其中接下来的包会包含在源链的区块哈希中")]),e._v(" "),o("li",[e._v("Packet (IBCPacket): 数据包，其状态可以是AckPending，AckSent，AckReceived，NoAck，或Timeout任意一个")]),e._v(" "),o("li",[e._v("PacketProof (IAVLProof): IAVL树梅克尔证明，用于一定高度的源链中的应用哈希中验证包的哈希")])]),e._v(" "),o("p",[e._v('通过"Hub"，从"Zone1"发送到"Zone2"的包的序列会用{Figure X}函数进行描述。首先一次IBCPacketTx会向"Hub"证明包是包含在"Zone1"的应用程序状态中。然后，另一次IBCPacketTx 会向"Zone2"证明包包含在"Hub"的应用程序状态中。在这个过程中，IBCPacketTx 的域是一样的：SrcChainID永远是"Zone1"而DstChainID 永远是"Zone2"。')]),e._v(" "),o("p",[e._v("PacketProof 必须有正确的梅克尔证明路径，如下：")]),e._v(" "),o("pre",{pre:!0},[o("code",{attrs:{"v-pre":""}},[e._v("IBC/<SrcChainID>/<DstChainID>/<Number>\n")])]),e._v(" "),o("p",[e._v('当"Zone1"想要向"Zone2"通过"Hub"发送证明，那么IBCPacket 的数据是相同的，无论这个包是在"Zone1"、 "Hub"还是"Zone2"上梅克尔化的。唯一可变的域只有追踪交付的Status （状态），如下所示。')]),e._v(" "),o("h2",{attrs:{id:"-43"}},[e._v("鸣谢")]),e._v(" "),o("p",[e._v("感谢朋友及同行在概念成型与检查方面提供的帮助，以及对我们同Tendermint及Cosmos工作的支持。")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"https://www.skuchain.com/"}},[e._v("SkuChain")]),e._v("的 "),o("a",{attrs:{href:"https://github.com/zmanian"}},[e._v("Zaki Manian")]),e._v("在 格式和措辞方面提供了很多支持，尤其是TMSP部分。")]),e._v(" "),o("li",[e._v("Althea and Dustin Byington 的 "),o("a",{attrs:{href:"https://github.com/jtremback"}},[e._v("Jehan Trembac")]),e._v(" "),o("a",{attrs:{href:"https://github.com/jtremback"}},[e._v("k")]),e._v(" 在初始迭代方面帮助。")]),e._v(" "),o("li",[o("a",{attrs:{href:"https://eprint.iacr.org/2016/199"}},[e._v("Honey Badger")]),e._v("的 "),o("a",{attrs:{href:"http://soc1024.com/"}},[e._v("Andrew Miller")]),e._v(" 对共识部分给予的反馈。")]),e._v(" "),o("li",[o("a",{attrs:{href:"https://fixingtao.com/"}},[e._v("Greg Slepak")]),e._v("对共识及措辞给予的反馈。")]),e._v(" "),o("li",[e._v("同时还要感谢  "),o("a",{attrs:{href:"https://github.com/gleim"}},[e._v("Bill Gleim")]),e._v("和 "),o("a",{attrs:{href:"http://www.seunghwanhan.com/"}},[e._v("Seunghwan Han")]),e._v("的各种支持与贡献。")]),e._v(" "),o("li",[e._v("**此处还有您及您的组织对本文的贡献。")])]),e._v(" "),o("h2",{attrs:{id:"-44"}},[e._v("引用")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"https://bitcoin.org/bitcoin.pdf"}},[e._v("1")]),e._v(" Bitcoin: "),o("a",{attrs:{href:"https://bitcoin.org/bitcoin.pdf"}},[e._v("https://bitcoin.org/bitcoin.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"http://zerocash-project.org/paper"}},[e._v("2")]),e._v(" ZeroCash: "),o("a",{attrs:{href:"http://zerocash-project.org/paper"}},[e._v("http://zerocash-project.org/paper")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/ethereum/wiki/wiki/White-Paper"}},[e._v("3")]),e._v(" Ethereum: "),o("a",{attrs:{href:"https://github.com/ethereum/wiki/wiki/White-Paper"}},[e._v("https://github.com/ethereum/wiki/wiki/White-Paper")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://download.slock.it/public/DAO/WhitePaper.pdf"}},[e._v("4")]),e._v(" TheDAO: "),o("a",{attrs:{href:"https://download.slock.it/public/DAO/WhitePaper.pdf"}},[e._v("https://download.slock.it/public/DAO/WhitePaper.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki"}},[e._v("5")]),e._v(" Segregated Witness: "),o("a",{attrs:{href:"https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki"}},[e._v("https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://arxiv.org/pdf/1510.02037v2.pdf"}},[e._v("6")]),e._v(" BitcoinNG: "),o("a",{attrs:{href:"https://arxiv.org/pdf/1510.02037v2.pdf"}},[e._v("https://arxiv.org/pdf/1510.02037v2.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://lightning.network/lightning-network-paper-DRAFT-0.5.pdf"}},[e._v("7")]),e._v(" Lightning Network: "),o("a",{attrs:{href:"https://lightning.network/lightning-network-paper-DRAFT-0.5.pdf"}},[e._v("https://lightning.network/lightning-network-paper-DRAFT-0.5.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/tendermint/tendermint/wiki"}},[e._v("8")]),e._v(" Tendermint: "),o("a",{attrs:{href:"https://github.com/tendermint/tendermint/wiki"}},[e._v("https://github.com/tendermint/tendermint/wiki")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://groups.csail.mit.edu/tds/papers/Lynch/jacm85.pdf"}},[e._v("9")]),e._v(" FLP Impossibility: "),o("a",{attrs:{href:"https://groups.csail.mit.edu/tds/papers/Lynch/jacm85.pdf"}},[e._v("https://groups.csail.mit.edu/tds/papers/Lynch/jacm85.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://blog.ethereum.org/2014/01/15/slasher-a-punitive-proof-of-stake-algorithm/"}},[e._v("10")]),e._v(" Slasher: "),o("a",{attrs:{href:"https://blog.ethereum.org/2014/01/15/slasher-a-punitive-proof-of-stake-algorithm/"}},[e._v("https://blog.ethereum.org/2014/01/15/slasher-a-punitive-proof-of-stake-algorithm/")])]),e._v(" "),o("li",[o("a",{attrs:{href:"http://pmg.csail.mit.edu/papers/osdi99.pdf"}},[e._v("11")]),e._v(" PBFT: "),o("a",{attrs:{href:"http://pmg.csail.mit.edu/papers/osdi99.pdf"}},[e._v("http://pmg.csail.mit.edu/papers/osdi99.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://bitshares.org/technology/delegated-proof-of-stake-consensus/"}},[e._v("12")]),e._v(" BitShares: "),o("a",{attrs:{href:"https://bitshares.org/technology/delegated-proof-of-stake-consensus/"}},[e._v("https://bitshares.org/technology/delegated-proof-of-stake-consensus/")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://www.stellar.org/papers/stellar-consensus-protocol.pdf"}},[e._v("13")]),e._v(" Stellar: "),o("a",{attrs:{href:"https://www.stellar.org/papers/stellar-consensus-protocol.pdf"}},[e._v("https://www.stellar.org/papers/stellar-consensus-protocol.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://interledger.org/rfcs/0001-interledger-architecture/"}},[e._v("14")]),e._v(" Interledger: "),o("a",{attrs:{href:"https://interledger.org/rfcs/0001-interledger-architecture/"}},[e._v("https://interledger.org/rfcs/0001-interledger-architecture/")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://blockstream.com/sidechains.pdf"}},[e._v("15")]),e._v(" Sidechains: "),o("a",{attrs:{href:"https://blockstream.com/sidechains.pdf"}},[e._v("https://blockstream.com/sidechains.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost/"}},[e._v("16")]),e._v(" Casper: "),o("a",{attrs:{href:"https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost/"}},[e._v("https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost/")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/tendermint/tmsp"}},[e._v("17")]),e._v(" TMSP: "),o("a",{attrs:{href:"https://github.com/tendermint/tmsp"}},[e._v("https://github.com/tendermint/tmsp")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/ethereum/EIPs/issues/53"}},[e._v("18")]),e._v(" Ethereum Sharding: "),o("a",{attrs:{href:"https://github.com/ethereum/EIPs/issues/53"}},[e._v("https://github.com/ethereum/EIPs/issues/53")])]),e._v(" "),o("li",[o("a",{attrs:{href:"http://www.ds.ewi.tudelft.nl/fileadmin/pds/papers/PerformanceAnalysisOfLibswift.pdf"}},[e._v("19")]),e._v(" LibSwift: "),o("a",{attrs:{href:"http://www.ds.ewi.tudelft.nl/fileadmin/pds/papers/PerformanceAnalysisOfLibswift.pdf"}},[e._v("http://www.ds.ewi.tudelft.nl/fileadmin/pds/papers/PerformanceAnalysisOfLibswift.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf"}},[e._v("20")]),e._v(" DLS: "),o("a",{attrs:{href:"http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf"}},[e._v("http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://en.bitcoin.it/wiki/Thin_Client_Security"}},[e._v("21")]),e._v(" Thin Client Security: "),o("a",{attrs:{href:"https://en.bitcoin.it/wiki/Thin_Client_Security"}},[e._v("https://en.bitcoin.it/wiki/Thin_Client_Security")])]),e._v(" "),o("li",[o("a",{attrs:{href:"http://vitalik.ca/files/mauve_paper.html"}},[e._v("22")]),e._v(" Ethereum 2.0 Mauve Paper: "),o("a",{attrs:{href:"http://vitalik.ca/files/mauve_paper.html"}},[e._v("http://vitalik.ca/files/mauve_paper.html")])])]),e._v(" "),o("h4",{attrs:{id:"-45"}},[e._v("未分类链接")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"https://www.docdroid.net/ec7xGzs/314477721-ethereum-platform-review-opportunities-and-challenges-for-private-and-consortium-blockchains.pdf.html"}},[e._v("https://www.docdroid.net/ec7xGzs/314477721-ethereum-platform-review-opportunities-and-challenges-for-private-and-consortium-blockchains.pdf.html")])])])])}]}},534:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("h1",{attrs:{id:""}},[e._v("코스모스")]),e._v(" "),o("p",[e._v("분산원장 네트워크")]),e._v(" "),o("p",[o("strong",[e._v("저자:")])]),e._v(" "),o("p",[e._v("Jae Kwon "),o("a",{attrs:{href:"mailto:jae@tendermint.com"}},[e._v("jae@tendermint.com")]),o("br"),e._v("\nEthan Buchman "),o("a",{attrs:{href:"mailto:ethan@tendermint.com"}},[e._v("ethan@tendermint.com")])]),e._v(" "),o("p",[o("strong",[e._v("번역 및 제작:")])]),e._v(" "),o("p",[e._v("한승환, 이승민, 김기현, 윤승완, HJ Kim(금마), 김석현")]),e._v(" "),o("p"),o("div",{staticClass:"minimal-toc"},[o("ul",[o("li",[o("a",{attrs:{href:"#introduction"}},[e._v("서 론 (Introduction)")])]),o("li",[o("a",{attrs:{href:"#tendermint"}},[e._v("텐더민트 (Tendermint)")]),o("ul",[o("li",[o("a",{attrs:{href:"#validators"}},[e._v("검증인 (Validators)")])]),o("li",[o("a",{attrs:{href:"#consensus"}},[e._v("합의 (Consensus)")])]),o("li",[o("a",{attrs:{href:"#light-clients"}},[e._v("라이트 클라이언트 (Light Clients)")])]),o("li",[o("a",{attrs:{href:"#preventing-attacks"}},[e._v("공격 방지 (Preventing Attacks)")])]),o("li",[o("a",{attrs:{href:"#tmsp"}},[e._v("TMSP")])])])]),o("li",[o("a",{attrs:{href:"#cosmos-overview"}},[e._v("코스모스 개요 (Cosmos Overview)")]),o("ul",[o("li",[o("a",{attrs:{href:"#tendermint-bft-dpos"}},[e._v("Tendermint-BFT DPoS")])]),o("li",[o("a",{attrs:{href:"#governance"}},[e._v("거버넌스 (Governance)")])])])]),o("li",[o("a",{attrs:{href:"#the-hub-and-zones"}},[e._v("허브와 존 (The Hub and Zones)")]),o("ul",[o("li",[o("a",{attrs:{href:"#the-hub"}},[e._v("허브 (The Hub)")])]),o("li",[o("a",{attrs:{href:"#the-zones"}},[e._v("존 (The Zones)")])])])]),o("li",[o("a",{attrs:{href:"#inter-blockchain-communication-ibc"}},[e._v("블록체인 간 커뮤니케이션 (Inter-blockchain Communication (IBC))")])]),o("li",[o("a",{attrs:{href:"#use-cases"}},[e._v("사용사례 (Use Cases)")]),o("ul",[o("li",[o("a",{attrs:{href:"#distributed-exchange"}},[e._v("분산거래소 (Distributed Exchange)")])]),o("li",[o("a",{attrs:{href:"#pegging-to-other-cryptocurrencies"}},[e._v("다른 화폐에 가치고정 (Pegging to Other Cryptocurrencies)")])]),o("li",[o("a",{attrs:{href:"#ethereum-scaling"}},[e._v("이더리움 확장성 (Ethereum Scaling)")])]),o("li",[o("a",{attrs:{href:"#multi-application-integration"}},[e._v("멀티 어플리케이션 통합 (Multi-Application Integration)")])]),o("li",[o("a",{attrs:{href:"#network-partition-mitigation"}},[e._v("네트워크 분할 완화 (Network Partition Mitigation)")])]),o("li",[o("a",{attrs:{href:"#federated-name-resolution-system"}},[e._v("연합 명칭 결의 시스템 (Federated Name Resolution System)")])])])]),o("li",[o("a",{attrs:{href:"#issuance-and-incentives"}},[e._v("발행과 인센티브 (Issuance and Incentives)")]),o("ul",[o("li",[o("a",{attrs:{href:"#the-atom-token"}},[e._v("아톰 토큰 (The Atom Token)")]),o("ul",[o("li",[o("a",{attrs:{href:"#fundraiser"}},[e._v("크라우드펀딩 (Fundraiser)")])])])]),o("li",[o("a",{attrs:{href:"#limitations-on-the-number-of-validators"}},[e._v("검증인수의 제한 (Limitations on the Number of Validators)")])]),o("li",[o("a",{attrs:{href:"#becoming-a-validator-after-genesis-day"}},[e._v("제네시스 일이후에 검증인되기 (Becoming a Validator After Genesis Day)")])]),o("li",[o("a",{attrs:{href:"#penalties-for-validators"}},[e._v("검증인에 대한 처벌 (Penalties for Validators)")])]),o("li",[o("a",{attrs:{href:"#transaction-fees"}},[e._v("이체 수수료 (Transaction Fees)")])]),o("li",[o("a",{attrs:{href:"#incentivizing-hackers"}},[e._v("해커에 대한 인센티브 제공 (Incentivizing Hackers)")])]),o("li",[o("a",{attrs:{href:"#governance-specification"}},[e._v("거버넌스 (Governance Specification)")])]),o("li",[o("a",{attrs:{href:"#parameter-change-proposal"}},[e._v("파라미터 변경 프로포잘 (Parameter Change Proposal)")])]),o("li",[o("a",{attrs:{href:"#text-proposal"}},[e._v("텍스트 프로포잘 (Text Proposal)")])])])]),o("li",[o("a",{attrs:{href:"#roadmap"}},[e._v("로드맵 (Roadmap)")])]),o("li",[o("a",{attrs:{href:"#related-work"}},[e._v("관련 연구 (Related Work)")]),o("ul",[o("li",[o("a",{attrs:{href:"#consensus-systems"}},[e._v("합의 시스템 (Consensus Systems)")]),o("ul",[o("li",[o("a",{attrs:{href:"#classic-byzantine-fault-tolerance"}},[e._v("고전적 비잔틴 장애 저항 (Classic Byzantine Fault Tolerance)")])]),o("li",[o("a",{attrs:{href:"#bitshares-delegated-stake"}},[e._v("비트쉐어 위임 지분 (BitShares delegated stake)")])]),o("li",[o("a",{attrs:{href:"#stellar"}},[e._v("스텔라 (Stellar)")])]),o("li",[o("a",{attrs:{href:"#ng-bitcoinng"}},[e._v("비트코인NG (BitcoinNG)")])]),o("li",[o("a",{attrs:{href:"#casper"}},[e._v("캐스퍼 (Casper)")])])])]),o("li",[o("a",{attrs:{href:"#horizontal-scaling"}},[e._v("수평 스케일링 (Horizontal Scaling)")]),o("ul",[o("li",[o("a",{attrs:{href:"#interledger-protocol"}},[e._v("인터레저 프로토콜 (Interledger Protocol)")])]),o("li",[o("a",{attrs:{href:"#sidechains"}},[e._v("사이드체인 (Sidechains)")])]),o("li",[o("a",{attrs:{href:"#ethereum-scalability-efforts"}},[e._v("이더리움 확장성 노력 (Ethereum Scalability Efforts)")])]),o("li",[o("a",{attrs:{href:"#vs-20-mauve-cosmos-vs-ethereum-20-mauve"}},[e._v("코스모스 vs 이더리움 2.0 Mauve (Cosmos vs Ethereum 2.0 Mauve)")])])])]),o("li",[o("a",{attrs:{href:"#general-scaling"}},[e._v("일반 스케일링 (General Scaling)")]),o("ul",[o("li",[o("a",{attrs:{href:"#lightning-network"}},[e._v("라이트닝 네트워크 (Lightning Network)")])]),o("li",[o("a",{attrs:{href:"#segregated-witness"}},[e._v("세그위트 (Segregated Witness)")])])])])])]),o("li",[o("a",{attrs:{href:"#appendix"}},[e._v("부 록 (Appendix)")]),o("ul",[o("li",[o("a",{attrs:{href:"#fork-accountability"}},[e._v("포크 책임 (Fork Accountability)")])]),o("li",[o("a",{attrs:{href:"#tendermint-consensus"}},[e._v("텐더민트 합의 (Tendermint Consensus)")])]),o("li",[o("a",{attrs:{href:"#tendermint-light-clients"}},[e._v("텐더민트 라이트 클라이언트 (Tendermint Light Clients)")])]),o("li",[o("a",{attrs:{href:"#preventing-long-range-attacks"}},[e._v("장기 공격 방지 (Preventing Long Range Attacks)")])]),o("li",[o("a",{attrs:{href:"#overcoming-forks-and-censorship-attacks"}},[e._v("포크 및 검열 공격 극복 (Overcoming Forks and Censorship Attacks)")])]),o("li",[o("a",{attrs:{href:"#tmsp-tmsp-specification"}},[e._v("TMSP 명세 (TMSP specification)")]),o("ul",[o("li",[o("a",{attrs:{href:"#appendtx"}},[e._v("AppendTx")])]),o("li",[o("a",{attrs:{href:"#checktx"}},[e._v("CheckTx")])]),o("li",[o("a",{attrs:{href:"#commit"}},[e._v("커밋 (Commit)")])]),o("li",[o("a",{attrs:{href:"#query"}},[e._v("Query")])]),o("li",[o("a",{attrs:{href:"#flush"}},[e._v("Flush")])]),o("li",[o("a",{attrs:{href:"#info"}},[e._v("Info")])]),o("li",[o("a",{attrs:{href:"#setoption"}},[e._v("SetOption")])]),o("li",[o("a",{attrs:{href:"#initchain"}},[e._v("InitChain")])]),o("li",[o("a",{attrs:{href:"#beginblock"}},[e._v("BeginBlock")])]),o("li",[o("a",{attrs:{href:"#endblock"}},[e._v("EndBlock")])])])]),o("li",[o("a",{attrs:{href:"#ibc-ibc-packet-delivery-acknowledgement"}},[e._v("IBC 패킷 전송 확인응답 (IBC Packet Delivery Acknowledgement)")])]),o("li",[o("a",{attrs:{href:"#merkle-tree-proof-specification"}},[e._v("머클 트리와 증명 명세 (Merkle Tree & Proof Specification)")]),o("ul",[o("li",[o("a",{attrs:{href:"#simple-tree"}},[e._v("단순 트리 (Simple Tree)")])]),o("li",[o("a",{attrs:{href:"#iavl-tree"}},[e._v("IAVL+ Tree")])])])]),o("li",[o("a",{attrs:{href:"#transaction-types"}},[e._v("이체 유형 (Transaction Types)")]),o("ul",[o("li",[o("a",{attrs:{href:"#ibcblockcommittx"}},[e._v("IBCBlockCommitTx")])]),o("li",[o("a",{attrs:{href:"#ibcpackettx"}},[e._v("IBCPacketTx")])])])])])]),o("li",[o("a",{attrs:{href:"#acknowledgements"}},[e._v("감사의 글 (Acknowledgements)")])]),o("li",[o("a",{attrs:{href:"#citations"}},[e._v("인용 (Citations)")]),o("ul",[o("li",[o("a",{attrs:{href:"#unsorted-links"}},[e._v("기타 링크 (Unsorted links)")])])])])])]),o("p"),e._v(" "),o("h2",{attrs:{id:"introduction"}},[e._v("서 론 (Introduction)")]),e._v(" "),o("p",[e._v("오픈 소스 생태계, 탈중앙화 파일 공유, 퍼블릭 암호화폐 등이 연달아 성공하면서 탈중앙화 인터넷 프로토콜들이 사회경제적 인프라를 근본적으로 개선하는데 사용될 수 있다는 것을 알게 되었다. 비트코인"),o("a",{attrs:{href:"https://bitcoin.org/bitcoin.pdf"}},[e._v("[1]")]),e._v("(암호화폐)과 제로캐시"),o("a",{attrs:{href:"http://zerocash-project.org/paper"}},[e._v("[2]")]),e._v("(프라이버시용 암호화폐) 같은 특화된 블록체인 어플리케이션들이 있었고, Augur(예측 시장)와 TheDAO"),o("a",{attrs:{href:"https://download.slock.it/public/DAO/WhitePaper.pdf"}},[e._v("[4]")]),e._v("(투자 클럽) 같은 무수한 분산 애플리케이션들을 가진 이더리움(Ethereum)"),o("a",{attrs:{href:"https://github.com/ethereum/wiki/wiki/White-Paper"}},[e._v("[3]")]),e._v(" 같은 범용 스마트 컨트랙트 플랫폼들이 있었다.")]),e._v(" "),o("p",[e._v("그러나 지금까지 이런 블록체인들은 엄청난 에너지 비효율, 형편없거나 제한적인 성능, 미성숙한 거버넌스 메커니즘 등을 비롯해 많은 결함들을 경험해왔다. 세그위트(Segregated-Witness)"),o("a",{attrs:{href:"https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki"}},[e._v("[5]")]),e._v("와 비트코인NG(BitconNG)"),o("a",{attrs:{href:"https://arxiv.org/pdf/1510.02037v2.pdf"}},[e._v("[6]")]),e._v(" 같은 비트코인 이체 처리량을 확장하기 위한 여러 제안들이 있었지만, 완전 감사가능성(complete auditability)을 희생하지 않는 이상, 여전히 단일한 기계의 용량에 제한을 받는 수직적 스케일링 솔루션이다. 라이트닝 네트워크(Lightning Network)"),o("a",{attrs:{href:"https://lightning.network/lightning-network-paper-DRAFT-0.5.pdf"}},[e._v("[7]")]),e._v("는 원장에서 특정한 이체들을 완전히 제외하여 비트코인의 확장성에 도움을 주며, 소액결제와 프라이버시 보호형 지급 플랫폼(privacy preserving payment rails)에 적합하지만, 보다 범용적인 확장에는 적합하지 않을 수 있다.")]),e._v(" "),o("p",[e._v("가장 이상적인 해결책은 다수의 병렬 블록체인들이 각자의 보안 특성을 유지하면서 호환되는 것이다. 하지만 작업증명의 경우, 이것이 불가능은 아니더라도 상당히 어렵다는 것이 증명되었다. 예를 들어, 병합채굴(merged-mining)은 부모체인의 보안을 위해 수행된 작업을 자녀체인에서 재사용하는 것을 허용하지만, 이체들은 여전히 차례대로 각 노드에 의해 검증돼야 하고, 부모체인의 해시파워 대부분이 자녀체인에서도 병합채굴을 하고 있지 않을 경우, 병합 채굴된(merged mined) 블록체인이 공격에 취약해진다. 우리는 "),o("a",{attrs:{href:"http://vukolic.com/iNetSec_2015.pdf"}},[e._v("대안 블록체인 네트워크 아키텍처들(alternative blockchain network architectures)")]),e._v("에 대한 학술적 고찰을 하였고, 그 중 일부에 대해서는 요약과 결점들을 아래의 "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/WHITEPAPER.md#related-work"}},[e._v("관련 연구(Related Work)")]),e._v("에서 다루었다.")]),e._v(" "),o("p",[e._v("우리는 이 모든 문제들을 해결하는 새로운 블록체인 네트워크 아키텍처인 코스모스(Cosmos)를 제시하고자 한다. 코스모스는 존(zone)이라고 불리는 많은 독립된 블록체인들의 네트워크이다. 존은  텐더민트 코어(Tendermint Core)"),o("a",{attrs:{href:"https://github.com/tendermint/tendermint/wiki"}},[e._v("[8]")]),e._v("를 통해 작동하는데, 텐더민트 코어는 일관적이고 안전한 고성능의 "),o("a",{attrs:{href:"https://blog.cosmos.network/tendermint-vs-pbft-12e9f294c9ab"}},[e._v("유사")]),o("a",{attrs:{href:"https://blog.cosmos.network/tendermint-vs-pbft-12e9f294c9ab"}},[e._v("PBFT")]),e._v(" 합의 엔진을 제공하며, 악의적인 공격자들에게 엄격한 "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/WHITEPAPER.md#fork-accountability"}},[e._v("포크 책임(fork-accountability)")]),e._v("을 묻는다. 텐더민트 코어의 BFT 합의 알고리즘은 공개형 지분증명 블록체인들의 확장성을 확보하는데 적합하다.")]),e._v(" "),o("p",[e._v("코스모스 상의 첫 번째 존을 코스모스 허브(Cosmos Hub)라고 부른다. 코스모스 허브는 단순한 거버넌스 메커니즘을 통해 네트워크가 적응하고 업그레이드 할 수 있게 하는 ‘다중 자산 지분증명 암호화폐(multi-asset proof-of-stake cryptocurrency)’이다. 그에 더해서, 코스모스 허브는 다른 존들을 연결함으로 확장될 수 있다.")]),e._v(" "),o("p",[e._v("코스모스 네트워크의 허브와 존들은 블록체인 간 통신(IBC: inter-blockchain communication) 프로토콜을 통하여 상호 통신한다. 이 프로토콜은 블록체인들을 위한 일종의 가상 UDP 또는 TCP 역할을 한다. 토큰들은 존들 간 거래소의 유동성(exchange liquidity)없이도 안전하고 신속하게 하나의 존에서 다른 존으로 전송될 수 있다. 존들 간 토큰 전송은 코스모스 허브를 통과하며, 코스모스 허브는 각 존이 보유한 토큰 총액을 추적한다. 허브는 각 존을 다른 존들의 실패(failure)로부터 격리한다. 또한 누구든지 코스모스 허브에 새로운 존을 연결할 수 있기 때문에, 존들은 앞으로의 새로운 블록체인 혁신과의 장래 호환성도 확보한다.")]),e._v(" "),o("h2",{attrs:{id:"tendermint"}},[e._v("텐더민트 (Tendermint)")]),e._v(" "),o("p",[e._v("본 절에서는 텐더민트 합의 프로토콜과 이를 통한 애플리케이션을 구축을 위해 사용되는 인터페이스를 다룬다. 상세한 내용은 "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/WHITEPAPER.md#appendix"}},[e._v("부록(appendix)")]),e._v("참조")]),e._v(" "),o("h3",{attrs:{id:"validators"}},[e._v("검증인 (Validators)")]),e._v(" "),o("p",[e._v("전형적인 비잔틴 장애 허용 알고리즘들(BFT: Byzantine fault-tolerant algorithms)에서는 각 노드가 동일한 가중치를 갖는다. 텐더민트에서는 노드들이 ‘0이상’의 *투표권(voting power)"),o("em",[e._v("을 가지며, 양(+)의 투표권을 갖는 노드들을 "),o("em",[e._v("검증인")])]),e._v("(validators)*라고 부른다. 검증인들은 다음 블록에 동의하는 암호서명(cryptographic signature), 즉 *투표(vote)*를 전파(broadcast)함으로써 합의 프로토콜에 참여한다.")]),e._v(" "),o("p",[e._v("검증인(validator)들의 투표권은 제네시스(genesis) 당시에 결정되거나 블록체인에 의해 결정론적으로(deterministically) 변경되기도 한다. 예를 들어, 코스모스 허브와 같은 지분증명 애플리케이션에서는 투표권이 담보물로서 본딩된(bonded) 지분 토큰(staking  token)의 양에 의해 결정될 수도 있다.")]),e._v(" "),o("p",[o("em",[e._v("주: ⅔, ⅓과 같은 분수들은 모든 "),o("strong",[e._v("검증인")]),e._v("들이 동등한 가중치를 갖지 않는 한, "),o("strong",[e._v("검증인")]),e._v("들의 총수가 결코 아니라 총 투표권"),o("strong",[e._v("에서 차지하는")]),e._v(" "),o("strong",[e._v("비중")]),e._v('을 가리킨다. 주: +⅔는 " ⅔ 초과"를 의미하'),o("strong",[e._v("며")]),e._v(', ⅓+은 "⅓ 이상"을 의미한다.')])]),e._v(" "),o("h3",{attrs:{id:"consensus"}},[e._v("합의 (Consensus)")]),e._v(" "),o("p",[e._v("텐더민트는 DLS 합의 알고리즘에서 파생되는, 부분적 동기 BFT 합의 프로토콜(synchronous BFT consensus protocol)이다"),o("a",{attrs:{href:"http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf"}},[e._v("[20]")]),e._v(". 텐더민트는 단순함, 성능 그리고 "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/WHITEPAPER.md#fork-accountability"}},[e._v("포크 책임(fork-accountability)")]),e._v("이 특징이다. 이 프로토콜은 공개되있고 고정된 세트의 검증인들(a fixed, known set of validators)을 요구하는데, 각 검증인 공개 키에 의해 식별된다. 검증인들은 한 번에 하나의 블록, 즉 이체 목록(a list of transactions)에 대해 합의를 시도한다. 블록에 대한  합의는 라운드(round)를 통해 진행된다. 각 라운드에는 블록을 제안하는 라운드 리더(round-leader), 즉 제안자(proposer)가 있다. 그 다음, 검증인들은 제안된  블록을 받아들일 것인지 또는 다음 라운드로 넘어갈 것인지에 대한 단계별 투표를 진행한다. 각 라운드의 제안자는 검증인 리스트(ordered list)에서 투표권에 비례해 결정론적으로 선택된다.")]),e._v(" "),o("p",[e._v("프로토콜에 대한 세부정보는 "),o("a",{attrs:{href:"https://github.com/tendermint/tendermint/wiki/Byzantine-Consensus-Algorithm"}},[e._v("여기")]),e._v("를 참조")]),e._v(" "),o("p",[e._v("텐더민트 보안은 압도적 다수결(+⅔)과 잠금 메커니즘(locking mechanism)을 통해 최적의 비잔틴 장애 허용을 사용하는 것으로부터 유래한다. 다음을 보장한다.")]),e._v(" "),o("ul",[o("li",[o("p",[e._v("안전성을 저해(violation of safety)하기 위해서는 ⅓+의 투표권이 비잔틴이어야 하고, ‘2개를 초과하는 값들’이 커밋(commit)되어야 한다.")])]),e._v(" "),o("li",[o("p",[e._v("프로토콜은 임의의 검증인들 세트가 안전성을 저해하는 데 성공하거나 또는 시도만 하더라도, 이들을 식별할 수 있다. 충돌하는 블록들에 찬성 투표 하거나 정당하지 않은 투표들을 전파하는 이들 모두가 포함된다.")])])]),e._v(" "),o("p",[e._v("텐더민트는 강력한 보장들에 더해 성능면에서도 탁월하다. 5개 대륙 7개 데이터센터에 분산되어 있는 64개 노드의 대중품 클라우드(commodity cloud)를 기준으로, 텐더민트 합의는 약 1~2초의 커밋 지연속도(commit latencies)와 함께 초당 수천 개의 트랜잭션(transaction)를 처리한다. 특히, 검증인들이 실패하거나 악의적으로 조작된 투표를 전파하는 가혹한 공격 상황(adversarial conditions)에서도 초당 1,000번 수준의 트랜잭션 성능은 가볍게 능가한다. "),o("em",[e._v("아래 그림 참조")])]),e._v(" "),o("p",[o("img",{attrs:{src:"https://raw.githubusercontent.com/gnuclear/atom-whitepaper/master/images/tendermint_throughput_blocksize.png",alt:"Figure of Tendermint throughput performance"}})]),e._v(" "),o("h3",{attrs:{id:"light-clients"}},[e._v("라이트 클라이언트 (Light Clients)")]),e._v(" "),o("p",[e._v("텐더민트 합의 알고리즘의 특징은 단순화된 라이트 클라이언트 보안인데, 모바일 및 사물인터넷에 사용되기도 적합하다. 비트코인 라이트 클라이언트는 ‘블록헤더 체인’들을 동기화(sync)하여 가장 많은 작업증명을 가진 체인을 찾아야 하지만, 텐더민트 라이트 클라이언트는 ‘검증인 세트’의 변경을 추적해서, 최신 블록에서 +⅔ 프리커밋(PreCommit)을 검증하기만 하면 최신 상태를 결정할 수 있다.")]),e._v(" "),o("p",[e._v("간결한 라이트 클라이언트 증명들은 "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/WHITEPAPER.md#/h"}},[e._v("블록체인 간 통신(inter-blockchain communication)")]),e._v("도 가능하게 한다.")]),e._v(" "),o("h3",{attrs:{id:"preventing-attacks"}},[e._v("공격 방지 (Preventing Attacks)")]),e._v(" "),o("p",[e._v("텐더민트는 ‘"),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/WHITEPAPER.md#/h"}},[e._v("long-range-nothing-at-stake double spend")]),e._v("’나 "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/WHITEPAPER.md#/h"}},[e._v("검열(censorship)")]),e._v(" 등을 방지하기 위한 다양한 보호장치를 가지고 있다. 세부사항은 "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/WHITEPAPER.md#/h"}},[e._v("부록(appendix)")]),e._v("참조")]),e._v(" "),o("h3",{attrs:{id:"tmsp"}},[e._v("TMSP")]),e._v(" "),o("p",[e._v('텐더민트 합의 알고리즘은 텐더민트 코어(Tendermint Core)라는 프로그램에서 구현된다. 텐더민트 코어는 모든 결정적 블랙박스 애플리케이션(deterministic blackbox application)을 분산 복제 블록체인(distributedly replicated blockchain)으로 전환시킬 수 있는 어플리케이션 어그노스틱(application-agnostic) "합의 엔진"이다. 아파치 웹 서버나 Nginx가 CGI나 FastCGI를 통해 워드프레스 애플리케이션에 접속하는 것처럼, 텐더민트 코어는 텐더민트 소켓 프로토콜(TMSP: Tendermint Socket Protocol)을 통해 블록체인 애플리케이션들과 연결된다.')]),e._v(" "),o("p",[e._v("비트코인을 예로 들어보자면, 비트코인은 각 노드가 완전 감사되는 UTXO(fully audited Unspent Transaction Output) 데이터베이스를 유지하는 암호화폐 블록체인이다. 만일 누군가 비트코인과 같은 시스템(Bitcoin-like system)을 TMSP 상에 만들고자 하면, ‘"),o("strong",[e._v("텐더민트 코어")]),e._v("’는 아래와 같은 부분들을 책임진다.")]),e._v(" "),o("ul",[o("li",[o("p",[e._v("노드 간 블록 및 이체 공유")])]),e._v(" "),o("li",[o("p",[e._v("정규(canomical)/변경배제(immutable) 이체순서의 확립(블록체인)")])])]),e._v(" "),o("p",[e._v("반면, ‘"),o("strong",[e._v("TMSP의 어플리케이션")]),e._v("’은 다음을 책임진다.")]),e._v(" "),o("ul",[o("li",[o("p",[e._v("UTXO 데이터베이스 유지")])]),e._v(" "),o("li",[o("p",[e._v("이체의 암호서명 검증")])]),e._v(" "),o("li",[o("p",[e._v("존재하지 않는 이체를 지불방지")])]),e._v(" "),o("li",[o("p",[e._v("클라이언트들의 UTXO 데이터베이스에 대한 query 허용")])])]),e._v(" "),o("p",[e._v("텐더민트는 애플리케이션 프로세스와 합의 프로세스 사이에 매우 단순한 API를 제공함으로써 블록체인 설계를 분해할 수 있다.")]),e._v(" "),o("h2",{attrs:{id:"cosmos-overview"}},[e._v("코스모스 개요 (Cosmos Overview)")]),e._v(" "),o("p",[e._v("코스모스는 독립 병렬 블록체인들의 네트워크이며, 해당 블록체인들은 각기 텐더민트와 같은 전형적인 BFT 합의 알고리즘에 기반한다"),o("a",{attrs:{href:"https://bitcoin.org/bitcoin.pdf"}},[e._v("1")]),e._v(".")]),e._v(" "),o("p",[e._v("코스모스의 최초 블록체인이 곧 코스모스 허브가 된다. 코스모스 허브는 블록체인 간 통신(IBC) 프로토콜을 통해 다른 많은 블록체인들(즉, "),o("em",[e._v("존들")]),e._v(")과 연결된다. 코스모스 허브는 수많은 유형의 토큰을 추적하고, 연결된 각 존의 토큰 총 수를 기록한다. 모든 존들 간의 코인 전송은 코스모스 허브를 거치기 때문에 토큰은 존들 간의 유동 거래소(liquid exchange) 방식 없이")]),e._v(" "),o("p",[e._v("이 아키텍처는 어플리케이션 상호운용성, 확장성 그리고 무결절 업그레이드 가능성(seamless upgradability)을 포함한 블록체인이 직면한 많은 문제들을 해결한다. 예를 들면, Bitcoind, Go-Ethereum, 크립토노트(CryptoNote), ZCash 등을 포함한 임의의 블록체인 시스템으로부터 파생된 존들이 코스모스 허브에 연결될 수 있다. 이러한 존들을 통해 코스모스는 전역 이체(global transaction) 요구를 충족시킬 때까지 무한히 확장할 수 있다. 그리고 존들은 탈중앙화 거래소(distributed exchange)에도 매우 적합하며, 실제로 지원될 것이다.")]),e._v(" "),o("p",[e._v("코스모스는 단일 분산 원장에 불과한 것이 아니며, 코스모스 허브도 폐쇄형 플랫폼(walled garden, 울타리 친 정원)이 아니다. 오히려 코스모스는 미래 금융 시스템의 새로운 기초가 될 수 있는 개방형 분산원장 네트워크를 위한 프로토콜이며, 암호학 원리, 잘 설계된 경제(sound economics), 합의 이론, 투명성, 책임(accountability) 등의 원칙에 기반하고 있다.")]),e._v(" "),o("h3",{attrs:{id:"tendermint-bft-dpos"}},[e._v("Tendermint-BFT DPoS")]),e._v(" "),o("p",[e._v("코스모스 허브는 텐더민트 BFT 합의 알고리즘에 기반하는, 코스모스 네트워크 내 최초의 퍼블릭 블록체인이다. 텐더민트 오픈 소스 프로젝트는 비트코인의 작업증명(PoW) 합의 알고리즘이 지닌 속도, 확장성, 환경 등의 문제를 처리하기 위해서 2014년에 탄생했다. 1988년 MIT에서 개발한 증명된 BFT 알고리즘들을 활용하고 개선해서, 텐더민트 팀은 제1세대 지분증명(PoS) 암호화폐들이 겪은 Nothing-at-stake 문제를 해결하는 지분증명 암호화폐를 최초로 개념증명하였다.")]),e._v(" "),o("p",[e._v("오늘날, 대부분의 비트코인 모바일 지갑들은 이체 검증(transaction verification)을 제공하는 신뢰할 수 있는 서버(trusted server)를 이용한다. 이는 PoS가 여러번의 이체확인(confirmation)을 기다려야만, 이체확정된 것으로 간주되기 때문이다. 이중지불(double-spend) 공격이 이미 코인베이스(CoinBase) 같은 서비스들에서 일어난 바 있다.")]),e._v(" "),o("p",[e._v("다른 블록체인 합의 시스템들과는 달리 텐더민트는 즉각적이고 안전한(provably-secure) 모바일-클라이언트 지불 검증을 제공한다. 텐더민트는 분기(fork)할 수 없도록 설계되었기 때문에, 모바일 지갑들에서 즉시 이체확인이 가능하며 실제로 신뢰 없는(trustless) 지불을 실현한다. 이는 IoT관련 어플리케이션들에도 큰 영향을 줄 것이다.")]),e._v(" "),o("p",[e._v("(비트코인 채굴자들과 유사한 역할이지만 그 대신에 암호서명을 통해 투표하는) 코스모스의 검증인들은 블록을 커밋 할 책임이 있는 안전한 전용 머신들이어야 한다. 검증인이 아닌 이들(non-validators)은 ‘아톰’이라고 부르는 지분 토큰(staking tokens)을 임의의 검증인에게 위임하여 일정한 블록 수수료(block fees)와 아톰 보상(atom rewards)을 얻을 수는 있으나, 위임 검증인(delegate validator)이 해킹당하거나 프로토콜을 위반할 경우, 처벌을 받게 되는 리스크가 있다. 텐터민트 BFT 합의의 입증된 안정성 보장과 (검증인 및 위임자) 주주들의 담보 보증(collateral deposit)은 노드들에 심지어는 라이트 클라이언트들에게 증명 가능하고 정량화 가능한 보안성(provable, quantifiable security)을 제공한다.")]),e._v(" "),o("h3",{attrs:{id:"governance"}},[e._v("거버넌스 (Governance)")]),e._v(" "),o("p",[e._v("‘공개형 분산원장’은 헌법(constitution)과 거버넌스 시스템(governance system)을 가져야 한다. 비트코인은 업그레이드 등의 조정을 위해 일정 부분 비트코인 재단(Bitcoin Foundation)이나 채굴에 의존하지만, 진행속도가 느리다. 이더리움의 경우에는 The DAO 해킹의 처리를 위한 하드포크 후 ETH와 ETC로 분할되었는데, 이는 사전에 그런 의사결정을 하기 위한 사회적 계약이나 메커니즘이 존재하지 않았기 때문이다.")]),e._v(" "),o("p",[e._v("코스모스 허브의 검증인과 위임자는 코스모스 허브의 정책들을 위한 ‘코드가 아니라 평이한 언어로 된 헌법(규칙)’을 표결에 부쳐 수정할 뿐 아니라 ‘블록 가스 한계(block gas limit)’ 같은 시스템의 사전에 설정된 제한들을 업그레이드를 통해 자동으로 변경하는 프로포잘(proposals)도 표결에 부칠 수 있다. 헌법은 The DAO 사건 같은 절도 및 버그관련 문제들의 이해관계자들이 응집(cohesion)할 수 있도록 도우며, 보다 신속하고 깔끔한 해결책이 나올 수 있도록 한다.")]),e._v(" "),o("p",[e._v("각 존 역시 자체적인 헌법과 거버넌스 메커니즘을 가질 수 있다. 예를 들어, 코스모스 허브가 변경 배제(immutability) -코스모스 허브의 노드 실행 버그를 제외하고는 롤백 금지(no roll-backs)와 같은- 헌법을 적용한 경우라면, 각 존은 절도와 버그를 위한 롤백 관련 자체 정책을 설정할 수 있다.")]),e._v(" "),o("p",[e._v("코스모스 네트워크는 상이한 정책의 존들 간 상호운용성을 확보함으로 사용자들에게 궁극적 자유와 실험의 기회를 제공한다.")]),e._v(" "),o("h2",{attrs:{id:"the-hub-and-zones"}},[e._v("허브와 존 (The Hub and Zones)")]),e._v(" "),o("p",[e._v("여기서는 탈중앙화(decentralization)와 확장성(scalability)의 새로운 모델을 설명한다. 코스모스는 텐더민트에 기반한 복수의 블록체인들의 네트워크이다. 기존의 프로포잘들이 전역적 이체 순서(total global transaction ordering)를 가진 ‘단일 블록체인’을 목표로 하는 반면에, 코스모스는 수많은 블록체인들이 상호 병행 실행(run concurrently)하는 동시에 상호운용성을 확보하도록 한다.")]),e._v(" "),o("p",[e._v("기본적으로 코스모스 허브는 ‘존(zone)’이라고 부르는 여러 독립된 블록체인들을 관리한다(‘존’은 ‘샤드(shard)’로도 불림, 데이터베이스의 스케일링 기법인 ‘샤딩(sharding)’참조). 존들은 최근의 블록 커밋들을 끊임없이 허브로 전송하며, 허브는 이를 통해 항상 최신 상태를 유지한다. 마찬가지로, 각 존도 허브의 상태를 제공받는다(다만 허브를 통한 간접적인 경우를 제외하고는 존들끼리는 서로 이러한 작업을 하지 않는다). 존들은 정보의 송신과 수신의 증거인 머클 증명(Merkle-proofs)을 포스팅함으로 정보의 패킷들을 교환한다. 이 메커니즘을 ‘블록체인 간 통신(inter-blockchain communication)’ 또는 IBC라고 칭한다.")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://raw.githubusercontent.com/gnuclear/atom-whitepaper/master/images/hub_and_zones.png",alt:"Figure of hub and zones acknowledgement"}})]),e._v(" "),o("p",[e._v("어느 존이든 스스로 허브가 되어 비순환 그래프(acyclic graph)를 형성할 수 있으나 명료성을 위해 우리는 단지 하나의 허브와 많은 비-허브 존들이 존재하는 단순한 구성만 설명할 것이다.")]),e._v(" "),o("h3",{attrs:{id:"the-hub"}},[e._v("허브 (The Hub)")]),e._v(" "),o("p",[e._v("코스모스 허브는 멀티자산 분산 원장(multi-asset distributed ledger)을 관리하는 블록체인인데, 여기서 토큰은 개인 사용자들이나 존 자체가 보유할 수 있다. 이 토큰들은 ‘코인 패킷(coin packet)’이라 부르는 특수 IBC 패킷을 통해 하나의 존에서 다른 존으로 이동할 수 있다. 허브는 존들에 걸쳐 각 토큰 총액의 전역적 불변성(global invariance)을 보존한다. IBC 코인 패킷 이체는 반드시 송신자, 허브 및 수신자 블록체인에 의해 커밋 되어야 한다.")]),e._v(" "),o("p",[e._v("코스모스 허브는 전체 시스템을 위한 토큰의 ‘중앙 원장’ 역할을 하기 때문에, 보안이 무엇보다도 중요하다. 각 존은 단 4명(혹은 BFT 합의가 필요하지 않을 경우에는 훨씬 더 적은 수)의 검증인으로도 안전해지는 텐더민트 블록체인일 수 있는 반면, 허브는 대륙 네트워크 분할(continental network partition)이나 국가 주도적 공격(nation-state sponsored attack) 같은 가장 심각한 공격 시나리오들에도 견딜 수 있어야 한다. 따라서 전역적으로 탈중앙화된 검증인 세트로 보안되어야 한다.")]),e._v(" "),o("h3",{attrs:{id:"the-zones"}},[e._v("존 (The Zones)")]),e._v(" "),o("p",[e._v("코스모스 존은 허브와 IBC 메시지를 교환하는 독립 블록체인이다. 허브의 관점에서, 존은 IBC 패킷을 사용하여 토큰을 송수신할 수 있는 ‘멀티자산 동적구성원 멀티시그너처 계정(multi-asset dynamic-membership multi-signature account)’이다. 암호화폐 계정과 마찬가지로 존은 보유 중인 토큰보다 더 많은 토큰을 전송할 수 없지만, 토큰을 보유한 다른 존으로부터 토큰을 수신할 수는 있다. 존은 토큰 유형들의 ‘소스(source)’로 지정되어, 해당 토큰을 추가 공급할 수도 있다.")]),e._v(" "),o("p",[e._v("코스모스 허브의 아톰들은 허브의 검증인이 아니라, ‘허브에 연결된 존의 검증인’들에 의해 스테이킹될 수도 있다. 이 존들에 대한 이중지불 공격은 텐더민트의 포크 책임인 아톰의 대폭 감소(slashing)라는 결과를 가져오게 되는 반면, 투표권의 +⅔ 이 비잔틴인 존이라면 무효한 상태(invalid state)를 커밋할 수 있다. 코스모스 허브는 다른 존들에 커밋 된 이체들은 검증하거나 실행하지 않으므로, 자신이 신뢰하는 존으로 토큰을 전송하는 것은 사용자들의 책임이다. 장래에는 코스모스 허브의 거버넌스 시스템이 존 실패(failures)를 위한 허브 개선 프로포잘을 만들수도 있다. 예를 들면, 공격이 탐지될 때, 일부(또는 전체) 존들의 아웃바운드 토큰 전송을 억제함으로 ‘긴급 서킷 브레이킹(토큰 전송 일시중단)’을 할 수도 있다.")]),e._v(" "),o("h2",{attrs:{id:"inter-blockchain-communication-ibc"}},[e._v("블록체인 간 커뮤니케이션 (Inter-blockchain Communication (IBC))")]),e._v(" "),o("p",[e._v("여기서는 허브와 존 간의 상호 통신방법을 설명한다. 예를 들어, ‘존1(Zone 1)’, ‘존2(Zone 2)’와 ‘허브(Hub)’의 세 블록체인이 있고, ‘존1’이 ‘허브’를 통과하여 ‘존2’로 가는 패킷을 만들고자 한다. 패킷이 하나의 블록체인에서 다른 블록체인으로 이동하기 위해, 송신 체인(sending chain)이 수신지로 가는 패킷을 발행했다는 증거를 수신 체인(receiving chain)에 포스팅한다. 수신 체인이 이 증거를 확인하기 위해서는 송신자의 블록 헤더(block headers) 정보를 알아야 한다. 이 메커니즘은 사이드체인(sidechain)이 사용하는 메커니즘과 유사한데, 상호 작용하는 두 체인이 ‘존재 증명 데이터그램의 양방향 스트림(a bidirectional stream of proof-of-existence datagram)’을 통해 서로를 ‘인식’해야한다 (이체).")]),e._v(" "),o("p",[e._v("IBC 프로토콜을 두 가지 이체 방식을 통해 정의할 수 있다: 블록체인이 최근의 블록 해시를 임의의 관측자에게 증명하는 IBCBlockCommitTx 이체, 그리고 블록체인이 송신자의 어플리케이션이 패킷을 머클증명을 통해 최근 블록해시로 전파했다는 것을 증명하는 IBCPacketTx 이체")]),e._v(" "),o("p",[e._v("IBC 구동방식을 IBCBlockCommitTx와 IBCPacketTx로 분할함으로, 수신체인의 내부 수수료 시장 메커니즘(native fee market-mechanism)이 커밋될(승인될) 패킷을 결정하도록 하며, 송신체인이 얼마나 많은 아웃바운드 패킷들을 허용할 지 자유롭게 정할 수 있도록 한다.")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://raw.githubusercontent.com/gnuclear/atom-whitepaper/master/msc/ibc_without_ack.png",alt:"Figure of Zone1, Zone2, and Hub IBC without acknowledgement"}})]),e._v(" "),o("p",[e._v("위의 예에서, ‘존1’의 블록해시를 (또는 ‘존2’ 상의 ‘허브’의 블록 해시를) 업데이트 하기 위해서는, IBCBlockCommitTx 이체가 ‘존1’의 블록해시와 함께 ‘허브’에 (또는 ‘허브’의 블록해시와 함께 ‘존2’에) 반드시 포스팅 되어야 한다.")]),e._v(" "),o("p",[o("em",[e._v("두 IBC 이체 유형에 관한 보다 상세한 정보는 "),o("a",{attrs:{href:"#ibcblockcommittx"}},[e._v("IBCBlockCommitTx")]),e._v(" 와 "),o("a",{attrs:{href:"#ibcpacketcommit"}},[e._v("IBCPacketTx")]),e._v(" 를 참조.")])]),e._v(" "),o("h2",{attrs:{id:"use-cases"}},[e._v("사용사례 (Use Cases)")]),e._v(" "),o("h3",{attrs:{id:"distributed-exchange"}},[e._v("분산거래소 (Distributed Exchange)")]),e._v(" "),o("p",[e._v("비트코인이 원장을 복사하고 분산하여 더 안전해지는 것처럼, 거래소도 블록체인 상에 올림으로 내/외부의 해킹으로부터 더욱 안전해질 수 있다.")]),e._v(" "),o("p",[e._v("현재 커뮤니티에서 칭하는 탈중앙화 거래소(decentralized exchange)는 ‘아토믹 크로스체인(Atomic Cross-Chain, AXC)’ 이체에 기반하고 있다. 이를 통해 두 명의 유저는 두 개의 서로 다른 원장(체인)에서 이체를 일으키고 해당 이체는 동시에 각 원장에 기록되거나 또는 그 어떤 원장에도 기록되지 않는다. 예를 들어, AXC를 이용하면 두 명의 유저가 서로의 이더와 비트코인(또는 서로 다른 원장의 토큰)을 교환할 수 있다. AXC 기반 거래소의 장점은, 두 명의 유저 모두 서로 또는 거래소 서비스를 신뢰할 필요가 없다는 점이다. 그러나 거래를 위해서는 양 당사자가 반드시 온라인 상태여야만 한다는 점이 치명적인 단점이다.")]),e._v(" "),o("p",[e._v("또 다른 방식의 탈중앙화 거래소는 자체적인 분산원장에서 작동하는 ‘대규모의 복제 분산 거래소(a mass-replicated distributed exchange)’이다. 유저는 ‘지정가 주문(limit order)’을 내고 컴퓨터를 종료한다. 이 경우, 유저가 온라인 상태가 아니어도 거래가 성사된다. 블록체인이 해당 거래를 매칭시키고 완료시키는 것이다.")]),e._v(" "),o("p",[e._v("중앙화된 거래소의 경우, 이미 많은 지정가 주문이 걸려 있고 따라서 유저들을 더 쉽게 유치하게 된다. 거래소에서 유동성은 더 큰 유동성을 야기하고 강한 네트워크 효과(또는 승자독식)를 일으키게 된다. 현재 24시간 거래량 기준, Poloniex가 $20M으로 가장 많은 거래량을 가지고 있고, Bitfinex가 $5M로 그 다음에 위치하고 있다. 이러한 사례를 생각해보면, AXC 기반의 새로운 탈중앙화 거래소가 중앙화된 거래소를 이길 가능성은 거의 없다. 탈중앙화된 거래소가 중앙화된 거래소와 경쟁하기 위해서는 많은 거래량을 확보해야 한다. 오직 ‘분산 거래소(distributed exchange)’만이 그것을 가능하게 할 수 있다.")]),e._v(" "),o("p",[e._v("텐더민트는 또한 매우 빠른 이체 커밋을 제공한다. 일관성의 훼손없이 빠른 완결성을 우선순위에 둠으로써 코스모스 상의 존(zone)들의 이체를 빠르게 완결한다. 이는 거래소의 이체나 IBC를 통한 존들 간의 이체에 동일하게 적용된다.")]),e._v(" "),o("p",[e._v("현재 암호화폐 거래소들의 상황을 고려할 때, 코스모스를 이용해 분산거래소(일명 ‘코스모스 덱스’)를 만드는 것은 매우 적절하다. 코스모스 덱스(Cosmos DEX)의 이체 처리량과 커밋 속도는 중앙화된 거래소에 필적한다. 유저들은 지정가 주문을 올리고, 이 주문은 당사자의 온라인 상태여부에 관계없이 완결된다. 트레이더들은 텐더민트, 코스모스 허브, 그리고 IBC를 통해, 빠른 속도로 자금을 존(zone)들이나 거래소로 이동시킬 수 있다.")]),e._v(" "),o("h3",{attrs:{id:"pegging-to-other-cryptocurrencies"}},[e._v("다른 화폐에 가치고정 (Pegging to Other Cryptocurrencies)")]),e._v(" "),o("p",[e._v("특권 존(privileged zone)은 다른 암호화폐를 페깅한 토큰의 소스 역할을 할 수 있다. 페그(peg)는 코스모스 허브와 존의 관계와 본질적으로 유사한데, 코스모스 허브와 존 모두는 토큰이 한 쪽에서 다른 쪽으로 이동했다는 증명을 검증하기 위해 상대방의 최신 블록을 반드시 알고 있어야 한다. 코스모스 네트워크의 페그 존(peg-zone)은 다른 암호화폐뿐 아니라 허브도 추적한다. 페그 존을 통한 간접참조(indirection)는 허브의 로직이 단순하면서도 비트코인의 작업증명 채굴 같은 다른 블록체인 합의 전략들에 독립적(agnostic)인 상태를 유지할 수 있게 한다.")]),e._v(" "),o("p",[e._v("예를 들어, 허브의 검증인 세트와 동일한 어떤 검증인 세트를 갖는 존이 이더-페그(ether-peg) 역할을 할 수 있을 것이다. 여기서 ‘페그-존(peg-zone)’의 TMSP 애플리케이션은 ‘외부 이더리움 블록체인의 페그 컨트랙트(peg contract)’와 IBC 메시지를 교환할 수 있다. 이더 보유자들이 이더리움 상의 페그 컨트랙트로 이더를 전송함으로 코스모스의 페그 존에 이더를 전송하게 된다. 이렇게 이더가 일단 한번 수신되면, 페그 컨트랙트가 페그 존으로부터 IBC 패킷을 수신하지 않는 한 이더는 인출되지 못 한다. 페그 컨트랙트에서 특정 이더리움 계정으로부터 이더를 수신했다는 IBC 패킷을 페그 존으로 보내면, 이에 대응되는 계정이 동일한 잔고와 함께 페그 존 위에 생성된다. 페그 존 위의 (페깅된) 이더를 허브로 또는 허브로부터 전송할 수 있으며, 페깅 이더를 폐기하면서 이더리움 상의 특정 인출 주소로 그 이더를 도로 전송할 수 있고, 이더의 인출을 허용하기 위해 페그 존에서 이체가 발생했음을 증명하는 IBC 패킷을 이더리움 페그 컨트랙트에.")]),e._v(" "),o("p",[e._v("물론 그런 페깅 컨트랙트는 악의적 검증인 세트를 통한 리스크에 노출되어 있다. ⅓+ 비잔틴 투표권이 분기(fork)를 만들어 페깅된 이더를 페그 존에 유지하는 동시에 이더리움 위의 페그 컨트랙트를 통해 이더를 인출할 수도 있다. 더 좋지 않은 시나리오는 +⅔ 비잔틴 투표권이, 페그 존의 원래 페깅 로직으로부터 이탈하여, 페그 컨트랙트로 보내지는 모든 이더를 노골적으로 훔칠 수도 있다는 것이다.")]),e._v(" "),o("p",[e._v("이런 문제들은 페그를 ‘완전 책임적(totally accountable)’으로 설계하여 해결할 수 있다. 예를 들면, 허브나 원점(페깅될 토큰의 원래 블록체인)으로부터의 모든 IBC 패킷이 페그-존의 응답(acknowledgment)을 요구하도록 할 수도 있을 것이다. 허브와 원점은 페그-존 검증인들이 담보물(collateral)을 포스팅(post) 할 수 있게 하고, 독립 감사들(independent auditors)의 도전을 허용하기 위해 페그 컨트랙트로부터 나가는 토큰 전송은 지연되도록 하는 식이다. 그리고 담보 언본딩(unbonding) 기간은 충분히 길어야 한다. 이 부분은 미확정 상태로 두고, 누구든지 향후에 관련 제안을 해서 코스모스 거버넌스 시스템에 승인을 받아 적용할 수 있도록 한다.")]),e._v(" "),o("p",[e._v("정치사회적 분위기가 아직은 갖추어져 있지 않긴 하지만, 국가 통화의 책임기관들, 특히 은행들의 조합으로부터 검증인 세트를 형성함으로 국가의 법정통화에 페깅하는 존들을 허용할 수도 있다. 물론, 강력한 법체계에 기반하는 화폐만 허용하도록 충분한 고려가 되어야 할 것이며, 충분히 큰 규모의 공증인이나 기관들을 통해 감사시스템을 강제하여 은행들의 활동을 관리해야할 것이다.")]),e._v(" "),o("p",[e._v("이렇게 통합이 된다면, 참여 은행에 은행계좌가 있는 누구든지 존에 있는 은행계좌로부터 존에 있는 다른 계좌나 허브나 혹은 또 다른 존으로 법정화폐를 자유롭게 이동시킬 수 있을 것이다. 이 점에서 코스모스 허브는 법정화폐들과 암호화폐들 간의 전달자 역할을 하고, 지금까지 상호운용성을 거래소(exchanges)의 영역으로 한정시킨 장벽들을 제거할 수 있다.")]),e._v(" "),o("h3",{attrs:{id:"ethereum-scaling"}},[e._v("이더리움 확장성 (Ethereum Scaling)")]),e._v(" "),o("p",[e._v("이더리움의 해결되지 않은 쟁점 하나는 스케일링 문제를 해결하는 방법이다. 현재는 각 이더리움 노드들이 모든 이체를 처리하고 또 모든 상태를 저장한다. "),o("a",{attrs:{href:"https://docs.google.com/presentation/d/1CjD0W4l4-CwHKUvfF5Vlps76fKLEC6pIwu1a_kC_YRQ/mobilepresent?slide=id.gd284b9333_0_28"}},[e._v("링크")])]),e._v(" "),o("p",[e._v("텐더민트는 이더리움의 작업증명보다 훨씬 빠르게 블록들을 커밋 할 수 있기 때문에, 텐더민트 합의에 기반한 페깅된 이더(pegged-ether)를 운용하는 EVM 존들은 이더리움 블록체인에 보다 높은 성능을 제공할 수 있다. 뿐만 아니라, 비록 코스모스 허브 및 IBC 패킷 자체는 임의계약 로직 실행을 허용하지 않지만, 서로 다른 존들에서 실행되는 이더리움 컨트랙트 간 토큰이동의 조정을 위해 사용되며, 샤딩(sharding)을 통한 토큰 중심 이더리움 스케일링을 위한 기반을 제공할 수 있다.")]),e._v(" "),o("h3",{attrs:{id:"multi-application-integration"}},[e._v("멀티 어플리케이션 통합 (Multi-Application Integration)")]),e._v(" "),o("p",[e._v("코스모스 존들은 존의 생성 초기에 정해진 어플리케이션 로직에 따라 작동하며, 거버넌스를 통해 지속적으로 업데이트될 수 있다. 그런 유연성 덕분에 코스모스 존들이 이더리움이나 비트코인 같은 다른 암호화폐들의 페그 역할을 하고, 동일한 코드베이스를 활용하면서도 상이한 검증인 세트와 초기 분포(initial distribution)를 갖는 블록체인 파생상품(derivatives)을 만들 수 있다. 이를 통해 이더리움, 제로캐시, 비트코인, 크립토노트 등과 같은 기존의 암호화폐 프레임워크들이 ‘고성능 합의 엔진(텐더민트 코어)’을 통해 공통의 네트워크에서 사용될 수 있으며, 엄청난 상호운용성의 기회를 가질 수 있게 된다. 뿐만 아니라, 멀티 자산 블록체인으로서, 단일 이체는 다수의 인풋과 아웃풋을 포함할 수 있고, 어떤 토큰이든지 인풋이 될 수 있기 때문에, 주문들은 다른 플랫폼들을 통해 매칭되더라도 코스모스가 직접 탈중앙화 거래소(exchange)를 위한 플랫폼 역할을 할 수 있다. 또한 존은 오더북 기능이 있는 ‘분산형 장애-허용 거래소’ 역할을 할 수도 있는데, 해킹 공격에 당하곤 하는 기존의 중앙집중형 암호화폐 거래소들에 대한 강력한 개선책이 될 수 있다.")]),e._v(" "),o("p",[e._v("존은 또한 기업 및 정부 시스템들의 블록체인 버전(blockchain-backed versions)을 지원할 수도 있다. 전통적으로 조직에 의해 운영된 서비스에 대해서 기반이 된느 부분은 통제권을 유지하고, 특정 부분만을 존 위의 TMSP 애플리케이션으로 운영한다면, 퍼블릭 코스모스 네트워크의 보안과 상호운용성을 활용할 수 있게 된다. 따라서 코스모스는 블록체인 기술을 활용하고자 하지만 (분산된) 제3자에게 통제를 완전히 내주는 것은 경계하는 조직들에 일거양득을 제공할 수 있다.")]),e._v(" "),o("h3",{attrs:{id:"network-partition-mitigation"}},[e._v("네트워크 분할 완화 (Network Partition Mitigation)")]),e._v(" "),o("p",[e._v("일각에서는 텐더민트 같은 ‘일관성선호 합의 알고리즘(consistency-favouring consensus algorithm)’에 심각한 문제가 있다고 주장한다. +⅔ 투표권(⅓+은 오프라인)을 갖는 분할이 생기지 않도록 방지하는 것이 합의과정 자체를 멈추도록 할 수 있다는 것이다. 코스모스 아키텍처는 지역 자치 존(regional autonomous zone)을 갖는 전역 허브(global hub)를 사용함으로 이 문제를 완화할 수 있는데, 이 지역적 자치 존은 각 존의 투표권이 지리적 위치에 기초하여 분배되는 존을 가리킨다. 예를 들어, 개별 도시들이나 지역들이 자체적인 존을 운영하면서 공통의 허브(예. 코스모스 허브)를 공유하여, 일시적인 네트워크 분할로 허브가 중단되더라도 자치활동은 지속될 수 있도록 할 수 있다. 강인한 연합형 장애허용 시스템(robust federated fault-tolerant system)이 설계되기 위해서는 실제 지리, 정치 및 네트워크 토폴로지 관련 특징들이 고려되어야 할 것이다.")]),e._v(" "),o("h3",{attrs:{id:"federated-name-resolution-system"}},[e._v("연합 명칭 결의 시스템 (Federated Name Resolution System)")]),e._v(" "),o("p",[e._v("네임코인(NameCoin)은 비트코인 블록체인을 이용하여 ‘명칭 결의(name-resolution)’ 문제를 해결하고자 한 최초의 블록체인 중 하나였다. 안타깝지만 이 접근법에는 몇 가지 문제들이 있었다.")]),e._v(" "),o("p",[e._v("네임코인으로 예를 들면, "),o("em",[e._v("@satoshi")]),e._v("라는 명칭이 과거 어느 시점에 특정 공개키로 등록되었다는 것은 검증할 수 있지만, 이후의 모든 블록들을 다운로드 하지 않는 한 그 공개키가 이후로 업데이트 된 적이 있는지는 알 수 없다. 이는 비트코인의 UTXO 머클화 모델의 한계 때문인데, 이 모델에서는 ‘상태’가 아닌 ‘이체의 기록’만 블록 해시로 머클화된다–이는 존재를 증명하지만, 이후로 업데이트가 없었다는 것을 증명하지는 못한다. 따라서 완전 노드를 신뢰하거나 전체 블록체인을 다운로드 하면서 상당한 비용을 지불해야만 가장 최근 값을 확실히 알 수 있다.")]),e._v(" "),o("p",[e._v("머클 탐색 트리(Merkle-ized search tree)가 네임코인에 구현되더라도, 작업증명에 대한 의존성 때문에 라이트 클라이언트 검증에서 문제가 생긴다. 라이트 클라이언트는 전체 블록체인의 블록헤더들(또는 적어도 마지막 업데이트 이후의 모든 헤더들)을 모두 다운로드 해야 한다. 이는 대역폭 사용이 소모시간과 함께 선형으로 증가한다는 것을 의미한다[[21]]]"),o("a",{attrs:{href:"https://en.bitcoin.it/wiki/Thin_Client_Security"}},[e._v("21")]),e._v(". 또한 작업증명 블록체인 위의 명칭 변경을 위해서는 추가적인 블록확인을 기다려야 하는데 이것이 비트코인에서는 최대 1시간까지도 걸릴 수 있다.")]),e._v(" "),o("p",[e._v("텐더민트의 경우, 변경을 위해 필요한 것은 (투표권을 통해) 검증인 정족수가 서명한 최근의 블록 해시, 그리고 명칭에 대한 현재 값(current value)의 머클 증명이다. 이를 통해, ‘명칭 값’을 간결하고 신속하며 안전한 라이트 클라이언트 검증을 할 수 있다.")]),e._v(" "),o("p",[e._v("코스모스에서 이 개념을 확장시킬 수 있다. 코스모스의 각 명칭등록 존(name-registration zone)은 ‘.com’이나 ‘.org’와 같은 최상위 도메인(TLD: top-level-domain)을 가질 수 있고, 자체적인 거버넌스와 등록규칙을 설정할 수 있다.")]),e._v(" "),o("h2",{attrs:{id:"issuance-and-incentives"}},[e._v("발행과 인센티브 (Issuance and Incentives)")]),e._v(" "),o("h3",{attrs:{id:"the-atom-token"}},[e._v("아톰 토큰 (The Atom Token)")]),e._v(" "),o("p",[e._v("코스모스 허브는 ‘다중자산 분산원장’이며 특별한 내부 토큰인 ‘"),o("em",[e._v("아톰(atom)")]),e._v("’을 가지고 있다. 아톰은 코스모스 허브의 유일한 지분 토큰(staking token)이다. 아톰은 보유자가 투표, 검증 또는 다른 검증인들에게 위임을 하기 위해 필요하다. 이더리움의 이더와 마찬가지로 아톰 역시 스팸공격 완화를 위한 이체수수료(transaction fees) 지불을 위해 사용될 수 있다. 추가되는 인플레이션 아톰(inflationary atoms)과 블록 이체수수료가 검증인들에게 그리고 검증인들에게 위임한 위임자들(delegators)에게 보상된다.")]),e._v(" "),o("p",[e._v("BurnAtomTx 이체 기능을 통해 ‘지급 준비금 풀(reserve pool)’에서 일정 비율의 토큰 금액(proportionate amount of tokens)을 회수(recover)할 수 있다.")]),e._v(" "),o("h4",{attrs:{id:"fundraiser"}},[e._v("크라우드펀딩 (Fundraiser)")]),e._v(" "),o("p",[e._v("코스모스가 최초로 생성될 때 아톰 토큰과 검증인의 배분은 코스모스 크라우드세일의 자금제공자들(75%), 사전 자금 제공자들(5%)과 코스모스 주식회사(Cosmos Corp)(20%)로 가게 된다. 그 이후, 아톰 총액 중 1/3이 본딩된(bonded) 검증인들과 위임자들에게 매년 보상될 것이다.")]),e._v(" "),o("p",[e._v("이 계획은 변경될 수 있으며 상세내용은 "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/PLAN.md"}},[e._v("Crowdfund Plan")]),e._v(" 참조")]),e._v(" "),o("h3",{attrs:{id:"limitations-on-the-number-of-validators"}},[e._v("검증인수의 제한 (Limitations on the Number of Validators)")]),e._v(" "),o("p",[e._v("비트코인 등의 작업증명 블록체인들과는 달리, 텐더민트 블록체인은 검증인의 수가 많아질수록 통신의 복잡도가 증가하여 속도가 느려진다. 물론 충분한 검증인들을 통해 블록체인의 전세계 분산, 매우 빠른 이체확인 속도를 제공할 수 있다. 또한 대역폭, 저장공간 및 병렬 컴퓨팅 용량이 증가함에 따라 장래에 더욱 많은 검증인들을 지원할 수 있을 것이다.")]),e._v(" "),o("p",[e._v("제네시스 시에는 최대 검증인 수가 100명으로 설정될 것이고, 이 수치는 10년 동안 13%의 비율로 증가하여 최종적으로는 총 300명의 검증인을 가지게 될 것이다.")]),e._v(" "),o("pre",{pre:!0},[o("code",{attrs:{"v-pre":""}},[e._v("Year 0: 100\nYear 1: 113\nYear 2: 127\nYear 3: 144\nYear 4: 163\nYear 5: 184\nYear 6: 208\nYear 7: 235\nYear 8: 265\nYear 9: 300\nYear 10: 300\n...\n")])]),e._v(" "),o("h3",{attrs:{id:"becoming-a-validator-after-genesis-day"}},[e._v("제네시스 일이후에 검증인되기 (Becoming a Validator After Genesis Day)")]),e._v(" "),o("p",[e._v("아톰 보유자들은 ‘BondTx 이체’를 서명하여 제출함으로써 검증인이 될 수 있다. 담보로 제공된 아톰 액수는 ‘0’보다 많아야 한다. 현재 검증인 세트의 크기가 허용된 최대 검증인 수보다 많은 경우를 제외하고는 누구라도 언제든지 검증인이 될 수 있다. 만일 검증인의 수가 허용치 이상인 경우, 가장 적은 검증인이 보유한 유효 아톰의 액수보다 더 높은 아톰 액수(위임받은 아톰 포함)를 담보로 제공해야만 한다. 이러한 방식으로 새로운 검증인이 기존 검증인를 대체할 수 있으며, 기존 검증인은 비활성이 되고 모든 아톰과 위임 아톰(delegated atom)은 언본딩 상태(unbonding state)로 돌아간다.")]),e._v(" "),o("h3",{attrs:{id:"penalties-for-validators"}},[e._v("검증인에 대한 처벌 (Penalties for Validators)")]),e._v(" "),o("p",[e._v("고의든 아니든 검증인이 정해진 프로토콜을 어길 때에는, 처벌이 주어져야 한다. 동일한 높이(height) 및 라운드에서의 이중 서명이나 “prevote-the-lock”(텐더민트 합의 프로토콜의 규칙)의 위반 같은 행위는 증거를 통해 즉시 인정된다. 이 경우, 검증인은 유효한 지위(good standing)를 상실하게 되며, 본딩된 아톰과 ‘지급준비금 풀(reserve pool)’내 토큰의 비례분 즉, 통칭하여 ‘지분(stake)’을 상당수 잃을 것이다.")]),e._v(" "),o("p",[e._v("때로는 지역 네트워크 단절, 전원 장애나 그 밖의 이유들로 인해 검증인이 단절될 수 있을 것이다. 만일 ‘과거 어느 시점의 ValidatorTimeoutWindow 블록’에서 검증인의 커밋 투표가 이루어지지 않은 횟수가 ValidatorTimeoutMax Absent 횟수 이상인 경우, 해당  검증인은 비활성화 되고 지분의 ‘Validator TimeoutPenalty(디폴트 1%)’만큼 잃게 될 것이다.")]),e._v(" "),o("p",[e._v("어떤 ‘악의적’ 행위는 블록체인에 명확한 증거를 남기지 않을 수 있다. 이런 경우, 압도적 다수의 합의가 존재한다면, 검증인들이 외부에서 합의한 뒤 악의적인 검증인을 강제로 타임아웃(timeout) 시킬 수 있다.")]),e._v(" "),o("p",[e._v("‘투표권 ⅓+’이 악의적으로 연합하여 코스모스를 중단시키거나, 이들이 악의적 행동의 증거가 블록체인으로 들어오지 않게 검열하여 삭제하는 경우, 허브는 하드포크를 통한 블록재조정(reorg) 프로포잘로 복구(recover)되어야 한다.")]),e._v(" "),o("h3",{attrs:{id:"transaction-fees"}},[e._v("이체 수수료 (Transaction Fees)")]),e._v(" "),o("p",[e._v("코스모스 허브 검증인들은 아톰 뿐 아니라, 어떠한 유형의 토큰이라도 이체수수료로 받을 수 있다. 각 검증인은, BlockGasLimit을 초과하지 않는 한, 원하는 어떤 교환비율이든 주관적으로 정할 수 있고 원하는 어떤 이체든 선택할 수 있다. 징수된 수수료는 아래에 명시된 세금들을 제외하고, 매 ValidatorPayoutPeriod(검증인지불기간, 디폴트 1시간)마다 본딩된 아톰(bonded atoms)에 비례하여 본딩된 주주들(bonded stakeholders)에게 재분배된다.")]),e._v(" "),o("p",[e._v("징수된 이체수수료 중 ‘지급준비금 세금(Reserve Tax, 디폴트 2%)’은 ‘지금준비금 풀’에 충당되며 이를 통해 ‘지금준비금 풀’을 늘리고 코스모스 네트워크의 보안과 가치를 높이는데 사용될 것이다. 또한 공유세(Commons Tax, 디폴트 3%)는 공유재의 자금으로 충당될 것이다. 이 자금들은 CustodianAddress로 가게 되고, 거버넌스 시스템의 결정에 따라 분배된다.")]),e._v(" "),o("p",[e._v("투표권을 다른 검증인들에게 위임하는 아톰 보유자들은 위임 받은 검증인에게 커미션(commission)을 지불한다. 커미션은 각 검증인이 정할 수 있다.")]),e._v(" "),o("h3",{attrs:{id:"incentivizing-hackers"}},[e._v("해커에 대한 인센티브 제공 (Incentivizing Hackers)")]),e._v(" "),o("p",[e._v('코스모스 허브의 보안은 검증인들과 위임자들의 검증인 선택에 달려있다. 취약성 발견 및 조기 보고를 권장하기 위해 코스모스 허브는 해커들이 "이 검증인은 해킹 당했다. 본 주소로 포상금을 보내주기 바란다."라고 알릴 수 있는 ‘ReporthackTx 이체’를 통해 해킹성공 발표를 권장한다. 해킹 즉시, 해당 검증인과 위임자들은 비활성화되고, 이들의 아톰 일부가 ‘HackPunishmentRatio(해킹처벌비율, 디폴트 5%)’만큼 감소되고, 해커는 포상금 주소를 통해 ‘HackRewardRatio(해크보상비율, 디폴트 5%)’만큼 보상받는다. 검증인은 백업 키(backup key)를 사용하여 나머지 아톰을 회수(recover)해야 한다.')]),e._v(" "),o("p",[e._v("이러한 방법을 이용해 ‘본딩이 완료되지 않은 비귀속(unvested) 아톰’을 전송하려는 악의적 시도를 막기위해, 감별자와 위임자들의 귀속과 비귀속 아톰 비율은 ReportHackTx 전후로 동일하게 유지될 것이다. 해커 포상금은, 존재할 경우, 얼마의 비귀속 아톰을 포함할 것이다.")]),e._v(" "),o("h3",{attrs:{id:"governance-specification"}},[e._v("거버넌스 (Governance Specification)")]),e._v(" "),o("p",[e._v("코스모스 허브는 소프트웨어 업그레이드와 헌법(규정) 수정뿐 아니라 시스템의 변수 파라미터들과 같은 블록체인의 다양한 변화를 조정하기 위해서 명확한 거버넌스 메커니즘을 가진 분산형 조직에 의해 운영된다.")]),e._v(" "),o("p",[e._v("모든 검증인들은 모든 프로포잘에 대한 투표책임이 있다. 적시에 투표하지 않는 경우, 해당 검증인은 ‘결석처벌기간(AbsenteeismPenaltyPeriod-디폴트 1주)’ 동안 자동으로 비활성화된다.")]),e._v(" "),o("p",[e._v("위임자들(delegators)은 그들이 위임한 검증인의 투표를 자동으로 물려받는다. 이 투표는 수동으로 취소(overriden manually)될 수 있다. 언본딩된(unbonded) 아톰들은 어떤 투표권도 얻지 않는다.")]),e._v(" "),o("p",[e._v("각 프로포잘은 ‘최소 프로포잘 보증금(MinimumProposalDeposit)’ 토큰을 요구하는데, 이는 아톰을 포함한 하나 이상의 토큰들일 수 있다. 각 프로포잘에 대해 투표자들은 보증금을 사용하기로 투표할 수 있다. 투표자의 절반 이상이 보증금을 사용하기로 선택할 경우, 그 보증금은 지급보증금 풀에 충당된다. 다만, 프로포잘이 스팸이었다거나 기타의 경우라서 소각되는(burned) 아톰은 제외한다.")]),e._v(" "),o("p",[e._v("각 프로포잘에 대해, 투표자들은 다음의 옵션으로 투표할 수 있다:")]),e._v(" "),o("ul",[o("li",[e._v("Yay(찬성)")]),e._v(" "),o("li",[e._v("YayWithForce(강력히 찬성)")]),e._v(" "),o("li",[e._v("Nay(반대)")]),e._v(" "),o("li",[e._v("NayWithForce(강력히 반대)")]),e._v(" "),o("li",[e._v("Abstain(기권)")])]),e._v(" "),o("p",[e._v("프로포잘의 통과 여부를 결정시에는 과반수의 투표가 요구되지만, 1/3+이 “강력히(with force)” 반대 투표함으로써 과반수의 결정을 거부할 수 있다. 다만 이렇게 과반수가 거부될 경우, 모두가 ‘거부권패널티블록(VetoPenaltyFeeBlocks, 디폴트 1일 가치의 블록)’을 통해 수수료를 상실함으로 처벌 받고, 과반수 결정을 거부한 당사자는 자신의 아톰 중 ‘거부권패널티아톰(VetoPenaltyAtoms, 디폴트 0.1%)’ 만큼을 추가로 상실한다.")]),e._v(" "),o("h3",{attrs:{id:"parameter-change-proposal"}},[e._v("파라미터 변경 프로포잘 (Parameter Change Proposal)")]),e._v(" "),o("p",[e._v("여기서 정의된 파라미터들 중 어느 것이든 ParameterChangeProposal의 통과를 통해 변경될 수 있다.")]),e._v(" "),o("h3",{attrs:{id:"text-proposal"}},[e._v("텍스트 프로포잘 (Text Proposal)")]),e._v(" "),o("p",[e._v("다른 모든 프로포잘들(예. 업그레이드 프로포잘)은 일반적인 TextProposal을 통해 조정된다.")]),e._v(" "),o("h2",{attrs:{id:"roadmap"}},[e._v("로드맵 (Roadmap)")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/PLAN.md"}},[e._v("Plan")]),e._v(" 참조.")]),e._v(" "),o("h2",{attrs:{id:"related-work"}},[e._v("관련 연구 (Related Work)")]),e._v(" "),o("p",[e._v("지난 수십 년 동안 블록체인 합의구조와 확장성 부분에서 많은 혁신이 있었다. 아래에서 중요한 몇 가지를 간략히 개관한다.")]),e._v(" "),o("h3",{attrs:{id:"consensus-systems"}},[e._v("합의 시스템 (Consensus Systems)")]),e._v(" "),o("h4",{attrs:{id:"classic-byzantine-fault-tolerance"}},[e._v("고전적 비잔틴 장애 저항 (Classic Byzantine Fault Tolerance)")]),e._v(" "),o("p",[e._v("악의적인 참여자가 있는 합의는 80년대 초로 거슬러 올라가는 문제인데, 이때 레슬리 램포트(Leslie Lamport)는 프로세스가 단순한 ‘충돌 장애(crash fault)’와는 대조되는 것으로, 의도된 행위로부터 벗어나는 임의의 프로세스 행위(process behavior)를 가리키는 ‘비잔틴 장애(Byzantine fault)'라는 용어를 만들었다. 초기의 솔루션들은 메시지 지연시간에 상한(upper bound)이 존재하는 동기식 네트워크들을 위한 것이었다. 하지만 실제 사용은 항공기 제어기와 원자시계를 통해 동기화되는 데이터센터 같은 고도로 통제된 환경들로 제한되었다. 임의의 프로세스 행위를 최대 ⅓까지 허용할 수 있는 효율적인 ‘부분 동기 합의 알고리즘’으로서 ‘실용적 비잔틴 장애 허용(PBFT: Practical Byzantine Fault Tolerance)’"),o("a",{attrs:{href:"11"}},[e._v("[11]")]),e._v("이 도입된 것은 90년대 말이 되고 나서였다. PBFT는 표준 알고리즘이 되었고, 많은 파생 변형들을 만들어내었다. 가장 최근에는 IBM이 하이퍼레저(Hyperledger)에 기여를 위해 만든 변형이 있다.")]),e._v(" "),o("p",[e._v("PBFT와 비교할때 텐더민트 합의구조의 중요한 장점은 텐더민트가 단순하고 개선된 기반 구조를 가진다는 것이고, 이 구조 중의 일부는 블록체인 패러다임을 수용한 결과이다. 텐더민트 블록들은 순서대로 커밋되는데, 이것이 PBFT의 관점 변화(view-changes)와 관련 있는 복잡도와 통신 오버헤드를 제거한다. 코스모스를 포함한 많은 암호화폐에서는, 블록 "),o("em",[e._v("N")]),e._v(" 자체가 아직 커밋되지 않았을 때에는 블록 "),o("em",[e._v("N+i")]),e._v("("),o("em",[e._v("i >= 1")]),e._v(")의 커밋을 고려할 필요가 없다. 블록 "),o("em",[e._v("N")]),e._v("이 코스모스 존에 커밋되지 않은 이유가 대역폭인 경우, "),o("em",[e._v("N+i")]),e._v(" 블록들에 대해 대역폭 공유 투표(bandwidth sharing votes)를 사용해도 의미가 없다. 만일 네트워크 분할이나 오프라인 노드들 때문에 블록 "),o("em",[e._v("N")]),e._v("이 커밋되지 않은 경우, 블록 "),o("em",[e._v("N+i")]),e._v("은 어차피 커밋되지 않는다.")]),e._v(" "),o("p",[e._v("뿐만 아니라, 블록들 속으로 이체를 배칭(batching)함으로 PBFT의 체크포인팅(checkpointing) 기법 같은 주기적 다이제스트가 아닌, ‘어플리케이션 상태의 정규 머클 해싱’이 가능하다. 또한 이를 통해, 라이트 클라이언트들을 위한 보다 빠른 증명 가능한 이체 커밋과, 보다 빠른 블록체인 간 통신이 가능하다.")]),e._v(" "),o("p",[e._v("텐더민트 코어는 PBFT에 명시된 것 이상의 많은 최적화 사항들과 기능들을 가지고 있다. 예를 들면, 검증인이 제안하는 블록들은 전파 성능을 개선하는 방식으로 부분화되고 머클화(Merkle-ized) 되고 가십화(gossipped)된다(영감은 LibSwift"),o("a",{attrs:{href:"19"}},[e._v("[19]")]),e._v(" 참조). 또한 텐더민트 코어는 점 대 점(point-to-point) 접속에 관한 어떤 가정도 하지 않으며, P2P네트워크가 연결되어 있기만 하다면 작동한다.")]),e._v(" "),o("h4",{attrs:{id:"bitshares-delegated-stake"}},[e._v("비트쉐어 위임 지분 (BitShares delegated stake)")]),e._v(" "),o("p",[e._v("비트쉐어(BitShares)"),o("a",{attrs:{href:"12"}},[e._v("[12]")]),e._v("는 최초의 지분증명(PoS: proof-of-stake) 적용 사례는 아니지만, PoS 블록체인들, 특히 ‘위임(delegated)’ PoS 블록체인의 연구와 채택에 상당한 기여를 했다. 비트쉐어에서 지분 보유자들은 이체명령 및 커밋 책임이 있는 '증인(witnesses)'과 소프트웨어 업데이트와 패러미터 변경 책임이 있는 '델리게이트(delegates)'를 선출한다. 비트쉐어는 이상적인 상태에서 고성능(100k tx/s, 1초 지연시간)을 달성하기는 하지만, 악의적인 증인들이 아무런 경제적 처벌 없이 블록체인을 분기해 이중지불 공격을 가할 수 있다. 즉 ‘무보증(Nothing-at-Stake)’ 문제를 겪는다. 비트쉐어는 이체들이 최근의 블록-해시들을 참조하게 함으로써 이 문제를 완화하고자 한다. 물론 주주들은 부정행위 증인들을 매일 제거하거나 대체할 수 있다. 하지만 이것이 성공한 이중지불공격에 대한 분명한 처벌은 결코 아니다.")]),e._v(" "),o("h4",{attrs:{id:"stellar"}},[e._v("스텔라 (Stellar)")]),e._v(" "),o("p",[e._v("리플(Ripple)이 개척한 방식을 토대로, 스텔라(Stellar)"),o("a",{attrs:{href:"13"}},[e._v("[13]")]),e._v("는 ‘연합형 비잔틴 합의(Federated Byzantine Agreement)’ 모델을 개선했는데, 여기에서는 합의참여 프로세스에서 ‘전역적으로 알려진 고정된 집합’을 요구하지는 않는다. 오히려 프로세스 노드는 각기 신뢰할 수 있는 프로세스 집합을 구성하는 하나 이상의 '정족수 슬라이스(quorum slices)'를 배포한다. 스텔라에서 '정족수’는 노드들의 집합(set)이며, 적어도 각 노드당 하나 이상의 정족수 슬라이스를 포함하여 합의에 도달하도록 한다.")]),e._v(" "),o("p",[e._v("스텔라 메커니즘의 보안은 "),o("em",[e._v("임의의")]),e._v(" 두 정족수의 교집합이 비공(non-empty)이라는 가정에 의존한다. 또한 노드의 가용성을 위해서는, 정족수 슬라이스들 중 적어도 하나가 완전히 올바른(entirely correct) 노드들로 구성되어야 하며, 신뢰에 관한 중요한 가정 없이는 큰 정족수 슬라이스와 작은 정족수 슬라이스 사용 간에 발생하는 상호관계의 균형유지가 어려울 수 있다. 궁극적으로는 노드들은 충분한 장애허용이 가능한 ‘적절한 정족수 슬라이스’ 또는 ‘온전한 노드들(intact nodes)’을 어떻게든 선택해야 한다. 또한 그런 구성을 보장하는 유일한 전략은 계층적이고, 경계 경로 프로토콜(BGP: Border Gateway Protocol)과도 유사하다. 이는 전역 라우팅 테이블 확립을 위해 인터넷의 최상위 계층 ISP들에 의해 사용되며, TLS 인증서를 관리하기 위해 브라우저들이 사용하기도 한다. 그러나 두 가지 모두 약한 보안성으로 악명높다.")]),e._v(" "),o("p",[e._v("스텔라 논문에서 비판한 ‘텐더민트 기반 지분 증명 시스템’들은 이곳에 기술된 토큰 전략을 통해 해명할 수 있다. 이 전략에서는 미래의 수수료 및 보상에 대한 권리인 "),o("em",[e._v("아톰")]),e._v("이라는 이름의 새로운 유형의 토큰이 발행된다. ‘텐더민트 기반 지분 증명’은 상대적으로 단순성을 유지하면서도, 충분한 그리고 입증 가능한 보안을 제공한다는 점에서 이점이 있다.")]),e._v(" "),o("h4",{attrs:{id:"ng-bitcoinng"}},[e._v("비트코인NG (BitcoinNG)")]),e._v(" "),o("p",[e._v("BitcoinNG는 블록 크기 확장과 같은 수직 확장성을 제공하는 방법이다. 또한 이러한 확장이 초래하는 부정적 경제 요인들을 최소화하였다. 이러한 개선은 리더 선정(leader election)과 이체 전파를 분리시킴으로 가능하다: 리더들은 우선 ‘마이크로 블록(micro-block)’들에 있는 작업증명(PoW)을 통해 선정되며, 그 이후 새로운 마이크로블록이 발견될 때까지 커밋할 이체내역들을 전파한다. 이러한 방식은 PoW경쟁을 이기기 위해 소요되는 대역폭 요구량을 줄여준다. 또한 소규모 채굴자들이 더욱 공정하게 경쟁하고 이체가 더 정기적으로 커밋될 수 있도록 한다.")]),e._v(" "),o("h4",{attrs:{id:"casper"}},[e._v("캐스퍼 (Casper)")]),e._v(" "),o("p",[e._v("캐스퍼"),o("a",{attrs:{href:"16"}},[e._v("[16]")]),e._v("는 이더리움 용으로 제안된 지분증명(PoS) 합의 알고리즘이다. 주요 운용 방식은 '베팅에 의한 합의(consensus-by-bet)'이며, 검증인들은 지금까지 본 다른 베팅들(bets)에 기초해 블록체인에 커밋 될 것으로 생각되는 블록에 반복적으로 베팅하게 되며, 이러한 방식으로 결국 완결성(finality)이 달성된다는 논리를 전제한다. "),o("a",{attrs:{href:"https://blog.ethereum.org/2015/12/28/understanding-serenity-part-2-casper/"}},[e._v("링크")]),e._v(". 이러한 ‘합의 베팅’이 캐스퍼 팀의 주요 연구영역인데, 도전이 되는 부분은 베팅 메커니즘을 ‘진화적으로 안정된 전략(evolutionarily stable strategy)’이 되도록 설계해야 한다는 점이다. 텐더민트와 비교할 때 캐스퍼의 강점은 '일관성(consistency)보다 가용성(availability)'을 제공하는 것으로 볼 수 있다. 합의는 투표권의 +⅔ 정족수를 요구하지 않으며 커밋 속도나 구현 복잡도를 희생했다고 볼 수 있다.")]),e._v(" "),o("h3",{attrs:{id:"horizontal-scaling"}},[e._v("수평 스케일링 (Horizontal Scaling)")]),e._v(" "),o("h4",{attrs:{id:"interledger-protocol"}},[e._v("인터레저 프로토콜 (Interledger Protocol)")]),e._v(" "),o("p",[e._v("인터레저 프로토콜(Interledger protocol)"),o("a",{attrs:{href:"14"}},[e._v("[14]")]),e._v("은 엄밀히는 확장성 솔루션이 아니다. 느슨하게 연결된 ‘쌍방 관계 네트워크’를 통해 상이한 원장 시스템들 간 ‘애드혹 상호운용성(ad hoc interoperation)’을 제공하는 방식이다. 라이트닝 네트워크(Lightning Network)의 경우처럼, ILP는 지불을 용이하게 하는 프로토콜인데, 특히 서로 다른 유형의 원장들 간 지불에 초점을 맞추며 ‘아톰 이체 메커니즘(atomic transaction mechanism)’을 확장하여 ‘해시 잠금(hash-locks)’과 ‘공증인 정족수(quorum of notaries)’를 포함하로독 했으며, 이를 ‘아톰 전송 프로트콜(Atomic Transport Protocol)’로 칭한다. ‘원장 간 이체의 원자성(atomicity)’을 확보하기 위한 이러한 메커니즘은 텐더민트의 ‘라이트 클라이언트 SPV’ 작동방식과도 유사하다. 하단에서 ILP와 코스모스/IBC를 비교해본다.")]),e._v(" "),o("ol",[o("li",[o("p",[e._v("ILP의 커넥터(connector) 공증인들은 구성원(membership) 변경을 지원하지 않으며 공증인들 간 유연한 가중치 부여를 지원하지 않는다. 반면에 IBC는 블록체인 전용으로 설계되었고, 검증인들이 상이한 가중치를 가질 수 있으며 블록체인을 통해 구성원들의 변경이 가능하다.")])]),e._v(" "),o("li",[o("p",[e._v("라이트닝 네트워크나 ILP에서는 지불 수신자가 송신자에게 ‘확인’을 되돌려 보내기 위해 반드시 온라인 상태여야 한다. IBC를 통한 토큰 전송에서는, 수신자가 아니라, 수신자 블록체인의 검증인 세트가 ‘확인’을 제공할 책임이 있다.")])]),e._v(" "),o("li",[o("p",[e._v("가장 근본적인 차이는 ILP 커넥터들은 지불에 대한 책임을 지거나 권한 상태를 유지하고 있지 않은 반면에, 코스모스에서는 허브의 검증인들이 IBC토큰 전송과 각 존이 가진 토큰 총액에 대한 권한을 가진다는 점이다(그러나 존 내 각 계정이 보유한 토큰 금액에 대한 권한은 없다). 이는 존에서 존으로 비대칭 토큰 전송을 안전하게 실행하기 위한 근본적 혁신이다.")])]),e._v(" "),o("li",[o("p",[e._v("ILP에서 원장 간 지불을 하기 위해서는 거래소 오더북(exchange orderbook)의 지원이 필요한데, 이는 하나의 원장에서 다른 원장으로의 ‘코인 비대칭 전송’이 없고 ‘가치나 시장 등가물(market equivalents)’의 전송만 있기 때문이다.")])])]),e._v(" "),o("h4",{attrs:{id:"sidechains"}},[e._v("사이드체인 (Sidechains)")]),e._v(" "),o("p",[e._v("사이드체인(sidechains)"),o("a",{attrs:{href:"15"}},[e._v("[15]")]),e._v("은 비트코인 블록체인에 '페깅(pegged)'된 ‘대안 블록체인’을 통해 비트코인 네트워크를 확장하고자 하는 시도이다. 사이드체인은 비트코인이 비트코인 블록체인으로부터 사이드체인으로 효과적으로 이동할 수 있게 하고 사이드체인에서 각 체인의 특징을 이용한 실험들을 가능하게 한다. 코스모스 허브와 마찬가지로, 사이드체인과 비트코인은 상호 간 라이트 클라이언트 역할을 하며 코인 전송 시점을 결정하기 위해 SPV증명을 사용한다. 물론 비트코인은 작업증명을 사용하기 때문에 비트코인 중심의 사이드체인들은 작업증명 합의 메커니즘으로부터 발생하는 여러 문제들과 리스크를 갖는다. 이는 ‘비트코인 극단주의자(Bitcoin-maximalist)’적 솔루션이며, 코스모스처럼 자체적으로 다양한 토큰들과 존 간 네트워크 위상(inter-zone network topology)을 지원하지는 않는다. 하지만, ‘양방향 페그(two way peg)’의 핵심 메커니즘 자체는 코스모스 네트워크의 방식과 원칙적으로 동일하다.")]),e._v(" "),o("h4",{attrs:{id:"ethereum-scalability-efforts"}},[e._v("이더리움 확장성 노력 (Ethereum Scalability Efforts)")]),e._v(" "),o("p",[e._v("이더리움은 확장성 확보를 위해 ‘이더리움 블록체인 상태’를 샤딩(sharding)하기 위한 여러 전략들을 연구 중이다. 현재의 이더리움 가상 머신(EVM)를 통해 ‘공유 상태 공간(shared state space)’에 ‘대한 추상적 계층(abstraction layer)’을 유지하는 방식이다. 또한 다수의 연구들이 진행되고 있다."),o("a",{attrs:{href:"18"}},[e._v("[18]")]),o("a",{attrs:{href:"22"}},[e._v("[22]")])]),e._v(" "),o("h4",{attrs:{id:"vs-20-mauve-cosmos-vs-ethereum-20-mauve"}},[e._v("코스모스 vs 이더리움 2.0 Mauve (Cosmos vs Ethereum 2.0 Mauve)")]),e._v(" "),o("p",[e._v("코스모스와 이더리움 2.0 Mauve"),o("a",{attrs:{href:"22"}},[e._v("[22]")]),e._v("의 설계 목표에는 차이가 있다.")]),e._v(" "),o("ul",[o("li",[o("p",[e._v("코스모스가 토큰들에 대한 것이라면 Mauve는 일반 계산(general computation)의 스케일링에 관한 것이다.")])]),e._v(" "),o("li",[o("p",[e._v("코스모스는 EVM에 구속되지 않으며, 심지어는 서로 다른 VM들이 상호 운용될 수 있다.")])]),e._v(" "),o("li",[o("p",[e._v("코스모스는 존의 검증 책임자를 존의 생성자가 결정하도록 한다.")])]),e._v(" "),o("li",[o("p",[e._v("(거버넌스 시스템의 결정과 상충되지만 않는다면) 누구든지 코스모스에서 새 존을 시작할 수 있다.")])]),e._v(" "),o("li",[o("p",[e._v("허브는 존 실패(zone failures)를 격리시키며, 이를 통해 ‘전역 토큰 불변성(global token invariants)’을 보증한다.")])])]),e._v(" "),o("h3",{attrs:{id:"general-scaling"}},[e._v("일반 스케일링 (General Scaling)")]),e._v(" "),o("h4",{attrs:{id:"lightning-network"}},[e._v("라이트닝 네트워크 (Lightning Network)")]),e._v(" "),o("p",[e._v("라이트닝 네트워크는 비트코인 블록체인(그리고 그 밖의 퍼블릭 블록체인들)의 상위 계층에서 운용되도록 제안된 토큰 전송 네트워크로, 합의원장(consensus ledger) 외부의 대다수 이체들을 소위 ‘지불채널(payment channels)’로 이동시켜서 이체처리량(throughput)을 획기적으로 개선시킨다. 온 체인(on-chain) 암호화폐 스크립트를 통해 당사자들이 쌍무 상태기반 계약(bilateral stateful contracts)을 체결할 수 있도록 한다. 계약들의 상태는 디지털 서명에 의해 업데이트 되며, 또한 ‘크로스 체인 아토믹 스왑(cross-chain atomic swap)’를 통해 최초에 설정된 방식에 따라 합당한 증명을 블록체인에 전파함으로 계약이 마감된다. 다수의 당사자와 함께 지불 채널을 개방함으로, 라이트닝 네트워크의 참여자들은 당사자들이 지불을 라우팅하는 ‘포컬포인트(focal point)’의 역할을 할 수 있다. 또한 이러한 지불 채널에 실제 자본을 고정시킴으로 완전히 연결된 지불 채널을 개설하는 것도 가능하다.")]),e._v(" "),o("p",[e._v("라이트닝 네트워크는 다수의 블록체인들에 걸쳐 확장되면서 교환시장을 통해 *가치(value)*를 전송하도록 하지만, 하나의 블록체인에서 다른 블록체인으로 *토큰(token)*을 비대칭적으로 전송하는 것은 불가능하다. 이와 관련된 코스모스 네트워크의 주된 이점은 그러한 토큰의 직접 전송을 지원한다는 것이다. 물론, 비용 절감과 프라이버시 차원에서 토큰 전송 메커니즘이 지불 채널들과 라이트닝 네트워크와 함께 적용되기를 기대한다.")]),e._v(" "),o("h4",{attrs:{id:"segregated-witness"}},[e._v("세그위트 (Segregated Witness)")]),e._v(" "),o("p",[e._v("세그위트(Segregated Witness)는 블록 당 이체처리량을 2-3배 가량 증가시키는 것을 목적으로 하며, 동시에 신규 노드들이 더욱 빠르게 블록 동기화(block syncing)를 하도록 돕는 비트코인 개선 제안이다("),o("a",{attrs:{href:"https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki"}},[e._v("참조")]),e._v("). 이 솔루션은 비트코인의 현재 프로토콜 내에서 작동하면서 소프트 포크 업그레이드(soft-fork upgrade)를 허용하는 방식이다. 따라서, 이전의 소프트웨어 버전을 가진 클라이언트들도 업그레이드를 받아 정상적으로 기능할 수 있다. 텐더민트의 경우, 새로운 프로토콜을 만드는데 아무런 제약이 없기 때문에 확장성에 대한 새로운 우선순위를 가진다. 주로 텐더민트는 채굴 대신 암호 서명에 기반한 ‘BFT 라운드 로빈 알고리즘(BFT round-robin algorithm)’을 사용한다. 이를 통해, 다중 병렬 블록체인을 이용한 수평 스케일링을 가능하게 하면서도, 보다 정기적이고 자주 발생하는 블록 커밋에는 수직 스케일링을 적용할 수도 있다.")]),e._v(" "),o("hr"),e._v(" "),o("h2",{attrs:{id:"appendix"}},[e._v("부 록 (Appendix)")]),e._v(" "),o("h3",{attrs:{id:"fork-accountability"}},[e._v("포크 책임 (Fork Accountability)")]),e._v(" "),o("p",[e._v("잘 설계된 합의 프로토콜이라면 허용 용량(tolerance capacity)이 초과되거나 합의가 실패할 경우에도 문제가 없어야 한다. 이는 ‘비잔틴 행동’에 상당한 금전적 보상이 있을 수 있는 경제시스템에서 특히 중요하다. 그러한 보장 중 가장 중요한 것이 ‘"),o("em",[e._v("포크 책임(fork-accountability)")]),e._v("’인데, 포킹과 같은 합의실패를 초래한 프로세스들이 프로토콜 규칙이나 법적 체계(가능하다면)에 의해 식별되고 처벌받을 수 있다. 법 체계를 신뢰할 수 없거나 적용하기에 과도한 비용이 들 경우, 검증인들이 담보 보증(security deposits)을 내고 참여하도록 하고 악영향을 주는 행위 시 해당 담보를 차감하거나 강제로 환수함으로 처벌할 수 있다"),o("a",{attrs:{href:"10"}},[e._v("[10]")]),e._v(".")]),e._v(" "),o("p",[e._v("‘포크 책임’에서 다루는 것은 비트코인에서처럼 ‘네트워크 비동시성’과 ‘부분적 해시충돌’ 특성으로 인해 일어나는 정상적 분기와는 큰 차이가 있다. 많은 경우, 비동시성 때문에 악의적 포킹을 가려내는 것이 거의 불가능하기 때문에 비트코인의 경우 채굴자들이 포킹을 시도하다가 고아블록이 되어버리는 기회비용을 제외하고는 특별히 ‘포크 책임’을 물게하는 것이 어렵다.")]),e._v(" "),o("h3",{attrs:{id:"tendermint-consensus"}},[e._v("텐더민트 합의 (Tendermint Consensus)")]),e._v(" "),o("p",[e._v("투표 단계들은 *프리보트(PreVote)*와 *프리커밋(PreCommit)*으로 나뉜다. 투표는 특정 블록이나 ‘"),o("em",[e._v("무효(Nil)")]),e._v("’를 위해 행사될 수 있다. 동일 라운드에서 단일 블록에 대한 +⅔  PreVote 집합을 *폴카(Polka)*라고 부르며, 동일 라운드에서의 단일 블록에 대한 +⅔ PreCommit 집합을 *커밋(Commit)*이라고 부른다. 만일 동일 라운드에서 ‘무효(Nil)’에 +⅔ PreCommit 상태라면, 다음 라운드로 이동한다.")]),e._v(" "),o("p",[e._v("결함 있는 리더들을 검출하고 무시하기 위해 엄격한 결정성(determinism)을 사용하다가 오히려 약한 동시성(synchrony)을 초래할 수 있다. 따라서 검증인들은 무효(Nil)를 Prevote하기 전에, 일정 시간(*TimeoutPropose)*을 기다리게 되며 이 TimeoutPropose 값은 매 라운드마다 점점 증가한다. 검증인이 네트워크의 +⅔ 로부터 전파받을 때에만 단 한번 진행이 되므로, 라운드의 나머지 부분 진행은 완전히 비동시적이다. 실제로, 약한 동시성 가정( weak synchrony assumption)을 계속해서 좌절시키고 결국 블록 커밋을 위한 합의를 실패시키기 위해서는 극단적으로 강한 공격자가 필요하다. 또한 각 검증인에게 서로 다른 TimeoutPropose 랜덤값을 적용한다면, 공격은 더욱 어려워진다.")]),e._v(" "),o("p",[e._v("‘추가 제약조건 집합’, 즉 ‘잠금 규칙(Locking Rules)’은 네트워크가 각 높이에서 단 하나의 블록만을 커밋하도록 보장한다. 특정한 높이에서 두 개 이상의 블록을 커밋되게 하려는 시도는 모두 발각될 수 있다. 첫째로, 블록에 대한 프리커밋(PreCommit)은 해당 블록에 대한 폴카의 형태로 정당화(justification)되어야 한다. 만일 검증인이 이미* R_1* 라운드에서 블록을 프리커밋했다면, 이는 해당 블록에 로킹*(locked)*되며, "),o("em",[e._v("R_2")]),e._v(" 라운드의 새로운 프리커밋은 반드시 "),o("em",[e._v("R_1 < R_polka <= R_2")]),e._v("인 ‘R_polka 라운드’에서 발생해야한다. 둘째로, 검증인들은 자신들이 로킹되어 있는 블록을 제안(Propose)하거나 아니면 사전투표(PreVote)하거나 또는 둘을 함께 해야한다. 이를 통해 검증인은 충분한 증거 없이 프리커밋하지 못하며, 이미 프리커밋한 검증인의 경우 다른 블록을 동시에 프리커밋할 수 없게 된다. 이렇게 합의 알고리즘의 안전성(safety)과 라이브성(liveness)을 보장하게 된다.")]),e._v(" "),o("p",[e._v("프로토콜의 전체 세부내용은 "),o("a",{attrs:{href:"https://github.com/tendermint/tendermint/wiki/Byzantine-Consensus-Algorithm"}},[e._v("여기")]),e._v("를 참조")]),e._v(" "),o("h3",{attrs:{id:"tendermint-light-clients"}},[e._v("텐더민트 라이트 클라이언트 (Tendermint Light Clients)")]),e._v(" "),o("p",[e._v("대안 체인(포크)의 존재 덕분에 본딩된(bonded) 지분을 ⅓+이 대폭 삭감할(slashed) 수 있기 때문에, 텐더민트PoS에서는 모든 블록 헤더들을 동기화(sync)할 필요가 없다. 물론 이러한 삭감을 위해서는 누군가가 포킹의 증거를 공유해야 하기 때문에, 라이트 클라이언트는 전파받는 모든 블록해시 커밋을 저장해야 한다. 뿐만 아니라, 라이트 클라이언트들은 ‘검증인 세트의 변경’과 주기적으로 동기화하여 "),o("a",{attrs:{href:"#preventing-long-range-attacks"}},[e._v("장기 공격(long range attacks)")]),e._v("을 피할 수 있을 것이다(물론 다른 방법도 적용가능).")]),e._v(" "),o("p",[e._v("이더리움과 유사한 의도로, 텐더민트는 애플리케이션들이 각 블록에 ‘전역 머클 루트 해시(global Merkle root hash)’를 임베딩(embed)하도록 하고, 계정 잔고, 컨트랙트내 저장 값, UTXO 등 각 어플리케이션에 적합한 쉽게 검증이 가능한 ‘상태 쿼리(state queries)’를 이용하도록 한다.")]),e._v(" "),o("h3",{attrs:{id:"preventing-long-range-attacks"}},[e._v("장기 공격 방지 (Preventing Long Range Attacks)")]),e._v(" "),o("p",[e._v("‘충분한 회복력(resilient)의 전파 네트워크 집합’과 ‘정적(static) 검증인 세트’가 있다면, 블록체인의 모든 포킹이 검출될 수 있으며 문제가 되는 검증인들의 보증금을 대폭 삭감시킬 수 있다. 2014년 초에 비탈릭 뷰터린(Vitalik Buterin)은 처음 지분증명 암호화폐들의 ‘무처벌(nothing-at-stake)’ 문제에 대한 해결책을 제시한다("),o("a",{attrs:{href:"#related-work"}},[e._v("관련 연구")]),e._v(" 참조). 그러나 검증인 세트들이 항상 고정되어 있는 것이 아니기 때문에 오랜 기간에 걸쳐 원래의 검증인들은 모두 언본딩 될 수 있고(may all become unbonded) 묶어둔 보증금이 사라지면서, 어떤 비용도 치르지 않고 제네시스 블록으로부터 새로운 체인을 자유로이 생성할 수 있게 된다. 이 공격은 단기 공격(Short Range Attack)과 대조되는 개념으로 ‘장기 공격(Long Range Attack)’으로 알려지게 되었다. 텐더민트 합의와 같은 ‘포크 책임 BFT 알고리즘(folk-accountable BFT algorithm)’이 존재한다면 현재 본딩된 검증인들이 포크를 초래하는 단기공격은 처벌이 가능하다. 반면 장기 공격은 지분증명 방식에 치명적인 공격으로 간주된다.")]),e._v(" "),o("p",[e._v("다행히 ‘장기공격(LRA)’을 부분적으로 방지하는 것이 가능하다. 첫째로, 검증인이 보증금을 언본딩하여 보증금을 회수하고 동시에 더이상의 합의참여 수수료를 포기하기 위해서는 정해진 일정 기간, 즉 ‘언본딩 기간(unbonding period)’을 채워야 한다. 그 기간은 수주 또는 수개월이 된다. 둘째로, 라이트 클라이언트는 최초로 네트워크에 연결될 때 신뢰할 수 있는 한개 이상의 출처를 통해 네트워크의 최근 블록해시를 검증해야 한다. 이러한 조건을 ‘약한 주체성(weak subjectivity)’으로 부르기도 한다. 마지막으로, 보안성을 유지하기 위해서 적어도 매 ‘언본딩 기간’을 주기로 ‘최종 검증인 세트’와 동기화되어야 한다. 이를 통해, 라이트 클라이언트는 검증인이 보증금을 빼내고 ‘무보증 상태(Nothing at Stake)’가 되었는지 여부를 파악할 수 있게 된다. 이를 파악하지 못한다면, 검증인은 최초 본딩이 시작된 블록으로 돌아가 새로우 블록들을 다시 생성함으로 장기공격을 감행할 수 있다(물론 이를 위해서는 검증인이 충분히 많은 초기 개인키를 가지고 있어야 함).")]),e._v(" "),o("p",[e._v("이러한 방식의 LRA 대응 방안은 기존 ‘작업증명(Proof-of-Work)’ 방식의 보안 기법에 대한 완전한 분해정비를 필요로 한다. ‘작업증명’에서는, 라이트 클라이언트가 언제든 전체 블록헤더의 작업증명을 처리하기만 한다면 신뢰할 수 있는 제네시스 블록을 통해 최신 블록체인을 동기화할 수 있다. 그러나 LRA에 대응하기 위해서는, 라이트 클라이언트가 정기적으로 온라인 상태가 되어 검증인 세트를 추적해야하며, 최초 온라인이 되었을 때 반드시 신뢰할 만한 출처를 통해 네트워크에서 제공하는 정보의 진실성을 확인해야만 한다. 물론 신뢰할만한 출처를 이용하는 방법은 비트코인에서도 동일한데, 프로토콜이나 소프트웨어를 반드시 신뢰할 수 있는 출처에서 얻어야 하기 때문이다.")]),e._v(" "),o("p",[e._v("LRA를 방지하는 상기의 방법은, 검증인들과 텐더민트 기반 블록체인의 완전 노드들에 적합하다. 이 노드들은 네트워크에 계속 연결되어 있기 때문이다. 또한 이 방법은 네트워크에 자주 연결될 수 있는 라이트 클라이언트들에도 적합하다. 하지만 라이트 클라이언트들이 자주 연결될 수 없는 경우, 다른 방법이 사용될 수 있다. 검증인이 아닌 토큰 보유자들이 상당히 긴 기간동안 자신의 토큰을 담보로 제공하는 것이다. 그리고 라이트 클라이언트들에게 이차적인 방법으로 최근과 이전의 블록해시 값을 전달하는 것이다. 이러한 토큰들이 블록체인 합의와 관련된 보안에는 영향을 미치지 않으나 라이트 클라이언트에게는 강력한 보장을 제공할 수 있다. 역사적 블록-해시 질의가 이더리움에서 지원될 경우, 누구든지 특별 설계된 스마트 컨트랙트에서 자신의 토큰을 본딩하고 지불을 위한 인증 서비스(attestation services for pay)를 제공하여 라이트 클라이언트 LRA 보안 시장을 효과적으로 창출할 수 있을 것이다.")]),e._v(" "),o("h3",{attrs:{id:"overcoming-forks-and-censorship-attacks"}},[e._v("포크 및 검열 공격 극복 (Overcoming Forks and Censorship Attacks)")]),e._v(" "),o("p",[e._v("블록 커밋의 정의로 인해, ⅓+ 투표권 연합은 오프라인이 되거나 투표전파를 거부함으로 블록체인을 중단시킬 수 있다. 그러한 연합을 통해 특정한 이체를 포함한 블록을 검열하여 탈락시킬 수도 있으며, 이 경우 상당한 양의 프로포잘이 거부되고 블록커밋 속도를 늦추어 블록체인의 효용과 가치를 낮출수도 있다. 또한 연합은 소량의 투표만을 전파하여 블록체인의 블록커밋 속도를 서서히 늦출 수도 있다. 결정적으로 이들은 이중서명이나 잠금규정을 지키지 않음으로 블록체인을 분기(포킹)시킬 수도 있다.")]),e._v(" "),o("p",[e._v("전역적 능동 공격자(global active adversary)가 관여할 경우, 네트워크를 분할시키고 다른 이가 책임이 있는 것처럼 보이게 할 수도 있다. 이는 텐더민트만의 문제는 아니며 네트워크 상에 능동 공격자가 존재하는 모든 합의 프로토콜이 가진 한계이다.")]),e._v(" "),o("p",[e._v("이러한 유형의 공격이 가능해지려면, 발리데이터 부분집합(a subset of the validators)이 합동하여 외부수단을 이용해 포킹 목적의 블록재조정 프로포잘에 서명해야하고, 초기 발리데이터 부분집합도 이에 서명해야한다. 클라이언트들은 블록재조정 프로포잘의 서명을 유심히 검증하고, 이를 근거로 판단하거나 그 결정을 최종사용자에게 넘길 수 있다.")]),e._v(" "),o("p",[e._v("어떤 ‘비동시성 비잔틴 장애 저항 알고리즘(non-synchronous Byzantine fault-tolerant algorithm)’도 투표권의 ⅓+이 부정직할 경우, 합의에 도달할 수 없다. 하지만, 포크의 경우 투표권의 ⅓+이 이미 이중 서명이나 잠금 변경(lock-changing)에 의해 부정직한 것으로 가정한다. 따라서 블록재조정 프로포잘(reorg-proposal)에 서명하는 것은 어떤 비동시성 프로토콜에서도(즉, 자동적으로 그리고 기반 네트워크의 신뢰성에 관한 가정없이는) 해결할 수 없는 조정 문제이다. 현재로서는 ‘블록재조정 프로포잘 조정(reorg-proposal coordination)’ 문제를 인터넷 매체 상에서 일어나는 인간들의 사회적 합의에 맡기고 있다. 상충되는 두 블록재조정 프로포잘에 서명하는 것을 방지하기 위해, 검증인들은 서명에 앞서 남은 네트워크 분할이 없도록 주의해야 한다.")]),e._v(" "),o("p",[e._v("외부의 조정 수단 및 프로토콜이 강인하다면, 네트워크분기(포크)가 검열 공격보다는 덜 치명적이다.")]),e._v(" "),o("p",[e._v("⅓ 비잔틴 투표권을 요구하는 포크 및 검열 외에, +⅔ 투표권의 연합이 임의의 무효 상태를 커밋할 수도 있다. 이는 모든 BFT 합의 시스템의 특징이다. 쉽게 검증 가능한 포크가 생성되는 이중서명과는 달리, 무효 상태 커밋(commitment of an invalid state)을 검증하기 위해서는 발리데이터가 아닌 피어들(non-validating peers)도 전체 블록들을 검증해야한다. 이는 피어들이 상태의 지역 사본(local copy)을 가지고 각 이체를 실행하며, 상태 루트(state root)를 독립적으로 계산한다는 것을 의미한다. 또한 무효상태커밋이 검출되면, 사회적 합의만이 이를 처리하는 유일한 방법이다. 예를 들어, (2013년 3월처럼) 소프트웨어 버그로 인한 분기이든, 또는 (2015년 7월처럼) 채굴자들의 비잔틴 행동으로 인한 무효 상태 커밋이든 비트코인이 실패한 상황들에서, 비즈니스, 개발자, 채굴자 및 그 밖의 조직들의 잘 연결된 커뮤니티는 네트워크 회복을 위해서 참여자들의 무엇을 해야하는지에 대한 사회적 합의를 확립했다. 텐더민트의 경우, 블록체인의 검증인들이 식별될 수 있을 것으로 예상되기 때문에, 필요한 경우, 무효 상태의 커밋을 법률이나 어떤 외부 관할권을 통해 처벌하는 것까지도 가능할 수 있다.")]),e._v(" "),o("h3",{attrs:{id:"tmsp-tmsp-specification"}},[e._v("TMSP 명세 (TMSP specification)")]),e._v(" "),o("p",[e._v("TMSP는 코어에서 애플리케이션으로 전달되는 3가지 주요 메시지 유형으로 구성된다. 애플리케이션은 대응하는 응답 메시지로 응답한다.")]),e._v(" "),o("p",[e._v("AppendTx 메시지는 애플리케이션의 핵심 작업수단이다. 블록체인에서의 이체는 이 메시지와 함께 전달된다. 애플리케이션은 AppendTx 메시지와 함께 수신된 각 이체를 현재의 상태, 애플리케이션 프로토콜, 이체의 암호학적 요건 등과 비교해서 검증한다. 이후, 검증된 이체는 값을 키-값 저장장치(key values store)으로 결합하거나 UTXO 데이터베이스를 업데이트하여 애플리케이션 상태를 업데이트해야 한다.")]),e._v(" "),o("p",[e._v("CheckTx 메시지는 AppendTx와 유사하지만 이체 검증에만 사용된다. 텐더민트 코어의 mempool(메모리 풀)은 CheckTx로 이체의 유효성을 검사하고 유효한 이체만 피어들에 전파한다. 애플리케이션들은 이체의 증가 논스 (incrementing nonce)를 검사하고 논스가 오래된 경우, CheckTx에 오류를 반환할 수도 있다.")]),e._v(" "),o("p",[e._v("Commit 메시지는 다음 블록 헤더에 포함될 현재 애플리케이션 상태에 대한 암호학적 커밋(cryptographic commitment)을 계산하기 위해 사용된다. 이를 통해 몇가지를 얻을 수 있다. 해당 상태 업데이트에서 불일치들이 포크의 형태로 나타나게 된다. 또한 머클-해시 증명들이 블록-해시와의 비교를 통해 검증될 수 있고 블록-해시는 (투표권에 의한) 검증인 정족수에 의해 서명되기 때문에, 단순한 방식으로 안전한 라이트 클라이언트 개발하는데 도움이 된다.")]),e._v(" "),o("p",[e._v("추가적 TMSP 메시지를 통해 애플리케이션이 검증인 세트를 추적(keep track of) 및 변경하고, 높이와 커밋 투표 같은 블록 정보를 수신할 수 있다.")]),e._v(" "),o("p",[e._v("TMSP 요구/응답(TMSP requests/responses)은 간단한 Protobuf 메시지들이다. "),o("a",{attrs:{href:"https://github.com/tendermint/tmsp/blob/master/types/types.proto"}},[e._v("스키마 파일(schema file)")]),e._v(" 확인")]),e._v(" "),o("h5",{attrs:{id:"appendtx"}},[e._v("AppendTx")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Arguments")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": The request transaction bytes")])])]),e._v(" "),o("li",[o("strong",[e._v("Returns")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Code (uint32)")]),e._v(": Response code")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": Result bytes, if any")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Log (string)")]),e._v(": Debug or error message")])])]),e._v(" "),o("li",[o("strong",[e._v("사용법")]),e._v(":"),o("br"),e._v("\n이체를 덧붙이고 실행한다. 이체가 유효할 경우, CodeType.OK를 반환한다.")])]),e._v(" "),o("h5",{attrs:{id:"checktx"}},[e._v("CheckTx")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Arguments")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": The request transaction bytes")])])]),e._v(" "),o("li",[o("strong",[e._v("Returns")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Code (uint32)")]),e._v(": Response code")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": Result bytes, if any")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Log (string)")]),e._v(": Debug or error message")])])]),e._v(" "),o("li",[o("strong",[e._v("사용법")]),e._v(":"),o("br"),e._v("\n이체를 검증한다. 이 메시지가 상태를 변경(mutate)해서는 안 된다. 이체들은 mempool 계층의 피어들에게 전파되기 전, CheckTx를 통해 먼저 실행된다. 동일 블록 내 이체의 발생 순서를 고려하기 위해 CheckTx를 semi-stateful(준-상태기반)로 만들고 Commit 또는 BeginBlock 시에 상태를 클리어(clear) 할 수 있다.")])]),e._v(" "),o("h5",{attrs:{id:"commit"}},[e._v("커밋 (Commit)")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Returns")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": The Merkle root hash")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Log (string)")]),e._v(": Debug or error message")])])]),e._v(" "),o("li",[o("strong",[e._v("사용법")]),e._v(":"),o("br"),e._v("\n애플리케이션 상태의 머클 루트 해시를 반환한다.")])]),e._v(" "),o("h5",{attrs:{id:"query"}},[e._v("Query")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Arguments")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": The query request bytes")])])]),e._v(" "),o("li",[o("strong",[e._v("Returns")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Code (uint32)")]),e._v(": Response code")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": The query response bytes")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Log (string)")]),e._v(": Debug or error message")])])])]),e._v(" "),o("h5",{attrs:{id:"flush"}},[e._v("Flush")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("사용법")]),e._v(":"),o("br"),e._v("\n응답 대기행렬(response queue)을 플러시(flush)한다. types.Application을 구현하는 애플리케이션들은 이 메시지를 구현할 필요가 없다–프로젝트에 의해 처리되기 때문이다.")])]),e._v(" "),o("h5",{attrs:{id:"info"}},[e._v("Info")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Returns")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": The info bytes")])])]),e._v(" "),o("li",[o("strong",[e._v("사용법")]),e._v(":"),o("br"),e._v("\n애플리케이션 상태에 관한 정보를 반환한다. 애플리케이션 특정적이다.")])]),e._v(" "),o("h5",{attrs:{id:"setoption"}},[e._v("SetOption")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Arguments")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Key (string)")]),e._v(": Key to set")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Value (string)")]),e._v(": Value to set for key")])])]),e._v(" "),o("li",[o("strong",[e._v("Returns")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Log (string)")]),e._v(": Debug or error message")])])]),e._v(" "),o("li",[o("strong",[e._v("사용법")]),e._v(":"),o("br"),e._v("\n애플리케이션 옵션을 설정한다. 예를 들어, mempool 연결을 위해서는 Key=‘mode’, Value=‘mempool’, 또는 합의 연결을 위해서는 Key=‘mode’, Value=‘consensus’. 다른 옵션들은 각 애플리케이션마다 다르다.")])]),e._v(" "),o("h5",{attrs:{id:"initchain"}},[e._v("InitChain")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Arguments")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Validators ([]Validator)")]),e._v(": Initial genesis-validators")])])]),e._v(" "),o("li",[o("strong",[e._v("사용법")]),e._v(":"),o("br"),e._v("\n제네시스 시, 1회 호출됨.")])]),e._v(" "),o("h5",{attrs:{id:"beginblock"}},[e._v("BeginBlock")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Arguments")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Height (uint64)")]),e._v(": The block height that is starting")])])]),e._v(" "),o("li",[o("strong",[e._v("사용법")]),e._v(":"),o("br"),e._v("\n새 블록의 시작을 알린다. 모든 AppendTx에 앞서 호출됨.")])]),e._v(" "),o("h5",{attrs:{id:"endblock"}},[e._v("EndBlock")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Arguments")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Height (uint64)")]),e._v(": The block height that ended")])])]),e._v(" "),o("li",[o("strong",[e._v("Returns")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Validators ([]Validator)")]),e._v(": Changed validators with new voting powers (0\nto remove)")])])]),e._v(" "),o("li",[o("strong",[e._v("사용법")]),e._v(":"),o("br"),e._v("\n블록의 끝을 알린다. 이체 후, 각 커밋에 앞서 호출됨.")])]),e._v(" "),o("p",[e._v("상세한 내용은 "),o("a",{attrs:{href:"https://github.com/tendermint/tmsp#/h"}},[e._v("TMSP 리포지토리(TMSP repository)")]),e._v(" 참조.")]),e._v(" "),o("h3",{attrs:{id:"ibc-ibc-packet-delivery-acknowledgement"}},[e._v("IBC 패킷 전송 확인응답 (IBC Packet Delivery Acknowledgement)")]),e._v(" "),o("p",[e._v("발신자가 수신 체인의 패킷전송 확인응답을 원할 여러 가지 경우가 존재한다. 예를 들어 장애가 있을 경우, 송신자는 수신 체인의 상태를 모를 수 있다. 또는 송신자는 (MaxHeight 패킷 필드로) 패킷에 타임아웃을 부여하기를 원하는 반면, 수신 체인이 갑작스런 수신 패킷 수 급증에 의한 서비스 거부(denial-of-service) 공격을 받을 수도 있다.")]),e._v(" "),o("p",[e._v("이런 경우, 송신자는 초기 패킷 상태를 AckPending으로 설정하여 전송 확인응답을 요구할 수 있다. 그러면 앱 머클 해시에 abbreviatedIBCPacket을 포함하여 전송을 확인해 주는 것이 수신 체인의 책임이다.")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://raw.githubusercontent.com/gnuclear/atom-whitepaper/master/msc/ibc_with_ack.png",alt:"Figure of Zone1, Zone2, and Hub IBC with acknowledgement"}})]),e._v(" "),o("p",[e._v("먼저, 'Zone 1’에 IBCPacket이 존재함을 증명하는 '허브’가 있다. 그리고 이 허브 위에 IBCBlockCommit과 IBCPacketTx가 포스팅된다. 예를 들어 IBCPacketTx는 다음과 같은 값을 갖는다:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("FromChainID")]),e._v(": “Zone1”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("FromBlockHeight")]),e._v(": 100 (say)")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Packet")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Header")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacketHeader")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("SrcChainID")]),e._v(": “Zone1”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("DstChainID")]),e._v(": “Zone2”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Number")]),e._v(": 200 (say)")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Status")]),e._v(": "),o("code",{pre:!0},[e._v("AckPending")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Type")]),e._v(": “coin”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("MaxHeight")]),e._v(": 350 (say “Hub” is currently at height 300)")])])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Payload")]),e._v(": <The bytes of a “coin” payload>")])])])]),e._v(" "),o("p",[e._v("다음으로, '허브’에 IBCPacket이 존재함을 증명하는 ‘Zone 2’ 위에 IBCBlockCommit과 IBCPacketTx가 포스팅된다. 예를 들면, IBCPacketTx는 다음과 같다:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("FromChainID")]),e._v(": “Hub”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("FromBlockHeight")]),e._v(": 300")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Packet")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Header")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacketHeader")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("SrcChainID")]),e._v(": “Zone1”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("DstChainID")]),e._v(": “Zone2”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Number")]),e._v(": 200")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Status")]),e._v(": "),o("code",{pre:!0},[e._v("AckPending")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Type")]),e._v(": “coin”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("MaxHeight")]),e._v(": 350")])])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Payload")]),e._v(": <The same bytes of a “coin” payload>")])])])]),e._v(" "),o("p",[e._v("그 다음, ‘Zone 2’는 앱-해시(app-hash)에 새로운 상태의 AckSent를 보이는 생략형 패킷을 반드시 포함해야 한다. 생략형 IBCPacket이 ‘Zone 2’ 위에 존재함을 증명하는 ‘허브’ 위에 IBCBlockCommit와 IBCPacketTx가 다시 포스팅된다. 예를 들면 IBCPacketTx는 다음과 같다:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("FromChainID")]),e._v(": “Zone2”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("FromBlockHeight")]),e._v(": 400 (say)")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Packet")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Header")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacketHeader")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("SrcChainID")]),e._v(": “Zone1”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("DstChainID")]),e._v(": “Zone2”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Number")]),e._v(": 200")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Status")]),e._v(": "),o("code",{pre:!0},[e._v("AckSent")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Type")]),e._v(": “coin”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("MaxHeight")]),e._v(": 350")])])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("PayloadHash")]),e._v(": <The hash bytes of the same “coin” payload>")])])])]),e._v(" "),o("p",[e._v("끝으로, '허브’는 패킷의 상태를 AckPending에서 AckReceived로 업데이트 해야 한다. 이 새로이 완결된 상태의 증거가 'Zone 2’로 되돌아간다. 예를 들면, IBCPacketTx는 다음과 같은 값을 갖는다:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("FromChainID")]),e._v(": “Hub”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("FromBlockHeight")]),e._v(": 301")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Packet")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Header")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacketHeader")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("SrcChainID")]),e._v(": “Zone1”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("DstChainID")]),e._v(": “Zone2”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Number")]),e._v(": 200")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Status")]),e._v(": "),o("code",{pre:!0},[e._v("AckReceived")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Type")]),e._v(": “coin”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("MaxHeight")]),e._v(": 350")])])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("PayloadHash")]),e._v(": <The hash bytes of the same “coin” payload>")])])])]),e._v(" "),o("p",[e._v("한편, 'Zone 1’은 ‘코인’패킷 전송의 실패가 ‘허브’ 상에서 증명되지 않는 한, 성공적으로 전송될 것이라고 가정할 것이다. 위의 예에서, '허브’는 ‘블록 350’를 통해 'Zone 2’의 AckSent 상태를 수신하지 않는다면, 상태를 타임아웃(Timeout)으로 자동 설정했을 것이다. 이 타임아웃 증거가 'Zone 1’에 다시 포스팅 될 수 있고, 모든 토큰은 반환될 수 있다.")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://raw.githubusercontent.com/gnuclear/atom-whitepaper/master/msc/ibc_with_ack_timeout.png",alt:"Figure of Zone1, Zone2, and Hub IBC with acknowledgement and timeout"}})]),e._v(" "),o("h3",{attrs:{id:"merkle-tree-proof-specification"}},[e._v("머클 트리와 증명 명세 (Merkle Tree & Proof Specification)")]),e._v(" "),o("p",[e._v("두 가지의 머클 트리 유형이 텐더민트/코스모스 생태계에서 지원된다: 단순 트리(Simple Tree)와 IAVL+ 트리.")]),e._v(" "),o("h4",{attrs:{id:"simple-tree"}},[e._v("단순 트리 (Simple Tree)")]),e._v(" "),o("p",[e._v("단순트리는 요소들(elements)의 정적 리스트(static list)를 위한 머클 트리이다. 항목의 수가 2의 거듭제곱이 아닐 경우, 잎들이 서로 다른 수준에 위치할 수 있다. 단순 트리는 트리의 양측면을 동일한 높이로 유지하고자 하지만, 좌측이 더 클 수도 있다. 이 머클 트리는 블록의 이체들을 그리고 애플리케이션 상태 루트의 최상위 요소들을 머클화 하기 위해 사용된다.")]),e._v(" "),o("pre",{pre:!0},[o("code",{attrs:{"v-pre":""}},[e._v("                *\n               / \\\n             /     \\\n           /         \\\n         /             \\\n        *               *\n       / \\             / \\\n      /   \\           /   \\\n     /     \\         /     \\\n    *       *       *       h6\n   / \\     / \\     / \\\n  h0  h1  h2  h3  h4  h5\n\n  7요소의 단순트리\n")])]),e._v(" "),o("h4",{attrs:{id:"iavl-tree"}},[e._v("IAVL+ Tree")]),e._v(" "),o("p",[e._v("IAVL+ 데이터 구조의 목적은 애플리케이션 상태의 키-값 쌍들에 영구 저장(persistent storage)을 제공하는 것이다. 그렇게 하여 결정론적 머클 루트 해시를 효율적으로 계산한다. 트리는 "),o("a",{attrs:{href:"http://en.wikipedia.org/wiki/AVL_tree"}},[e._v("AVL 알고리즘")]),e._v("의 변형(variant)을 사용하여 밸런싱되며(balancing), 모든 연산(operations)은 O(log(n))이다.")]),e._v(" "),o("p",[e._v("AVL 트리에서는 임의 노드의 2개 ‘자식 서브트리(child subtree)’의 높이가 최대 1 차이가 난다. 업데이트 시, 이 조건이 위반될 때마다 트리는 이전 트리의 비수정 노드들을 가리키는 O(log(n))의 새 노드들을 만들어서 다시 균형을 잡는다. 기존 AVL 알고리즘에서는 내부 노드들이 키-값 쌍들도 보유할 수 있다. AVL+ 알고리즘(플러스에 주의한다)은 잎 노드 상의 모든 값을 유지하기 위해 AVL 알고리즘을 수정하며, 가지 노드들만 사용하여 키를 저장한다. 이를 통해 알고리즘을 단순화하고, 머클 해시 트레일(merkle hash trail)을 짧게 유지한다.")]),e._v(" "),o("p",[e._v("AVL+ 트리는 이더리움의 "),o("a",{attrs:{href:"http://en.wikipedia.org/wiki/Radix_tree"}},[e._v("패트리샤 트라이(Patricia tries)")]),e._v("와 유사하다. 장단점이 존재한다. 키들은 IAVL+ 트리에 삽입되기 전에 해싱될 필요가 없고, 따라서 키 공간(key space)에서의 빠른 순서반복(ordered iteration)을 제공한다. 로직의 구현이 간편하고 내부 노드(inner nodes)와 잎 노드(leaf nodes)만 필요로 한다. 머클 증명은 일반적으로 짧고 균형 잡힌 이진 트리이다. 반면에 IAVL+ 트리의 머클 루트는 업데이트의 순서(order of updates)에 의존한다.")]),e._v(" "),o("p",[e._v("이진 변형(binary variant) 사용이 가능해지면, 이더리움의 패트리샤 트라이 같은 효율적 머클 트리들을 추가로 지원할 것이다.")]),e._v(" "),o("h3",{attrs:{id:"transaction-types"}},[e._v("이체 유형 (Transaction Types)")]),e._v(" "),o("p",[e._v("일반적으로, 이체들은 TMSP 인터페이스를 통해 코스모스 허브 애플리케이션으로 흘러간다.")]),e._v(" "),o("p",[e._v("코스모스 허브는 앞으로 SendTx, BondTx, UnbondTx, ReportHackTx, SlashTx, BurnAtomTx, ProposalCreateTx, ProposalVoteTx 등을 포함한 많은 주요 이체 유형들(primary transaction types)을 추가할 것이고 문서화할 것이다. 여기서는 IBC의 두 주요 이체 유형인 IBCBlockCommitTx와IBCPacketTx에 대해 설명한다.")]),e._v(" "),o("h4",{attrs:{id:"ibcblockcommittx"}},[e._v("IBCBlockCommitTx")]),e._v(" "),o("p",[e._v("IBCBlockCommitTx 이체는 다음으로 구성된다:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("ChainID (string)")]),e._v(": The ID of the blockchain")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("BlockHash ([]byte)")]),e._v(": The block-hash bytes, the Merkle root which includes the\napp-hash")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("BlockPartsHeader (PartSetHeader)")]),e._v(": The block part-set header bytes, only\nneeded to verify vote signatures")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("BlockHeight (int)")]),e._v(": The height of the commit")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("BlockRound (int)")]),e._v(": The round of the commit")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Commit ([]Vote)")]),e._v(": The +⅔ Tendermint "),o("code",{pre:!0},[e._v("Precommit")]),e._v(" votes that comprise a block\ncommit")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("ValidatorsHash ([]byte)")]),e._v(": A Merkle-tree root hash of the new validator set")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("ValidatorsHashProof (SimpleProof)")]),e._v(": A SimpleTree Merkle-proof for proving the\n"),o("code",{pre:!0},[e._v("ValidatorsHash")]),e._v(" against the "),o("code",{pre:!0},[e._v("BlockHash")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("AppHash ([]byte)")]),e._v(": A IAVLTree Merkle-tree root hash of the application state")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("AppHashProof (SimpleProof)")]),e._v(": A SimpleTree Merkle-proof for proving the\n"),o("code",{pre:!0},[e._v("AppHash")]),e._v(" against the "),o("code",{pre:!0},[e._v("BlockHash")])])]),e._v(" "),o("h4",{attrs:{id:"ibcpackettx"}},[e._v("IBCPacketTx")]),e._v(" "),o("p",[e._v("IBCPacket은 다음으로 구성된다:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("Header (IBCPacketHeader)")]),e._v(": The packet header")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Payload ([]byte)")]),e._v(": The bytes of the packet payload. "),o("em",[e._v("Optional")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("PayloadHash ([]byte)")]),e._v(": The hash for the bytes of the packet. "),o("em",[e._v("Optional")])])]),e._v(" "),o("p",[e._v("Payload 또는 PayloadHash가 반드시 존재해야 한다. IBCPacket의 해시는 Header와 Payload의 단순 머클 루트이다. 전체 페이로드(full payload)가 없는 IBCPacket은 "),o("em",[e._v("생략형 패킷")]),e._v("("),o("em",[e._v("abbreviated packet")]),e._v(")이라고 부른다.")]),e._v(" "),o("p",[e._v("IBCPacketHeader는 다음으로 구성된다.")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("SrcChainID (string)")]),e._v(": The source blockchain ID")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("DstChainID (string)")]),e._v(": The destination blockchain ID")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Number (int)")]),e._v(": A unique number for all packets")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Status (enum)")]),e._v(": Can be one of "),o("code",{pre:!0},[e._v("AckPending")]),e._v(", "),o("code",{pre:!0},[e._v("AckSent")]),e._v(", "),o("code",{pre:!0},[e._v("AckReceived")]),e._v(",\n"),o("code",{pre:!0},[e._v("NoAck")]),e._v(", or "),o("code",{pre:!0},[e._v("Timeout")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Type (string)")]),e._v(': The types are application-dependent.  Cosmos reserves the\n"coin" packet type')]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("MaxHeight (int)")]),e._v(": If status is not "),o("code",{pre:!0},[e._v("NoAckWanted")]),e._v(" or "),o("code",{pre:!0},[e._v("AckReceived")]),e._v(" by this\nheight, status becomes "),o("code",{pre:!0},[e._v("Timeout")]),e._v(". "),o("em",[e._v("Optional")])])]),e._v(" "),o("p",[e._v("IBCPacketTx 이체는 다음으로 구성된다:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("FromChainID (string)")]),e._v(": The ID of the blockchain which is providing this\npacket; not necessarily the source")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("FromBlockHeight (int)")]),e._v(": The blockchain height in which the following packet\nis included (Merkle-ized) in the block-hash of the source chain")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Packet (IBCPacket)")]),e._v(": A packet of data, whose status may be one of\n"),o("code",{pre:!0},[e._v("AckPending")]),e._v(", "),o("code",{pre:!0},[e._v("AckSent")]),e._v(", "),o("code",{pre:!0},[e._v("AckReceived")]),e._v(", "),o("code",{pre:!0},[e._v("NoAck")]),e._v(", or "),o("code",{pre:!0},[e._v("Timeout")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("PacketProof (IAVLProof)")]),e._v(": A IAVLTree Merkle-proof for proving the packet’s\nhash against the "),o("code",{pre:!0},[e._v("AppHash")]),e._v(" of the source chain at given height")])]),e._v(" "),o("p",[e._v("'허브’를 통해 '존 1’에서 '존 2’로 패킷을 송신하기 위한 순서가 {그림 X}에 도시되어 있다. 먼저, IBCPacketTx가 패킷이 '존 1’의 앱-상태(app-state)에 포함되어 있음을 '허브’에 증명한다. 그 다음에 또 다른 IBCPacketTx가 패킷이 '허브’의 앱-상태에 포함되어 있음을 '존 2’에 증명한다. 이 절차 동안, IBCPacket 필드들은 동일하다: SrcChainID는 언제나 'Zone1(존 1)'이고 DstChainID는 언제나 'Zone2(존 2)'이다.")]),e._v(" "),o("p",[e._v("PacketProof은 반드시 다음과 같은 올바른 머클 증명 경로를 포함해야 한다:")]),e._v(" "),o("pre",{pre:!0},[o("code",{attrs:{"v-pre":""}},[e._v("IBC/<SrcChainID>/<DstChainID>/<Number>\n\n")])]),e._v(" "),o("p",[e._v("'존1’이 '허브’를 통해 '존2’로 패킷을 전송할 경우, 패킷이 ‘존1’, ‘허브’ 또는 '존2’의 어디에서 머클화 되든지 상관 없이 IBCPacket 데이터는 동일하다. 변경 가능한 유일한 필드는 전송 추적을 위한 Status(상태)이다.")]),e._v(" "),o("h2",{attrs:{id:"acknowledgements"}},[e._v("감사의 글 (Acknowledgements)")]),e._v(" "),o("p",[e._v("We thank our friends and peers for assistance in conceptualizing, reviewing, and\nproviding support for our work with Tendermint and Cosmos.")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"https://github.com/zmanian"}},[e._v("Zaki Manian")]),e._v(" of\n"),o("a",{attrs:{href:"https://www.skuchain.com/"}},[e._v("SkuChain")]),e._v(" provided much help in formatting and\nwording, especially under the TMSP section")]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/jtremback"}},[e._v("Jehan Tremback")]),e._v(" of Althea and Dustin Byington\nfor helping with initial iterations")]),e._v(" "),o("li",[o("a",{attrs:{href:"http://soc1024.com/"}},[e._v("Andrew Miller")]),e._v(" of "),o("a",{attrs:{href:"https://eprint.iacr.org/2016/199"}},[e._v("Honey\nBadger")]),e._v(" for feedback on consensus")]),e._v(" "),o("li",[o("a",{attrs:{href:"https://fixingtao.com/"}},[e._v("Greg Slepak")]),e._v(" for feedback on consensus and wording")]),e._v(" "),o("li",[e._v("Also thanks to "),o("a",{attrs:{href:"https://github.com/gleim"}},[e._v("Bill Gleim")]),e._v(" and "),o("a",{attrs:{href:"http://www.seunghwanhan.com"}},[e._v("Seunghwan\nHan")]),e._v(" for various contributions.")]),e._v(" "),o("li",[o("strong",[e._v("Your name and organization here for your contribution")])])]),e._v(" "),o("h2",{attrs:{id:"citations"}},[e._v("인용 (Citations)")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"https://bitcoin.org/bitcoin.pdf"}},[e._v("1")]),e._v(" Bitcoin: "),o("a",{attrs:{href:"https://bitcoin.org/bitcoin.pdf"}},[e._v("https://bitcoin.org/bitcoin.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"http://zerocash-project.org/paper"}},[e._v("2")]),e._v(" ZeroCash: "),o("a",{attrs:{href:"http://zerocash-project.org/paper"}},[e._v("http://zerocash-project.org/paper")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/ethereum/wiki/wiki/White-Paper"}},[e._v("3")]),e._v(" Ethereum: "),o("a",{attrs:{href:"https://github.com/ethereum/wiki/wiki/White-Paper"}},[e._v("https://github.com/ethereum/wiki/wiki/White-Paper")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://download.slock.it/public/DAO/WhitePaper.pdf"}},[e._v("4")]),e._v(" TheDAO: "),o("a",{attrs:{href:"https://download.slock.it/public/DAO/WhitePaper.pdf"}},[e._v("https://download.slock.it/public/DAO/WhitePaper.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki"}},[e._v("5")]),e._v(" Segregated Witness: "),o("a",{attrs:{href:"https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki"}},[e._v("https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://arxiv.org/pdf/1510.02037v2.pdf"}},[e._v("6")]),e._v(" BitcoinNG: "),o("a",{attrs:{href:"https://arxiv.org/pdf/1510.02037v2.pdf"}},[e._v("https://arxiv.org/pdf/1510.02037v2.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://lightning.network/lightning-network-paper-DRAFT-0.5.pdf"}},[e._v("7")]),e._v(" Lightning Network: "),o("a",{attrs:{href:"https://lightning.network/lightning-network-paper-DRAFT-0.5.pdf"}},[e._v("https://lightning.network/lightning-network-paper-DRAFT-0.5.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/tendermint/tendermint/wiki"}},[e._v("8")]),e._v(" Tendermint: "),o("a",{attrs:{href:"https://github.com/tendermint/tendermint/wiki"}},[e._v("https://github.com/tendermint/tendermint/wiki")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://groups.csail.mit.edu/tds/papers/Lynch/jacm85.pdf"}},[e._v("9")]),e._v(" FLP Impossibility: "),o("a",{attrs:{href:"https://groups.csail.mit.edu/tds/papers/Lynch/jacm85.pdf"}},[e._v("https://groups.csail.mit.edu/tds/papers/Lynch/jacm85.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://blog.ethereum.org/2014/01/15/slasher-a-punitive-proof-of-stake-algorithm/"}},[e._v("10")]),e._v(" Slasher: "),o("a",{attrs:{href:"https://blog.ethereum.org/2014/01/15/slasher-a-punitive-proof-of-stake-algorithm/"}},[e._v("https://blog.ethereum.org/2014/01/15/slasher-a-punitive-proof-of-stake-algorithm/")])]),e._v(" "),o("li",[o("a",{attrs:{href:"http://pmg.csail.mit.edu/papers/osdi99.pdf"}},[e._v("11")]),e._v(" PBFT: "),o("a",{attrs:{href:"http://pmg.csail.mit.edu/papers/osdi99.pdf"}},[e._v("http://pmg.csail.mit.edu/papers/osdi99.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://bitshares.org/technology/delegated-proof-of-stake-consensus/"}},[e._v("12")]),e._v(" BitShares: "),o("a",{attrs:{href:"https://bitshares.org/technology/delegated-proof-of-stake-consensus/"}},[e._v("https://bitshares.org/technology/delegated-proof-of-stake-consensus/")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://www.stellar.org/papers/stellar-consensus-protocol.pdf"}},[e._v("13")]),e._v(" Stellar: "),o("a",{attrs:{href:"https://www.stellar.org/papers/stellar-consensus-protocol.pdf"}},[e._v("https://www.stellar.org/papers/stellar-consensus-protocol.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://interledger.org/rfcs/0001-interledger-architecture/"}},[e._v("14")]),e._v(" Interledger: "),o("a",{attrs:{href:"https://interledger.org/rfcs/0001-interledger-architecture/"}},[e._v("https://interledger.org/rfcs/0001-interledger-architecture/")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://blockstream.com/sidechains.pdf"}},[e._v("15")]),e._v(" Sidechains: "),o("a",{attrs:{href:"https://blockstream.com/sidechains.pdf"}},[e._v("https://blockstream.com/sidechains.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost/"}},[e._v("16")]),e._v(" Casper: "),o("a",{attrs:{href:"https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost/"}},[e._v("https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost/")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/tendermint/tmsp"}},[e._v("17")]),e._v(" TMSP: "),o("a",{attrs:{href:"https://github.com/tendermint/tmsp"}},[e._v("https://github.com/tendermint/tmsp")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/ethereum/EIPs/issues/53"}},[e._v("18")]),e._v(" Ethereum Sharding: "),o("a",{attrs:{href:"https://github.com/ethereum/EIPs/issues/53"}},[e._v("https://github.com/ethereum/EIPs/issues/53")])]),e._v(" "),o("li",[o("a",{attrs:{href:"http://www.ds.ewi.tudelft.nl/fileadmin/pds/papers/PerformanceAnalysisOfLibswift.pdf"}},[e._v("19")]),e._v(" LibSwift: "),o("a",{attrs:{href:"http://www.ds.ewi.tudelft.nl/fileadmin/pds/papers/PerformanceAnalysisOfLibswift.pdf"}},[e._v("http://www.ds.ewi.tudelft.nl/fileadmin/pds/papers/PerformanceAnalysisOfLibswift.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf"}},[e._v("20")]),e._v(" DLS: "),o("a",{attrs:{href:"http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf"}},[e._v("http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://en.bitcoin.it/wiki/Thin_Client_Security"}},[e._v("21")]),e._v(" Thin Client Security: "),o("a",{attrs:{href:"https://en.bitcoin.it/wiki/Thin_Client_Security"}},[e._v("https://en.bitcoin.it/wiki/Thin_Client_Security")])]),e._v(" "),o("li",[o("a",{attrs:{href:"http://vitalik.ca/files/mauve_paper.html"}},[e._v("22")]),e._v(" Ethereum 2.0 Mauve Paper: "),o("a",{attrs:{href:"http://vitalik.ca/files/mauve_paper.html"}},[e._v("http://vitalik.ca/files/mauve_paper.html")])])]),e._v(" "),o("h4",{attrs:{id:"unsorted-links"}},[e._v("기타 링크 (Unsorted links)")]),e._v(" "),o("ul",[o("li",[e._v("["),o("a",{attrs:{href:"https://www.docdroid.net/ec7xGzs/314477721-ethereum-platform-review-opportunities-and-challenges-for-private-and-consortium-blockchains.pdf.html"}},[e._v("https://www.docdroid.net/ec7xGzs/314477721-ethereum-platform-review-opportunities-and-challenges-for-private-and-consortium-blockchains.pdf.html")]),e._v("]")])])])}]}},538:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("h1",{attrs:{id:"cosmos"}},[e._v("Cosmos")]),e._v(" "),o("p",[e._v("Uma Rede de Distribuição de Ledgers")]),e._v(" "),o("p",[e._v("Jae Kwon jae@tendermint.com"),o("br"),e._v("\nEthan Buchman ethan@tendermint.com")]),e._v(" "),o("p",[e._v("Para discussões, "),o("a",{attrs:{href:"https://cosmos.rocket.chat"}},[e._v("entre no nosso Rocket")]),e._v("!")]),e._v(" "),o("p",[o("em",[e._v("NOTA: Se você pode ler isso no GitHub, então ainda estamos desenvolvendo este documento ativamente. Por favor, cheque regularmente as atualizações!")])]),e._v(" "),o("p"),o("div",{staticClass:"minimal-toc"},[o("ul",[o("li",[o("a",{attrs:{href:"#tendermint"}},[e._v("Tendermint")]),o("ul",[o("li",[o("a",{attrs:{href:"#validadores"}},[e._v("Validadores")])]),o("li",[o("a",{attrs:{href:"#consenso"}},[e._v("Consenso")])]),o("li",[o("a",{attrs:{href:"#clientes-light"}},[e._v("Clientes Light")])]),o("li",[o("a",{attrs:{href:"#previnindo-ataques"}},[e._v("Previnindo ataques")])]),o("li",[o("a",{attrs:{href:"#tmsp"}},[e._v("TMSP")])])])]),o("li",[o("a",{attrs:{href:"#visao-geral-da-cosmos"}},[e._v("Visão Geral da Cosmos")]),o("ul",[o("li",[o("a",{attrs:{href:"#tendermint-bft"}},[e._v("Tendermint-BFT")])]),o("li",[o("a",{attrs:{href:"#governanca"}},[e._v("Governança")])])])]),o("li",[o("a",{attrs:{href:"#o-hub-e-as-zonas"}},[e._v("O Hub e as Zonas")]),o("ul",[o("li",[o("a",{attrs:{href:"#o-hub"}},[e._v("O Hub")])]),o("li",[o("a",{attrs:{href:"#as-zonas"}},[e._v("As Zonas")])])])]),o("li",[o("a",{attrs:{href:"#comunicacao-inter-blockchain-ibc"}},[e._v("Comunicação Inter-blockchain (IBC)")])]),o("li",[o("a",{attrs:{href:"#casos-de-uso"}},[e._v("Casos de Uso")]),o("ul",[o("li",[o("a",{attrs:{href:"#exchange-distribuidas"}},[e._v("Exchange Distribuídas")])]),o("li",[o("a",{attrs:{href:"#pegging-para-outras-criptomoedas"}},[e._v("Pegging para Outras Criptomoedas")])]),o("li",[o("a",{attrs:{href:"#ethereum-scaling"}},[e._v("Ethereum Scaling")])]),o("li",[o("a",{attrs:{href:"#integracao-de-multi-aplicacao"}},[e._v("Integração de Multi-Aplicação")])]),o("li",[o("a",{attrs:{href:"#reducao-de-particao-de-rede"}},[e._v("Redução de partição de rede")])]),o("li",[o("a",{attrs:{href:"#sistema-de-resolucao-de-nomes-federados"}},[e._v("Sistema de Resolução de Nomes Federados")])])])]),o("li",[o("a",{attrs:{href:"#emissao-e-incentivos"}},[e._v("Emissão e Incentivos")]),o("ul",[o("li",[o("a",{attrs:{href:"#o-token-atom"}},[e._v("O Token Atom")]),o("ul",[o("li",[o("a",{attrs:{href:"#levantamento-de-fundos"}},[e._v("Levantamento de Fundos")])]),o("li",[o("a",{attrs:{href:"#investindo"}},[e._v("Investindo")])])])]),o("li",[o("a",{attrs:{href:"#limitacoes-do-numero-de-validadores"}},[e._v("Limitações do Número de Validadores")])]),o("li",[o("a",{attrs:{href:"#tornando-se-um-validador-depois-do-dia-da-genesis"}},[e._v("Tornando-se um Validador depois do dia da Genesis")])]),o("li",[o("a",{attrs:{href:"#penalidades-para-validadores"}},[e._v("Penalidades para Validadores")])]),o("li",[o("a",{attrs:{href:"#taxas-de-transacao"}},[e._v("Taxas de Transação")])]),o("li",[o("a",{attrs:{href:"#incentivando-hackers"}},[e._v("Incentivando Hackers")])]),o("li",[o("a",{attrs:{href:"#especificacao-de-governanca"}},[e._v("Específicação de Governança")])]),o("li",[o("a",{attrs:{href:"#parametro-de-mudanca-de-proposta"}},[e._v("Parâmetro de Mudança de Proposta")])]),o("li",[o("a",{attrs:{href:"#texto-da-proposta"}},[e._v("Texto da Proposta")])])])]),o("li",[o("a",{attrs:{href:"#roteiro"}},[e._v("Roteiro")])]),o("li",[o("a",{attrs:{href:"#trabalho-relacionado"}},[e._v("Trabalho Relacionado")]),o("ul",[o("li",[o("a",{attrs:{href:"#sistemas-de-consenso"}},[e._v("Sistemas de Consenso")]),o("ul",[o("li",[o("a",{attrs:{href:"#classic-byzantine-fault-tolerance"}},[e._v("Classic Byzantine Fault Tolerance")])]),o("li",[o("a",{attrs:{href:"#participacao-delegada-do-bitshares"}},[e._v("Participação delegada do BitShares")])]),o("li",[o("a",{attrs:{href:"#stellar"}},[e._v("Stellar")])]),o("li",[o("a",{attrs:{href:"#bitcoinng"}},[e._v("BitcoinNG")])]),o("li",[o("a",{attrs:{href:"#casper"}},[e._v("Casper")])])])]),o("li",[o("a",{attrs:{href:"#escala-horizontal"}},[e._v("Escala Horizontal")]),o("ul",[o("li",[o("a",{attrs:{href:"#protocolo-interledger"}},[e._v("Protocolo Interledger")])]),o("li",[o("a",{attrs:{href:"#sidechains"}},[e._v("Sidechains")])]),o("li",[o("a",{attrs:{href:"#esforcos-de-escalabilidade-do-ethereum"}},[e._v("Esforços de Escalabilidade do Ethereum")]),o("ul",[o("li",[o("a",{attrs:{href:"#cosmos-vs-ethereum-20-mauve"}},[e._v("Cosmos vs Ethereum 2.0 Mauve")])])])])])]),o("li",[o("a",{attrs:{href:"#escala-geral"}},[e._v("Escala Geral")]),o("ul",[o("li",[o("a",{attrs:{href:"#lightning-network"}},[e._v("Lightning Network")])]),o("li",[o("a",{attrs:{href:"#segregated-witness"}},[e._v("Segregated Witness")])])])])])]),o("li",[o("a",{attrs:{href:"#apendice"}},[e._v("Apêndice")]),o("ul",[o("li",[o("a",{attrs:{href:"#responsabilidade-de-fork"}},[e._v("Responsabilidade de Fork")])]),o("li",[o("a",{attrs:{href:"#consenso-tendermint"}},[e._v("Consenso Tendermint")])]),o("li",[o("a",{attrs:{href:"#clientes-leves-do-tendermint"}},[e._v("Clientes Leves do Tendermint")])]),o("li",[o("a",{attrs:{href:"#prevencao-de-ataques-de-longo-alcance"}},[e._v("Prevenção de ataques de longo alcance")])]),o("li",[o("a",{attrs:{href:"#superando-forks-e-ataques-de-censura"}},[e._v("Superando Forks e Ataques de Censura")])]),o("li",[o("a",{attrs:{href:"#especificacao-tmsp"}},[e._v("Especificação TMSP")]),o("ul",[o("li",[o("a",{attrs:{href:"#appendtx"}},[e._v("AppendTx")])]),o("li",[o("a",{attrs:{href:"#checktx"}},[e._v("CheckTx")])]),o("li",[o("a",{attrs:{href:"#commit"}},[e._v("Commit")])]),o("li",[o("a",{attrs:{href:"#query"}},[e._v("Query")])]),o("li",[o("a",{attrs:{href:"#flush"}},[e._v("Flush")])]),o("li",[o("a",{attrs:{href:"#info"}},[e._v("Info")])]),o("li",[o("a",{attrs:{href:"#setoption"}},[e._v("SetOption")])]),o("li",[o("a",{attrs:{href:"#initchain"}},[e._v("InitChain")])]),o("li",[o("a",{attrs:{href:"#beginblock"}},[e._v("BeginBlock")])]),o("li",[o("a",{attrs:{href:"#endblock"}},[e._v("EndBlock")])])])]),o("li",[o("a",{attrs:{href:"#reconhecimento-de-entrega-de-pacotes-ibc"}},[e._v("Reconhecimento de entrega de pacotes IBC")])]),o("li",[o("a",{attrs:{href:"#arvore-merkle-e-especificacao-de-prova"}},[e._v("Árvore Merkle e Especificação de Prova")]),o("ul",[o("li",[o("a",{attrs:{href:"#arvore-simples"}},[e._v("Árvore Simples")])]),o("li",[o("a",{attrs:{href:"#arvore-iavl"}},[e._v("Árvore IAVL+")])])])]),o("li",[o("a",{attrs:{href:"#tipos-de-transacao"}},[e._v("Tipos de Transação")]),o("ul",[o("li",[o("a",{attrs:{href:"#ibcblockcommittx"}},[e._v("IBCBlockCommitTx")])]),o("li",[o("a",{attrs:{href:"#ibcpackettx"}},[e._v("IBCPacketTx")])])])])])]),o("li",[o("a",{attrs:{href:"#agradecimentos"}},[e._v("Agradecimentos")])]),o("li",[o("a",{attrs:{href:"#citacoes"}},[e._v("Citações")]),o("ul",[o("li",[o("a",{attrs:{href:"#links-nao-classificados"}},[e._v("Links não classificados")])])])])])]),o("p"),e._v(" "),o("p",[e._v("O sucesso combinado do ecossistema de código aberto, compartilhamento\nde arquivos descentralizado e criptomoedas públicas tem inspirado um conhecimento sobre\nprotocolos descentralizados na Internet que podem ser utilizados para melhorar radicalmente\na infraestrutura. Vimos aplicações de blockchain especializadas como Bitcoin\n"),o("a",{attrs:{href:"https://bitcoin.org/bitcoin.pdf"}},[e._v("[1]")]),e._v(" (uma criptomoeda), Zerocash "),o("a",{attrs:{href:"http://zerocash-project.org/paper"}},[e._v("[2]")]),e._v(" (uma criptomoeda para privacidade\n), and generalized smart contract platforms such as Ethereum "),o("a",{attrs:{href:"https://github.com/ethereum/wiki/wiki/White-Paper"}},[e._v("[3]")]),e._v(",\ncom inúmeras aplicações distribuídas para a Etherium Virtual Machine (EVM), como Augur (uma previsão\nde mercado) e TheDAO "),o("a",{attrs:{href:"https://download.slock.it/public/DAO/WhitePaper.pdf"}},[e._v("[4]")]),e._v(" (um clube de investimento).")]),e._v(" "),o("p",[e._v("Contudo, até à data, estas blockchains sofreram uma série de inconvenientes,\nincluindo sua ineficiência energética, desempenho fraco ou limitado e\nmecanismos de governança imaturos. Propostas de escala\nde processamento de transações da Bitcoin, como Testemunhas Separadas "),o("a",{attrs:{href:"https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki"}},[e._v("[5]")]),e._v(" e\nBitcoinNG "),o("a",{attrs:{href:"https://arxiv.org/pdf/1510.02037v2.pdf"}},[e._v("[6]")]),e._v(", soluções de escalonamento vertical que permanecem\nlimitadas pela capacidade de uma única máquina física, a fim de\nproporcionar uma auditabilidade completa. A Rede Lightning "),o("a",{attrs:{href:"https://lightning.network/lightning-network-paper-DRAFT-0.5.pdf"}},[e._v("[7]")]),e._v(" pode ajudar\no Bitcoin no quesito volume de transações, deixando algumas transações completamente\nfora da carteira, e é bem adequado para micropagamentos e preservando a privacisadade por pagamentos\nRails, mas pode não ser adequado para necessidades de escala mais abrangente.")]),e._v(" "),o("p",[e._v("Uma solução ideal é a de permitir blockchains paralelos múltiplos para\ninteroperação, mantendo suas propriedades de segurança. Isto provou\nser difícil, se não impossível, com prova de trabalho. A mineração combinada, por exemplo,\npermite que o trabalho feito para proteger uma blockchain mãe seja reutilizado em uma blockchain nova,\nmas as transações ainda devem ser validadas, em ordem, por cada nó, e uma\nblockchain Merge-mined é vulnerável a ataques se a maioria do poder de\nhashing sobre a mãe não é ativamente merge-mined da nova. Uma revisão acadêmica\ndo "),o("a",{attrs:{href:"http://vukolic.com/iNetSec_2015.pdf"}},[e._v("arquiteturas de redes alternativas blockchain\n")]),e._v(" é fornecida para\ncontextualizar, e fornecemos resumos de outras propostas e suas desvantagens em\n"),o("a",{attrs:{href:"#trabalho-relatado"}},[e._v("Trabalho relatado")]),e._v(".")]),e._v(" "),o("p",[e._v("Nesse relato nós apresentamos a Cosmos, uma novela da arquitetura de rede blockchain que aborda todos\nesses problemas. Cosmos é uma rede de muitos blockchains independentes, chamados\nZonas. As zonas são alimentadas pelo Tendermint Coreork "),o("a",{attrs:{href:"https://github.com/tendermint/tendermint/wiki"}},[e._v("[8]")]),e._v(", que fornece uma\nalta performace, consistência, segurança\n"),o("a",{attrs:{href:"https://blog.cosmos.network/tendermint-vs-pbft-12e9f294c9ab"}},[e._v("PBFT-como")]),e._v(" um mecanismo de consenso\nrigoroso, onde "),o("a",{attrs:{href:"#fork-respons%C3%A1vel"}},[e._v("fork-responsável")]),e._v(" tem-se garantias de deter\ncomportamentos maliciosos. O algoritmo de consenso BFT do Tendermint Core é\nbem adaptado para integrar blockchains públicas de prova de estaca.")]),e._v(" "),o("p",[e._v("A primeira zona na Cosmos é chamada de Cosmos Hub. A Cosmos Hub é uma criptomoeda\nmulti-asset de prova de estaca com um simples mecanismo de governança\no qual permite a rede se adaptar e atualizar.  Além disso, a Cosmos Hub pode ser\nextendida por conexão com outras zonas.")]),e._v(" "),o("p",[e._v("O hub e as zonas da rede Cosmos comunicam-se uma com a outra através de um\nprotocolo de comunicação Inter-blockchain (IBC), um tipo de UDP ou TCP virtual para\nblockchains. Os tokens podem ser transferidos de uma zona para outra com segurança e\nrapidez sem necessidade de liquidez cambial entre as zonas.  Em vez disso, todas\nas transferências de tokens inter-zonas passam pelo Hub Cosmos, que mantêm\na quantidade total de tokens detidas por cada zona. O hub isola cada zona da\nfalha das outras zonas. Porque qualquer um pode conectar uma nova zona no Hub Cosmos,\no que permite futuras compatibilidades com novas blockchains inovadoras.")]),e._v(" "),o("h2",{attrs:{id:"tendermint"}},[e._v("Tendermint")]),e._v(" "),o("p",[e._v("Nesta seção, descrevemos o protocolo de consenso da Tendermint e a interface\nusada para construir aplicações através dele. Para mais detalhes, consulte o "),o("a",{attrs:{href:"#ap%C3%AAndice"}},[e._v("apêndice")]),e._v(".")]),e._v(" "),o("h3",{attrs:{id:"validadores"}},[e._v("Validadores")]),e._v(" "),o("p",[e._v("No algorítimo de tolerância e falhas clássicas Bizantinas (BFT), cada node tem o mesmo\npeso.  Na Tendermint, nodes tem uma quantidade positiva de "),o("em",[e._v("poder de voto")]),e._v(", e\nesses nodes que tem poder de voto positivo são chamados de "),o("em",[e._v("validadores")]),e._v(".  Validadores\nparticipam de um protocolo de consenso por transmissão de assinaturas criptográficas,\nou "),o("em",[e._v("votos")]),e._v(", para concordar com o próximo bloco.")]),e._v(" "),o("p",[e._v("Os poderes de voto dos validadores são determinados na gênese, ou são alterados\nde acordo com a blockchain, dependendo da aplicação. Por exemplo,\nem uma aplicação de prova de participação, como o Hub da Cosmos, o poder de voto pode ser\ndeterminado pela quantidade de tokens usados como garantia.")]),e._v(" "),o("p",[o("em",[e._v("NOTA: Frações como ⅔ e ⅓ referem-se a frações do total de votos,\nnunca o número total de validadores, a menos que todos os validadores tenham\npeso.")]),e._v(" "),o("em",[e._v("NOTE: +⅔ significa “mais do que ⅔”, enquanto ⅓+ significa “⅓ ou mais”.")])]),e._v(" "),o("h3",{attrs:{id:"consenso"}},[e._v("Consenso")]),e._v(" "),o("p",[e._v("Tendermint é um protocolo de consenso BFT parcialmente sincronizado e derivado do\nalgoritmo de consenso DLS "),o("a",{attrs:{href:"http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf"}},[e._v("[20]")]),e._v(". Tendermint é notável por sua simplicidade,\ndesempenho, e "),o("a",{attrs:{href:"#fork-respons%C3%A1vel"}},[e._v("fork-responsável")]),e._v(".  O protocolo\nrequer um grupo determinado de validadores, onde cada validador é identificado por\nsua chave pública. Validadores chegarão a um consenso em um bloco por vez,\nonde um bloco é uma lista de transações. A votação para o consenso sobre um bloco\nacontece por rodada. Cada rodada tem uma líder-de-rodada, ou proponente, que propõe um bloco. Os\nvalidadores, em seguida, votam, por etapas, sobre a aceitação do bloco proposto\nou passam para a próxima rodada. O proponente de uma rodada é escolhido\nde acordo com uma lista ordenada de validadores, proporcionalmente à seu\npoder de voto.")]),e._v(" "),o("p",[e._v("Os detalhes completos do protocolo estão descritos\n"),o("a",{attrs:{href:"https://github.com/tendermint/tendermint/wiki/Byzantine-Consensus-Algorithm"}},[e._v("aqui")]),e._v(".")]),e._v(" "),o("p",[e._v("A segurança da Tendermint é baseada na tolerância e falhas clássicas Bizantinas ótimas\natravés de super-maioria (+⅔) e um mecanismo de bloqueio.  Juntas, elas garantem\nisso:")]),e._v(" "),o("ul",[o("li",[e._v("⅓+ o poder de voto deve ser bizantino devido a violações de segurança, onde mais\n  que dois valores são comprometidos.")]),e._v(" "),o("li",[e._v("se algum conjunto de validadores tiver sucesso em violar a segurança, ou mesmo tentarem\npara isso, eles podem ser identificados pelo protocolo. Isso inclui tanto o voto\npara blocos conflitantes quanto a transmissão de votos injustificados.")])]),e._v(" "),o("p",[e._v("Apesar de suas fortes garantias, a Tendermint oferece um desempenho excepcional. Dentro\nde Benchmarks de 64 nós distribuídos em 7 datacenters em 5 continentes, em\nnuvens de commodities, o consenso da Tendermint pode processar milhares de\ntransações por segundo, com tempo de resposta entre um a dois\nsegundos. Notavelmente, o desempenho muito além de mil transações por segundo\né mantido mesmo em condições adversas, com validadores falhando ou\ncombinando votos maliciosamente. Veja a figura abaixo para mais detalhes.")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://raw.githubusercontent.com/gnuclear/atom-whitepaper/master/images/tendermint_throughput_blocksize.png",alt:"Figura do desempenho da Tendermint"}})]),e._v(" "),o("h3",{attrs:{id:"clientes-light"}},[e._v("Clientes Light")]),e._v(" "),o("p",[e._v("O principal benefício do algoritmo de consenso da Tendermint é um cliente leve e simplificado\nde segurança, tornando-o um candidato ideal para o uso de dispositivos móveis e casos de uso na\ninternet. Enquanto um cliente leve do Bitcoin deve sincronizar blockchains e encontrar\no que tem mais prova de trabalho, os clientes light da Tendermint precisa apenas\ndas alterações feitas pelo conjunto dos validadores, em seguida, verifica-se o +⅔ PreCommits\nno último bloco para determinar o estado atual.")]),e._v(" "),o("p",[e._v("Provas claras e sucintas do cliente também permite "),o("a",{attrs:{href:"#comunica%C3%A7%C3%A3o-inter-blockchain-ibc"}},[e._v("comunicação-inter-\nblockchain")]),e._v(".")]),e._v(" "),o("h3",{attrs:{id:"previnindo-ataques"}},[e._v("Previnindo ataques")]),e._v(" "),o("p",[e._v("A Tendermint dispõe de medidas de proteção para evitar\nataques, como "),o("a",{attrs:{href:"#previnindo-ataques-de-longa-dist%C3%A2ncia"}},[e._v("gastos duplos em longa-distância-sem-estaca double\nspends")]),e._v(" e\n"),o("a",{attrs:{href:"#superando-forks-e-censurando-ataques"}},[e._v("censura")]),e._v(". Esses são discutidos\ncompletamente no "),o("a",{attrs:{href:"#ap%C3%AAndice"}},[e._v("apêndice")]),e._v(".")]),e._v(" "),o("h3",{attrs:{id:"tmsp"}},[e._v("TMSP")]),e._v(" "),o("p",[e._v("O algoritmo de consenso Tendermint é implementado através de um programa chamado Tendermint\nCore. O Tendermint Core é um “mecanismo de consenso” independente de aplicações que\ntransformam qualquer aplicação blackbox em uma réplica distribuída na\nBlockchain. Tendermint Core conecta-se ao blockchain\natravés de aplicações do Tendermint Socket Protocol (TMSP) "),o("a",{attrs:{href:"https://github.com/tendermint/tmsp"}},[e._v("[17]")]),e._v(". Assim, o TMSP\npermite que as aplicações da blockchain sejam programadas em qualquer idioma, não apenas\na linguagem de programação que o mecanismo de consenso é escrito, além disso,\no TMSP torna possível a troca fácil da camada de consenso de qualquer\ntipo de blockchain.")]),e._v(" "),o("p",[e._v("Nós fizemos uma analogia com a bem conhecida criptogradia do Bitcoin. Bitcoin é uma\nblockchain de criptomoedas onde cada nó mantém uma Unspent totalmente auditada\ne banco de dados de saída de transação (UTXO). Se alguém quisesse criar um Bitcoin-like\nTMS, a Tendermint Core seria responsável por")]),e._v(" "),o("ul",[o("li",[e._v("Compartilhar blocos e transações entre os nós")]),e._v(" "),o("li",[e._v("Estabelecer uma ordem de transações canônica/imutável (a blockchain)")])]),e._v(" "),o("p",[e._v("Entretanto, o aplicativo TMSP seria responsável por")]),e._v(" "),o("ul",[o("li",[e._v("Manter o banco de dados UTXO")]),e._v(" "),o("li",[e._v("Validar a criptografia das assinaturas das transações")]),e._v(" "),o("li",[e._v("Previnir transações vindas de gastos de fundos não exisentes")]),e._v(" "),o("li",[e._v("Permitir aos clientes a consulta do banco de dados UTXO")])]),e._v(" "),o("p",[e._v("Tendermint é capaz de decompor o design da blockchain, oferecendo um simples\nAPI entre o processo da aplicação e o processo do consenso.")]),e._v(" "),o("h2",{attrs:{id:"visao-geral-da-cosmos"}},[e._v("Visão Geral da Cosmos")]),e._v(" "),o("p",[e._v("Cosmos é uma rede de blockchains paralelos e independentes que são alimentadas pelo\nclássico algorítimo de consenso BFT como a Tendermint\n"),o("a",{attrs:{href:"http://github.com/tendermint/tendermint"}},[e._v("1")]),e._v(".")]),e._v(" "),o("p",[e._v("A primeira blockchain dessa rede será a Cosmos Hub.  A Cosmos Hub\nconecta as outras blockchains (ou "),o("em",[e._v("zonas")]),e._v(") através do protocolo de comunicação-inter-\nblockchain.  A Cosmos Hub rastreia vários tipos de tokens e mantém\nregisto do número total de tokens em cada zona ligada. Os tokens podem ser\ntransferidos de uma zona para outra de forma segura e rápida, sem necessidade de\numa troca líquida entre zonas, porque todas as transferências de moedas ocorre\natravés da Cosmos Hub.")]),e._v(" "),o("p",[e._v("Essa arquitetura resolve muitos dos problemas enfrentados atualmente pelas blockchains,\ntais como interoperabilidade de aplicativos, escalabilidade e capacidade de atualização contínua.\nPor exemplo, as zonas baseadas do Bitcoin, Go-Ethereum, CryptoNote, ZCash, ou qualquer\nsistema blockchain pode ser ligado ao Cosmos Hub.  Essas zonas permite a Cosmos\no escalonamento infinito para atender a demanda global de transações.  As Zonas também são um grande\napoio para a exchange distribuída, que também serão apoiadas.")]),e._v(" "),o("p",[e._v("Cosmos não é apenas uma única ledger distribuídos, o Cosmos Hub não é um\njardim cercado ou o centro do universo. Estamos elaborando um protocolo para\numa rede aberta de legers distribuídos que pode servir como um novo\nfuturos para sistemas financeiros, baseados em princípios de criptografia, economia\nteoria de consenso, transparência e responsabilidade.")]),e._v(" "),o("h3",{attrs:{id:"tendermint-bft"}},[e._v("Tendermint-BFT")]),e._v(" "),o("p",[e._v("O Cosmos Hub é a primeira blockchain pública na rede Cosmos, alimentada pelo\nalgoritimo de consenso BFT Tendermint. A Tendermint é um projeto de fonte aberta que\nnasceu em 2014 para abordar a velocidade, a escalabilidade e as questões\ndo algoritimo de consenso da prova-de-trabalho do Bitcoin.  Usando e melhorando\nalgoritmos BFT comprovados e desenvolvidos no MIT em 1988 "),o("a",{attrs:{href:"http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf"}},[e._v("[20]")]),e._v(", o time Tendermint foi o primeiro a\nque demonstrou conceitualmente uma prova de estaca das criptomoedas que aborda o\nproblema de “sem-estaca” sofrido pelas criptomoedas da primeira geração\ntais como NXT e BitShares.")]),e._v(" "),o("p",[e._v("Hoje, praticamente todas carteiras móveis de Bitcoin usam servidores confiáveis, que fornece\na elas transações com verificação.  Isso porque a prova-de-trabalho exige\nmuitas confirmações antes que uma transação possa ser considerada\nirreversivel e completa. Os ataques de gasto-duplo já foram demonstrados em\nserviços como a CoinBase.")]),e._v(" "),o("p",[e._v("Ao contrário de outros sistemas de consenso blockchain, a Tendermint oferece\ncomprovação segura de pagamento para o cliente móvel. Uma vez que a Mint é\nprojetada para nunca passar por um fork, carteiras móveis podem receber confirmações de transações\ninstantâneas, o que torna os pagamentos confiáveis e práticos através de\nsmartphones. Isto tem implicações significativas para as aplicações da Internet.")]),e._v(" "),o("p",[e._v("Validadores na Cosmos tem uma função similar aos mineiros do Bitcoin, mas usam\nassinaturas criptografadas para votar. Validadores são máquinas seguras e dedicadas\nque são responsáveis por validar os blocos. Os não validadores podem delegar através de seus tokens estacados\n(chamados “atoms”) a qualquer validador para ganhar uma parcela das taxas da blockchain\ne recompensas de atoms, mas eles correm o risco de serem punidos (cortados) se o\no validador de delegados for invadido ou violar o protocolo. A segurança comprovada\ngarantida pelo consenso BFT da Tendermint, e o depósito de garantia das\npartes interessadas - validadores e delegados - fornecem dados prováveis,\nsegurança para os nós e clientes light.")]),e._v(" "),o("h3",{attrs:{id:"governanca"}},[e._v("Governança")]),e._v(" "),o("p",[e._v("Ledgers de distribuição pública devem ser constituídos de um sistema de governança.\nO Bitcoin confia na Fundação Bitcoin e na mineração para\ncoordenar upgrades, mas este é um processo lento. Ethereum foi dividido em ETH e\nETC depois de hard-fork para se recuperar do hack TheDAO, em grande parte porque não havia\ncontrato sócial prévio, nem um mecanismo para tomar tais decisões.")]),e._v(" "),o("p",[e._v("Os validadores e os delegados do Cosmos Hub podem votar propostas que\nalteraram automaticamente os parâmetros predefinidos do sistema (tal como o gás limite do\nbloco), coordenar upgrades, bem como votar em emendas para a\nconstituição que governa as políticas do Cosmos Hub. A Constituição\npermite a coesão entre as partes interessadas em questões como o roubo\ne bugs (como o incidente TheDAO), permitindo uma resolução mais rápida e mais limpa.")]),e._v(" "),o("p",[e._v("Cada zona pode ter sua própria constituição e mecanismo de governança.\nPor exemplo, o Cosmos Hub pode ter uma constituição que reforça a imutabilidade\nno Hub (sem roll-backs, a não ser por bugs em implementações dos nós do Cosmos Hub),\nenquanto cada zona pode ter sua própria política sobre os roll-backs.")]),e._v(" "),o("p",[e._v("Ao disponibilizar a interoperabilidade em diferentes políticas das zonas, a rede Cosmos\ndá aos usuários total liberdade e potenciais permissões para\nexperimentos.")]),e._v(" "),o("h2",{attrs:{id:"o-hub-e-as-zonas"}},[e._v("O Hub e as Zonas")]),e._v(" "),o("p",[e._v('Aqui nós descrevemos o modelo do roteiro de descentralização e ecalabilidade.  Cosmos é uma\nrede de muitas blockchains alimentadas pela Tendermint.  Enquanto existirem propostas visando\ncriar um"blockchain solitário" com ordens de transações cheias, a Cosmos\npermite que muitas blockchains rodem junto de outra enquanto mantêm a\ninteroperabilidade.')]),e._v(" "),o("p",[e._v("Basicamente, o Cosmos Hub gerencia várias blockchains independentes chamadas “zonas”\n(as vezes chamadas de “shards”, em referência a técnica de escalonamento de\nbando de dados conhecida como “sharding”).  Uma constante transmissão de blocos recentes das\nzonas atuando no Hub permite ao Hub manter o estado de cada zona atualizado.\nSendo assim, cada zona mantêm ativa o estado do Hub (mas as zonas não se mantêm ativas\ncom qualquer outro exceto o Hub).  Pacotes de informação são\nentão comunicados de uma zona para outra atráves de Merkle-proofs como evidências,\nessas informações são enviadas e recebidas. Esse mecanismo é chamado de\ncomunicação inter-blockchain, ou IBC para encurtar.")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://raw.githubusercontent.com/gnuclear/atom-whitepaper/master/images/hub_and_zones.png",alt:"Figura de reconhecimentodo hub e das zonas"}})]),e._v(" "),o("p",[e._v("Qualquer uma das zonas podem ser hubs para formar gráficos acíclicos, mas\nmas para deixar claro, nós vamos apenas descrever uma simples configuração para\num único hub, e várias zonas que não são hubs.")]),e._v(" "),o("h3",{attrs:{id:"o-hub"}},[e._v("O Hub")]),e._v(" "),o("p",[e._v('O Cosmos Hub é uma blockchain que hospeda um ledger de distribuíção de multi-asset,\nonde os tokens podem ser mantidos por usuários individuais ou pelas próprias zonas.  Esses\ntokens podem ser movidos de uma zona para outra em um pacote IBC especial chamado\n"coin packet".  O hub é responsavel por preservar a manutenção global de\ntoda a quantia de cada token nas zonas. As transações de moedas no pacote IBC\nprecisam ser feitas pelo remetente, hub, e blockchain recebedor.')]),e._v(" "),o("p",[e._v("Desde a atuação do Cosmos Hub  como ledger principal para todos o\nsistema, a segurança do Hub é de suma importância.  Enquanto cada\nzona pode ser uma blockchain Tendermint que é segurada por 4((ou talvez\nmenos caso o consenso BFT não seja necessário), o Hub precisa ser segurado por uma descentralização\nglobalizada feita pelos validadores que podem evitar os mais severos tipos de\nataques, como uma partição de rede continental ou um estado-nação fazendo\nataques.")]),e._v(" "),o("h3",{attrs:{id:"as-zonas"}},[e._v("As Zonas")]),e._v(" "),o("p",[e._v('Uma zona Cosmos é uma blockchain independente das trocas de mensagens IBC com o\nHub.  Na perspectiva do Hub, uma zona é uma conta multi-asset dynamic-membership\nmulti-signature que pode enviar e receber tokens usando pacotes IBC. Como\numa conta de criptomoeda, uma zona não pode transferir mais tokens do que ela possui, mas\npode receber tokens de outras que os tem. Uma zona pode ser usada como uma\n"fonte" de um ou mais tipos de tokens, garantindo o poder de aumentar o estoque desse\ntoken.')]),e._v(" "),o("p",[e._v("Os atoms do Cosmos Hub podem ser estacados por validadores de uma zona conectada ao\nHub.  Enquanto os ataques de gasto-duplo nesses zonas podem resultar em um core dos\natoms com o fork-responsável da Tendermint, uma zona onde +⅔ do poder de voto\nsão Bizantinos podem deixar o estado inválido.  O Cosmos Hub não verifica ou\nexecuta transações ocorridas em outras zonas, então essa é uma responsabilidade dos\nusuários para enviar os tokes ara zonas que eles confiem.  Futuramente, o sistema de\ngovernança do Cosmos Hub irá implementar propostas para o Hub e para as falhas\ndas zonas.  Por exemplo, um token de saída transferido para algumas (ou todas) zonas podem ser\nsegurados em caso de uma emergência de quebra de circuito das zonas(uma parada temporária\nnas transferências dos tokens) quando um ataque é detectado.")]),e._v(" "),o("h2",{attrs:{id:"comunicacao-inter-blockchain-ibc"}},[e._v("Comunicação Inter-blockchain (IBC)")]),e._v(" "),o("p",[e._v('Agora nós olhamos para como o Hub e as zonas vão se comunicar.  Por exemplo, se\naqui são três blockchains, “Zona1”, “Zona2”, and “Hub”, e nós queremos que a\n"Zona1" produza um pacote destinado para a “Zona2” indo através do “Hub”. Para mover um\npacote de uma blockchain para outra, uma prova é feita na\ncadeia recebedora. A prova atesta esse envio publicado na cadeia de destino por uma alegação\nde pacote. Para a cadeia recebedora checar essa prova, isso é possível\npor um block principal de envio.  Esse mecanismo é similar ao usado por\ncadeias paralelas, que requerem duas cadeias interagindo uma com a outra via\ntransmissões bidirecionais por dados de prova-de-existência (transações).')]),e._v(" "),o("p",[e._v("O protocolo IBC pode naturalmente ser definido usando dois tipos de transações: uma\ntransação "),o("code",{pre:!0},[e._v("IBCBlockCommitTx")]),e._v(", a qual permite uma blockchain provar para qualquer\nespectador o mais recente hash-de-bloco, e uma transação "),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(", a qual\npermite uma blockchain provar para qualquer espectador que o pacote recebido foi realmente\npublicado pelo remetente, via Merkle-proof para um hash-de-bloco\nrecente.")]),e._v(" "),o("p",[e._v("Ao misturar o mecanismo ICB em duas transações separadas, nós permitimos\nque o mecanismo de mercado de taxa nativa da blockchain recebedora determine quais pacotes\nirão se comprometer (isto é, ser reconhecido), permitindo simultaneamente que uma\nblockchain envie de quantos pacotes de saída forem permitidos.")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://raw.githubusercontent.com/gnuclear/atom-whitepaper/master/msc/ibc_without_ack.png",alt:"Figura da Zona1, Zona2, e Hub IBC semreconhecimento"}})]),e._v(" "),o("p",[e._v('No exemplo acima, para atualizar o hash de blocos da\n"Zona1" no “Hub” (ou do “Hub” para a “Zona2”), uma transação '),o("code",{pre:!0},[e._v("IBCBlockCommitTx")]),e._v('\nprecisa ser feita no “Hub” com o hash de bloco da “Zona1” (ou na\n"Zona2" com o hash de bloco do “Hub”).')]),e._v(" "),o("p",[o("em",[e._v("Veja "),o("a",{attrs:{href:"#ibcblockcommittx"}},[e._v("IBCBlockCommitTx")]),e._v(" e "),o("a",{attrs:{href:"#ibcpacketcommit"}},[e._v("IBCPacketTx")]),e._v("\npara mais informações sobre os 2 tipos de transação IBC.")])]),e._v(" "),o("h2",{attrs:{id:"casos-de-uso"}},[e._v("Casos de Uso")]),e._v(" "),o("h3",{attrs:{id:"exchange-distribuidas"}},[e._v("Exchange Distribuídas")]),e._v(" "),o("p",[e._v("Da mesma forma que Bitcoin é mais seguro por ter uma distribuíção,\ne replicação em massa, podemos tornar as exchanges menos vulneráveis a\nHacks internos executando-a no blockchain. Chamamos isso de exchange\ndistribuída.")]),e._v(" "),o("p",[e._v("O que a comunidade de criptomoedas chama hoje de intercâmbio descentralizado\nbaseado em algo chamado transações “atomic cross-chain” (AXC).  Com uma transação\nAXC, dois usuários em duas diferentes cadeias podem fazer duas transações\nde transferências que serão feitas juntas nas duas ledgers, ou nenhuma (isto é,\nAtomicamente). Por exemplo, dois usuários podem trocar bitcoins por ether (ou qualquer dois\nTokens em dois ledgers diferentes) usando transações AXC, mesmo que o Bitcoin\ne o Ethereum não estão conectados entre si. O benefício de executar um\ntroca em transações AXC é que nenhum dos usuários precisam confiar um no outro ou\nno serviço de correspondência comercial. A desvantagem é que ambas as partes precisam estar\non-line para o negócio ocorrer.")]),e._v(" "),o("p",[e._v("Outro tipo de intercâmbio descentralizado é um sistema de\nexchange que funciona em seu próprio blockchain. Os usuários deste tipo de exchange podem\nenviar uma ordem de limite e desligar o computador, e o negócio pode ser executado\nsem que o usuário esteja online. O blockchain combina e completa o negócio\nem nome do negociante.")]),e._v(" "),o("p",[e._v("Uma exchange centralizada pode criar um vasto livro de ordens de ordens e\natrair mais comerciantes. A liquidez gera mais liquidez no mundo cambial,\ne assim há um forte efeito na rede (ou pelo menos efeito de vencedor-leva-mais)\nno negócio de câmbio. A atual líder para troca de criptomoedas\nhoje é a Poloniex com um volume de 24 milhões de dólares por dia, e em segundo lugar a\nBitfinex com um volume de US$5 milhões por dia. Dados esses fortes efeitos na rede,\né improvável que as exchanges descentralizadas baseadas no AXC ganhem volume\ncentrais. Para uma exchange descentralizada competir com um\nexchange centralizada, seria necessário dar suporte aos livros de\nordens. Somente uma exchange distribuída em uma blockchain pode fornecer isso.")]),e._v(" "),o("p",[e._v("Tendermint fornece benefícios adicionais para realizar uma transação mais rápida. Com a\nfinalidade de dar prioridade a rapidez sem sacrificar a consistência, as zonas no Cosmos podem\nfinalizar transações rápidas - tanto para transações de ordem de\ntransferências de tokens quanto para outras zonas IBC.")]),e._v(" "),o("p",[e._v("Dado o estado das exchanges de criptomoedas hoje em dia, uma grande\nexchange distribuída da Cosmos (aka o Cosmos DEX). A transação e\na capacidade de processamento, bem como a latência de processos, podem ser\ncentrais. Os comerciantes podem enviar ordens de limite que podem ser executadas\nsem que ambas as partes tenham que estar online. E com Tendermint, o Cosmos Hub,\ne o IBC, os comerciantes podem mover fundos dentro e fora da exchange e para outras\nzonas com rapidez.")]),e._v(" "),o("h3",{attrs:{id:"pegging-para-outras-criptomoedas"}},[e._v("Pegging para Outras Criptomoedas")]),e._v(" "),o("p",[e._v("Uma zona privilegiada pode agir como token simbolico de uma\ncriptomoeda. A peg é semelhante à relação entre uma\nzona e o Cosmos Hub; Ambos devem manter-se atualizados com os\noutros, afim de verificar provas de que os tokens passaram de um para o outro. A\nPeg-zone na rede Cosmos mantém-se com o Hub, bem como o\noutra cryptomoeda. A indireção através da peg-zone permite a lógica de\nque o Hub permaceça simples e imutável para outras estratégias de consenso blockchain\ncomo a mineração de prova-de-trabalho do Bitcoin.")]),e._v(" "),o("p",[e._v("Por exemplo, uma zona Cosmos com um conjunto validador específico, possivelmente o mesmo que\no Hub, poderia atuar como um ether-peg, onde a aplicação TMSP sobre\na zona (“peg-zone”) tem mecanismos para trocar mensagens IBC com um\nPeg-contract na blockchain (a “origem”). Este contrato\npermite que os titulares de ether enviem ether para a zona de peg, enviando-o para\nPeg-contract na Ethereum. Uma vez que o ether é recebido pelo peg-contract, o ether\nnão pode ser retirado a menos que um pacote IBC apropriado seja recebido pelo\nPeg-contract da peg-zone. Quando uma zona recebe um pacote IBC provando\nque o ether foi recebido no peg-contract para uma determinada conta Ethereum,\na conta correspondente é criada na peg-zone com esse saldo. O ether na\npeg-zone (“pegged-ether”) pode então ser transferido para o Hub,\ne mais tarde ser destruído com uma transação que envia para um determinado\nendereço de retirada no Ethereum. Um pacote IBC provando que a transação\nna Peg-Zone podem ser lançados no peg-contract Ethereum para permitir que o\nEther seja retirado.")]),e._v(" "),o("p",[e._v("Naturalmente, o risco do contrato do pegging e um conjunto de validadores desonestos. -bizantino.\nO poder de voto bizantino poderia causar um fork, retirando o ether do\npeg-contract mantendo o pegged-ether na peg-zone. Na pior das hipóteses,\n+⅔ do poder de voto bizantino pode roubar o ether daqueles que o enviaram para o\npeg-contract, desviando-se da pegging e da peg-zone de origem.")]),e._v(" "),o("p",[e._v("É possível abordar essas questões projetando o peg para ser totalmente\nresponsável. Por exemplo, todos os pacotes IBC, a partir do hub de\norigem, poderão exigir um reconhecimento pela zona de fixação de tal forma que\nas transições de estados da peg-zone podem ser desafiadas de forma eficiente e verificadas pelo\nhub ou pelo peg-contract de origem. O Hub e a origem devem\npermitir que os validadores da zona de fixação apresentem garantias e as transferências\ncontratuais devem ser atrasadas (e um prazo de vinculação de colateral suficientemente\nlongo) para permitir que quaisquer desafios sejam feitos por auditores independentes. Nós saímos\nda concepção, da especificação e implementação deste sistema aberto como uma\nfutura proposta de melhoria da Cosmos, a ser aprovada pela governança do sistema do Cosmos\nHub.")]),e._v(" "),o("p",[e._v("Embora a atmosfera sociopolítica ainda não esteja bastante desenvolvida, podemos\naumentar o mecanismo para permitir que as zonas se liguem as moedas FIAT de um\nestado-nação, formando um validador responsável estabelecido a partir de uma combinação da\nmoeda da nação, mais particularmente, pelos seus bancos. Claro,\nprecauções adicionais devem ser tomadas para aceitar apenas moedas apoiadas por\nsistemas que possam reforçar a capacidade de auditoria das atividades dos bancos\ne de notário grupos de grandes instituições de confiança.")]),e._v(" "),o("p",[e._v("Um resultado dessa integração poderia ser, por exemplo, permitir que\numa conta em um banco na zona possa mover dólares de sua conta bancária\npara outras contas na zona, ou para o hub, ou inteiramente para outra zona.\nNesse sentido, o Cosmos Hub pode atuar como um canal sem\nmoedas e criptomoedas, removendo as barreiras que limitariam\nsua interoperabilidade com o mundo dos intercâmbios.")]),e._v(" "),o("h3",{attrs:{id:"ethereum-scaling"}},[e._v("Ethereum Scaling")]),e._v(" "),o("p",[e._v("Resolver o problema de escalonamento é um problema aberto para a Ethereum. Atualmente,\nos nós Ethereum processam cada transação única e também armazenam todos os estados.\n"),o("a",{attrs:{href:"https://docs.google.com/presentation/d/1CjD0W4l4-CwHKUvfF5Vlps76fKLEC6pIwu1a_kC_YRQ/mobilepresent?slide=id.gd284b9333_0_28"}},[e._v("link")]),e._v(".")]),e._v(" "),o("p",[e._v("Desde que a Tendermint pode realizar os blocos muito mais rápido do que a prova-de-trabalho da Ethereum,\nas zonas EVM alimentadas e operando pelo consenso da Tendermint\nfornecem maior desempenho para blocos da blockchain Ethereum. Além disso, embora o\nCosmos Hub e o mecanismo de pacotes IBC não permitam a execução da lógica de contratos\narbitrários, podem ser usados para coordenar os movimentos Ethereum e a execução de\ncontratos simbólicos em diferentes zonas, fornecendo uma base para\no token ethereum através de sharding.")]),e._v(" "),o("h3",{attrs:{id:"integracao-de-multi-aplicacao"}},[e._v("Integração de Multi-Aplicação")]),e._v(" "),o("p",[e._v("As zonas Cosmos executam lógica de aplicação arbitrária, que é definida no início da\nvida da zona e podem potencialmente ser atualizados ao longo do tempo pela governança. Essa flexibilidade\npermite que as zonas Cosmos ajam como pegs para outras criptomoedas como Ethereum ou\nBitcoin, e também permite derivados desses blockchains, que utilizam a\nmesma base de código, mas com um conjunto de validador diferente e distribuição inicial. Isto\npermite que muitos tipos de criptomoedas existentes, como as Ethereum,\nZerocash, Bitcoin, CryptoNote e assim por diante, possam ser usados com o Tendermint Core,\nque é um motor de consenso de maior desempenho, em uma rede comum, abrindo\noportunidade de interoperabilidade entre as plataformas. Além disso, como\nmulti-asset blockchain, uma única transação pode conter vários\nonde cada entrada pode ser qualquer tipo de token, permitindo a Cosmos\nser uma plataforma para a exchange descentralizada, mesmo que as ordens sejam\npara outras plataformas. Alternativamente, uma zona pode servir como um\nfault-tolerant (com livros de ordens), o que pode ser uma melhoria\nnas exchanges centralizadas de criptomoeda que tendem a ser invadidas com\no tempo.")]),e._v(" "),o("p",[e._v("As zonas também podem servir como versões bloqueadas de empresas e\nsistemas, onde partes de um serviço particular da organização ou grupo de organizações\nque são tradicionalmente executadas como um aplicativo TMSP\nem uma certa zona, o que lhe permite receber a segurança e a interoperabilidade da\nrede pública Cosmos sem sacrificar o controle sobre o serviço subjacente.\nAssim, a Cosmos pode oferecer o melhor da tecnologia blockchain para ambos os mundos e\npara as organizações, que se recusam a deixar completamente o controle\npara um distribuidor terceirizado.")]),e._v(" "),o("h3",{attrs:{id:"reducao-de-particao-de-rede"}},[e._v("Redução de partição de rede")]),e._v(" "),o("p",[e._v("Alguns afirmam que um grande problema da coerência-favorecendo algoritmos de consenso\ncomo o Tendermint é que qualquer partição de rede que faz com que não haja uma única\npartição com +⅔ de poder de votação (por exemplo, ⅓+ ficando offline) irá parar o consenso\ncompletamente. A arquitetura Cosmos pode ajudar a mitigar esse problema usando umas\nzonas regionais autônomas, onde o poder de voto para cada zona é\ndistribuído com base em uma região geográfica comum. Por exemplo, um\nparâmetro pode ser para cidades individuais, ou regiões, para operar suas próprias zonas\nde partilha com um centro em comum (por exemplo, o Cosmos Hub), permitindo que a\no hub possa parar devido a uma paralisação de rede temporária.\nObserve que isso permite uma geologia real, política e rede-topológica,\nque são recursos a serem considerados no projeto de sistemas robustos federados de fault-tolerant.")]),e._v(" "),o("h3",{attrs:{id:"sistema-de-resolucao-de-nomes-federados"}},[e._v("Sistema de Resolução de Nomes Federados")]),e._v(" "),o("p",[e._v("NameCoin foi uma das primeiras blockchains a tentar resolver o\nproblema de resolução de nomes através de uma adaptação da blockchain do Bitcoin. Infelizmente\ntêm ocorrido várias questões com esta abordagem.")]),e._v(" "),o("p",[e._v("Com a Namecoin, podemos verificar que, por exemplo, o nome "),o("em",[e._v("@satoshi")]),e._v(" foi registrado como\nparticular, em algum momento do passado, mas não saberíamos se\na chave pública tinha sido atualizada recentemente, a menos que baixassemos todos os blocos\ndesde a última atualização desse nome. Isto é devido as limitações do modelo de\nMerkle-ization de UTXO do Bitcoin, onde somente as transações (não\nmutáveis) são Merkle-ized no hash do bloco. Isso nos permite\nprovar a existência, mas não a não-existência de atualizações posteriores a um nome. Assim, nós\nnão podemos saber com certeza o valor mais recente de um nome sem confiar em um\nnó, ou recorrer a gastos significativos na largura de banda, baixando o\nBlockchain.")]),e._v(" "),o("p",[e._v("Mesmo se uma árvore de pesquisa Merkle-ized for implementada na NameCoin, sua dependência\nsobre a prova-de-trabalho torna a verificação do cliente light problemática. Os clientes light devem\nbaixar uma cópia completa dos cabeçalhos para todos os blocos em toda a blockchain\n(ou pelo menos todos os cabeçalhos desde a última atualização de um nome). Isso significa que\nos requisitos de largura de banda crescem linearmente com a o passar do tempo "),o("a",{attrs:{href:"https://en.bitcoin.it/wiki/Thin_Client_Security"}},[e._v("[21]")]),e._v(".\nAlém disso, as mudanças de nome em um bloco de prova-de-trabalho requerem\na confirmação do trabalho, o que pode levar até uma hora\nno Bitcoin.")]),e._v(" "),o("p",[e._v("Com Tendermint, tudo o que precisamos é o hash de bloco mais recente assinado por um quorum de\nvalidadores (por poder de voto), e uma prova Merkle para o valor atual associado\ncom o nome. Isto torna possível ter uma solução sucinta, rápida e segura\npara a verificação de valores de nome no cliente light.")]),e._v(" "),o("p",[e._v("Na Cosmos, podemos aplicar este conceito e estendê-lo ainda mais. Cada\nzona de registro de nomes na Cosmos pode ter um domínio de nível superior (TLD)\nassociado, como o “.com” ou “.org”, e cada zona de registro de nome pode ter\nsuas próprias regras de governança e registro.")]),e._v(" "),o("h2",{attrs:{id:"emissao-e-incentivos"}},[e._v("Emissão e Incentivos")]),e._v(" "),o("h3",{attrs:{id:"o-token-atom"}},[e._v("O Token Atom")]),e._v(" "),o("p",[e._v("Enquanto o Cosmos Hub é um ledger de distribuíção  multi-asset, há um token nativo\nespecial chamado "),o("em",[e._v("atom")]),e._v(". Os atoms são o únicos símbolos do Cosmos\nHub. Os atoms são uma licença para o titular votar, validar ou delegar\nvalidadores. Como o ether da Ethereum, os atoms também podem ser usados para\nreduzir o spam. Atoms inflacionários adicionais e as taxas do bloco de transação\nsão recompensadas pelos validadores e delegados que\no validarão.")]),e._v(" "),o("p",[e._v("A transação "),o("code",{pre:!0},[e._v("BurnAtomTx")]),e._v(" pode ser usada para cobrir proporcionalmente a quantidade\nde tokens reservados para a pool.")]),e._v(" "),o("h4",{attrs:{id:"levantamento-de-fundos"}},[e._v("Levantamento de Fundos")]),e._v(" "),o("p",[e._v("A distribuição inicial dos tokens atom e validadores na Genesis vão para os\ndoadores do Levantamento de Fundos da Cosmos (75%), doadores pesados (5%), Fundação da Rede\nCosmos (10%), e a ALL IN BITS, Inc (10%).  A partir da Genesis em diante, 1/3 da\nquantidade total de atoms será recompensada aos validadores e delegados durante\ntodo o ano.")]),e._v(" "),o("p",[e._v("Veja o "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/PLAN.md"}},[e._v("Plano Cosmos")]),e._v("\npara detalhes adicionais.")]),e._v(" "),o("h4",{attrs:{id:"investindo"}},[e._v("Investindo")]),e._v(" "),o("p",[e._v("Para evitar que o levantamento de fundos atraia especuladores de curto prazo apenas interessados\nem esquemas de pump and dump, os atoms da Genesis não serão transferíveis até\neles tenham investido. Cada conta irá adquirir atoms durante um período de 2 anos com\ntaxa constante a cada hora, determinada pelo número total de atoms da Genesis/(2*\n365 * 24) horas. Os atoms ganhos pela recompensa do bloco são pré-investidos,\ne podem ser transferidos imediatamente, de modo que os validadores e os delegados ligados possam ganhar\nmais da metade de seus atoms da Genesis após o primeiro ano.")]),e._v(" "),o("h3",{attrs:{id:"limitacoes-do-numero-de-validadores"}},[e._v("Limitações do Número de Validadores")]),e._v(" "),o("p",[e._v("Diferentemente do Bitcoin ou de outros blockchains de prova-de-trabalho, o blockchain Tendermint será\nmais lento com mais validadores devido ao aumento da complexidade da comunicação.\nFelizmente, podemos oferecer suporte a validadores suficientes para a\ndistribuição na Blockchain com tempos de confirmação de transação muito mais rápidos e, através de\nlargura de banda, armazenamento e aumento da capacidade de computação paralela, seremos capazes de\nter mais validadores no futuro.")]),e._v(" "),o("p",[e._v("No dia da Genesis, o número máximo de validadores será definido como 100,\no número aumentará a uma taxa de 13% durante 10 anos até atingir a marca de 300\nValidadores.")]),e._v(" "),o("pre",{pre:!0},[o("code",{attrs:{"v-pre":""}},[e._v("Ano 0: 100\nAno 1: 113\nAno 2: 127\nAno 3: 144\nAno 4: 163\nAno 5: 184\nAno 6: 208\nAno 7: 235\nAno 8: 265\nAno 9: 300\nAno 10: 300\n...\n")])]),e._v(" "),o("h3",{attrs:{id:"tornando-se-um-validador-depois-do-dia-da-genesis"}},[e._v("Tornando-se um Validador depois do dia da Genesis")]),e._v(" "),o("p",[e._v("Os titulares de atoms que ainda não são capazes de se tornarem validadores assinados e\nsubmeter uma transação "),o("code",{pre:!0},[e._v("BondTx")]),e._v(". A quantidade de atoms fornecida como garantia\ndeve ser diferente de zero. Qualquer pessoa pode se tornar um validador a qualquer momento, exceto quando o\ntamanho do conjunto de validadores atual é maior que o número máximo de\nvalidadores permitidos. Nesse caso, a transação só é válida se o montante\nde atoms é maior do que a quantidade de atoms efetivos mantidos pelo menor\nvalidador, onde atoms eficazes incluem atoms delegados. Quando um novo validador\nsubstitui um validador existente de tal forma, o validador existente torna-se\ninativo e todos os atoms e atoms delegados entram no estado de unbonding.")]),e._v(" "),o("h3",{attrs:{id:"penalidades-para-validadores"}},[e._v("Penalidades para Validadores")]),e._v(" "),o("p",[e._v("Deve haver alguma penalidade imposta aos validadores por qualquer desvio intencional\nou não intencional do protocolo sancionado. Algumas evidências são imediatamente admissíveis,\ncomo um double-sign na mesma altura e volta, ou uma violação de “prevote-the-lock”\n(uma regra do protocolo de consenso Tendermint). Tais evidências resultarão em que o\nvalidador perca sua boa reputação e seus átomos ligados, bem como sua proporção de tokens\nna pool reserva - coletivamente chamados de “stake” - serão cortados.")]),e._v(" "),o("p",[e._v("Às vezes, os validadores não estarão disponíveis, devido a interrupções na rede regional,\nfalha de energia ou outros motivos. Se, em qualquer ponto nos blocos "),o("code",{pre:!0},[e._v("ValidatorTimeoutWindow")]),e._v("\nanteriores, o voto de validação de um validador não estiver incluído na cadeia de\nblocos mais do que "),o("code",{pre:!0},[e._v("ValidatorTimeoutMaxAbsent")]),e._v(" vezes, esse validador ficará inativo e\nperderá "),o("code",{pre:!0},[e._v("ValidatorTimeoutPenalty")]),e._v(" (PADRÃO DE 1%) de sua participação.")]),e._v(" "),o("p",[e._v("Alguns comportamentos “maliciosos” não produzem provas obviamente discerníveis sobre\na blockchain. Nesses casos, os validadores podem coordenar fora da banda para forçar\no tempo limite desses validadores maliciosos, se houver um consenso majoritário.")]),e._v(" "),o("p",[e._v("Em situações em que o Cosmos Hub parar devido a uma coalizão de ⅓+ de poder de voto\noffline, ou em situações onde uma coalizão de ⅓+ de poder de voto censurar evidências de\ncomportamento malicioso entrando na blockchain, o hub deve recuperar com um hard-fork\nde proposta reorganizacional. (Link to “Forks and Censorship Attacks”).")]),e._v(" "),o("h3",{attrs:{id:"taxas-de-transacao"}},[e._v("Taxas de Transação")]),e._v(" "),o("p",[e._v("Os validadores do Cosmos Hub podem aceitar qualquer tipo de token ou combinação\nde tipos como taxas para processar uma transação. Cada validador pode fixar subjetivamente a\ntaxa de câmbio que quiser e escolher as transações que desejar, desde que o "),o("code",{pre:!0},[e._v("BlockGasLimit")]),e._v("\nnão seja excedido. As taxas cobradas, menos quaisquer impostos especificados abaixo,\nsão redistribuídas aos stakeholders ligados em proporção aos seus átomos ligados, cada "),o("code",{pre:!0},[e._v("ValidatorPayoutPeriod")]),e._v(" (PADRÃO DE 1 hora).")]),e._v(" "),o("p",[e._v("Das taxas de transação cobradas, "),o("code",{pre:!0},[e._v("ReserveTax")]),e._v(" (PADRÃO DE 2%) irá para a pool reserva\npara aumentar a pool reserva e aumentar a segurança e o valor da rede Cosmos. Além disso, um\n"),o("code",{pre:!0},[e._v("CommonsTax")]),e._v(" (PADRÃO DE 3%) irá para o financiamento de bens comuns. Estes fundos vão para o\n"),o("code",{pre:!0},[e._v("CustodianAddress")]),e._v(" para ser distribuído de acordo com as decisões tomadas pelo sistema de governança.")]),e._v(" "),o("p",[e._v("Os titulares de átomos que delegam o seu poder de voto a outros validadores pagam uma comissão\nao validador delegado. A comissão pode ser definida por cada validador.")]),e._v(" "),o("h3",{attrs:{id:"incentivando-hackers"}},[e._v("Incentivando Hackers")]),e._v(" "),o("p",[e._v("A segurança do Cosmos Hub é uma função da segurança dos validadores subjacentes e da escolha\nda delegação pelos delegados. A fim de incentivar a descoberta e notificação precoce de vulnerabilidades\nencontradas, o Cosmos Hub incentiva os hackers a publicar exploits bem sucedidos através de uma transação\n"),o("code",{pre:!0},[e._v("ReportHackTx")]),e._v(' que diz," Este validador foi hackeado. Por favor, envie recompensa para este endereço".\nDepois de tal exploração, o validador e os delegados ficarão inativos, '),o("code",{pre:!0},[e._v("HackPunishmentRatio")]),e._v(" (PADRÃO DE 5%)\ndos átomos de todos serão cortados, e"),o("code",{pre:!0},[e._v("HackRewardRatio")]),e._v(" (PADRÃO DE 5%) dos átomos de todos\nserão recompensado com o endereço de recompensa do hacker. O validador deve recuperar os átomos\nrestantes usando sua chave de backup.")]),e._v(" "),o("p",[e._v("Para evitar que esse recurso seja abusado para transferir átomos não invadidos,\na porção de átomos adquirido vs relativo de validadores e delegados antes e depois do "),o("code",{pre:!0},[e._v("ReportHackTx")]),e._v("\npermanecerá o mesmo, e o bounty do hacker irá incluir alguns átomos relativos, se houver.")]),e._v(" "),o("h3",{attrs:{id:"especificacao-de-governanca"}},[e._v("Específicação de Governança")]),e._v(" "),o("p",[e._v("O Cosmos Hub é operado por uma organização distribuída que requer um mecanismo de\ngovernança bem definido para coordenar várias mudanças na blockchain, como parâmetros\nvariáveis do sistema, bem como atualizações de software e emendas constitucionais.")]),e._v(" "),o("p",[e._v("Todos os validadores são responsáveis por votar em todas as propostas.\nNão votar em uma proposta em tempo hábil resultará na desativação automática do\nvalidador por um período de tempo denominado "),o("code",{pre:!0},[e._v("AbsenteeismPenaltyPeriod")]),e._v(" (PADRÃO DE 1 semana).")]),e._v(" "),o("p",[e._v("Os delegados herdam automaticamente o voto do validador delegado.\nEste voto pode ser anulado manualmente. Os átomos não ligados obtêm nenhum voto.")]),e._v(" "),o("p",[e._v("Cada proposta requer um depósito de tokens de "),o("code",{pre:!0},[e._v("MinimumProposalDeposit")]),e._v(",\nque pode ser uma combinação de um ou mais tokens incluindo átomos.\nPara cada proposta, os eleitores podem votar para receber o depósito.\nSe mais da metade dos eleitores optarem por receber o depósito (por exemplo, porque a proposta era spam),\no depósito vai para a pool reserva, exceto os átomos que são queimados.")]),e._v(" "),o("p",[e._v("Para cada proposta, os eleitores podem votar nas seguintes opições:")]),e._v(" "),o("ul",[o("li",[e._v("Sim")]),e._v(" "),o("li",[e._v("Com Certeza")]),e._v(" "),o("li",[e._v("Não")]),e._v(" "),o("li",[e._v("Nunca")]),e._v(" "),o("li",[e._v("Abstenção")])]),e._v(" "),o("p",[e._v("É necessário uma maioria estrita de votos Yea(Sim) ou YeaWithForce(Com certeza)\n(ou votos Nay(Não) ou NayWithForce(Nunca)) para que a proposta seja decidida como aceita\n(ou decidida como falha), mas 1/3+ pode vetar a decisão da maioria votando “Com certeza”.\nQuando uma maioria estrita é vetada, todos são punidos com a perda de "),o("code",{pre:!0},[e._v("VetoPenaltyFeeBlocks")]),e._v("\n(PADRÃO DE no valor de um dia de blocos) de taxas (exceto os impostos que não serão afetados),\ne a parte que vetou a decisão da maioria será adicionalmente punida com a perda de "),o("code",{pre:!0},[e._v("VetoPenaltyAtoms")]),e._v("\n(PADRÃO DE 0.1%) de seus átomos.")]),e._v(" "),o("h3",{attrs:{id:"parametro-de-mudanca-de-proposta"}},[e._v("Parâmetro de Mudança de Proposta")]),e._v(" "),o("p",[e._v("Qualquer um dos parâmetros aqui definidos pode ser alterado com a aceitação\nde um "),o("code",{pre:!0},[e._v("ParameterChangeProposal")]),e._v(".")]),e._v(" "),o("h3",{attrs:{id:"texto-da-proposta"}},[e._v("Texto da Proposta")]),e._v(" "),o("p",[e._v("Todas as outras propostas, como uma proposta de atualização do protocolo, serão coordenadas através do genérico "),o("code",{pre:!0},[e._v("TextProposal")]),e._v(".")]),e._v(" "),o("h2",{attrs:{id:"roteiro"}},[e._v("Roteiro")]),e._v(" "),o("p",[e._v("Veja "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/PLAN.md"}},[e._v("o Plano Cosmos")]),e._v(".")]),e._v(" "),o("h2",{attrs:{id:"trabalho-relacionado"}},[e._v("Trabalho Relacionado")]),e._v(" "),o("p",[e._v("Houve muitas inovações no consenso da blockchain e na escalabilidade nos últimos dois anos.\nEsta seção fornece um breve levantamento de um seleto número das mais importantes.")]),e._v(" "),o("h3",{attrs:{id:"sistemas-de-consenso"}},[e._v("Sistemas de Consenso")]),e._v(" "),o("h4",{attrs:{id:"classic-byzantine-fault-tolerance"}},[e._v("Classic Byzantine Fault Tolerance")]),e._v(" "),o("p",[e._v("Consenso na presença de participantes maliciosos é um problema que remonta ao início dos anos 1980,\nquando Leslie Lamport cunhou a frase “falha bizantina” para se referir ao comportamento do processo\narbitrário que se desvia do comportamento pretendido, que contraste com uma “falha acidental”,\nem que um processo simplesmente falha. Soluções iniciais foram descobertas para redes síncronas onde\nhá um limite superior na latência da mensagem, embora o uso prático fosse limitado a ambientes altamente controlados,\ncomo controladores de avião e datacenters sincronizados via relógios atômicos.\nNão foi até o final dos anos 90 que a Practical Byzantine Fault Tolerance (PBFT) foi introduzida como\num eficiente algoritmo de consenso parcialmente síncrono capaz de tolerar até ⅓ de processos\ncomportando-se arbitrariamente. PBFT tornou-se o algoritmo padrão, gerando muitas variações,\nincluindo mais recentemente uma criada pela IBM como parte de sua contribuição para a Hyperledger.")]),e._v(" "),o("p",[e._v("O principal benefício do consenso Tendermint sobre PBFT é que o Tendermint tem uma estrutura\nsubjacente melhorada e simplificada, um dos quais é um resultado de adotar o paradigma blockchain.\nBlocos Tendermint devem confirmar em ordem, o que evita a complexidade e sobrecarga de comunicação\nassociada a alteração de visão do PBFT’s. No Cosmos e muitas outras criptomoedas,\nnão há necessidade de permitir o bloco "),o("em",[e._v("N+i")]),e._v(" onde "),o("em",[e._v("i >= 1")]),e._v(" se confirmar,\nquando o próprio bloco "),o("em",[e._v("N")]),e._v(" ainda não se confirmou. Se a largura de banda é a razão\npela qual o bloco "),o("em",[e._v("N")]),e._v(" não se confirmou em uma zona do Cosmos, então isso não ajuda\na usar os votos de compartilhamento de largura de banda para blocos "),o("em",[e._v("N+i")]),e._v(".\nSe uma partição de rede ou nós offline for a razão pela qual o bloco "),o("em",[e._v("N")]),e._v(" não foi confirmado,\n"),o("em",[e._v("N+i")]),e._v(" não se comprometerá de qualquer maneira.")]),e._v(" "),o("p",[e._v("Além disso, o lote de transações em blocos permite que o Merkle-hashing regule o estado da aplicação,\nao invés de resumos periódicos com esquemas de pontos de verificação como PBFT faz.\nIsso permite confirmações de transações mais rápidas para clientes leves e uma comunicação mais rápida entre a blockchain.")]),e._v(" "),o("p",[e._v("Tendermint Core também inclui muitas otimizações e recursos que vão acima e além do que é especificado no PBFT.\nPor exemplo, os blocos propostos pelos validadores são divididos em partes,\nMerkleized e inútilizados de tal forma que melhora o desempenho da transmissão\n(ver LibSwift "),o("a",{attrs:{href:"http://www.ds.ewi.tudelft.nl/fileadmin/pds/papers/PerformanceAnalysisOfLibswift.pdf"}},[e._v("[19]")]),e._v(" para inspiração). Além disso, Tendermint Core não faz qualquer suposição sobre\na conectividade ponto-a-ponto, e funciona durante o tempo que a rede P2P está fracamente conectada.")]),e._v(" "),o("h4",{attrs:{id:"participacao-delegada-do-bitshares"}},[e._v("Participação delegada do BitShares")]),e._v(" "),o("p",[e._v("Apesar de não serem os primeiros a implementar a prova-de-participação (Proof-of-Stake - PoS),\no BitShares "),o("a",{attrs:{href:"https://bitshares.org/technology/delegated-proof-of-stake-consensus/"}},[e._v("[12]")]),e._v(' contribuiu consideravelmente para a pesquisa e adoção das blockchains que usam o PoS,\nparticularmente aqueles conhecidos como PoS “delegados”. No BitShares, as partes interessadas elegem “testemunhas”,\nresponsáveis por ordenar e confirmar transações e “delegados”, responsáveis pela coordenação\nde atualizações de software e alterações de parâmetros. Embora o BitShares atinja alto desempenho\n(100k tx/s, 1s de latência) em condições ideais, ele está sujeito a ataques de duplo gasto por testemunhas\nmaliciosas que “forkem” a blockchain sem sofrer uma punição econômica explícita - ele sofre do problema\n"nada a perder". O BitShares tenta suavizar o problema permitindo que as transações se refiram a\nblocos-hashes recentes. Além disso, as partes interessadas podem remover ou substituir\ntestemunhas de má conduta diariamente, embora isso não faça nada para punir\nexplicitamente os ataques bem sucedidos de duplo gasto.')]),e._v(" "),o("h4",{attrs:{id:"stellar"}},[e._v("Stellar")]),e._v(" "),o("p",[e._v("Baseando-se em uma abordagem pioneira da Ripple, a Stellar "),o("a",{attrs:{href:"https://www.stellar.org/papers/stellar-consensus-protocol.pdf"}},[e._v("[13]")]),e._v('  refinou um modelo do\nFederated Byzantine Agreement em que os processos que participam do consenso não constituem\num conjunto fixo e globalmente conhecido. Em vez disso, cada nó de processo codifica uma ou mais\n"fatias de quórum", cada uma constituindo um conjunto de processos confiáveis. Um “quórum” na\nStellar é definido como um conjunto de nós que contêm pelo menos uma fatia de quórum para cada\nnó no conjunto, de modo que o acordo possa ser alcançado.')]),e._v(" "),o("p",[e._v("A segurança do mecanismo Stellar baseia-se no pressuposto de que a intersecção de "),o("em",[e._v("qualquer")]),e._v(" dois\nquóruns é não-vazia, enquanto a disponibilidade de um nó requer pelo menos uma das suas fatias de\nquórum para consistir inteiramente de nós corretos, criando um troca externa entre o uso de grandes\nou pequenas fatias-quórum que podem ser difíceis de equilíbrar sem impor pressupostos significativos\nsobre a confiança. Em última análise, os nós precisam, de alguma forma, escolher fatias de quórum adequadas\npara que haja tolerância suficiente a falhas (ou qualquer “nó intacto” em geral, do qual muitos dos\nresultados do trabalho dependem) e a única estratégia fornecida para garantir tal configuração é\nhierárquica e similar ao Border Gateway Protocol (BGP), usado por ISPs de primeira linha na\ninternet para estabelecer tabelas de roteamento globais e usado pelos navegadores para gerenciar\ncertificados TLS; Ambos notórios por sua insegurança.")]),e._v(" "),o("p",[e._v("A crítica sobre papel da Stellar nos sistemas PoS baseados em Tendermint é atenuada pela estratégia\nde token descrita aqui, em que um novo tipo de token chamado "),o("em",[e._v("atom")]),e._v(" é emitido para representar\nreivindicações para futuras porções de taxas e recompensas. A vantagem do PoS baseado em Tendermint,\nportanto, é a sua relativa simplicidade, ao mesmo tempo que oferece garantias de segurança suficientes e prováveis.")]),e._v(" "),o("h4",{attrs:{id:"bitcoinng"}},[e._v("BitcoinNG")]),e._v(" "),o("p",[e._v("O BitcoinNG é uma proposta de melhoria do Bitcoin que permitiria formas de escalabilidade vertical,\ncomo o aumento do tamanho do bloco, sem as conseqüências econômicas negativas normalmente associadas a tal mudança,\ncomo o impacto desproporcionalmente grande sobre os pequenos mineradores. Esta melhoria é conseguida separando\na eleição do líder da transmissão da transação: os líderes são eleitos pela primeira vez\npor prova de trabalho(PoW) em “microblocos”, e então são capazes de transmitir transações a\nserem confirmadas até que um novo microbloco seja encontrado. Isso reduz os requisitos\nde largura de banda necessários para vencer a corrida PoW, permitindo que os pequenos\nmineiros possam competir mais justamente, e permitindo que as transações sejam confirmadas\ncom mais regularidade pelo último minerador para encontrar um micro-bloco.")]),e._v(" "),o("h4",{attrs:{id:"casper"}},[e._v("Casper")]),e._v(" "),o("p",[e._v("Casper "),o("a",{attrs:{href:"https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost/"}},[e._v("[16]")]),e._v(" é uma proposta de algoritmo de consenso PoS para o Ethereum.\nSeu modo principal de operação é “consenso-por-aposta”. Ao permitir que os validadores apostem\niterativamente em qual bloco eles acreditam que será confirmado na blockchain com base nas\noutras apostas que eles têm visto até agora, a finalidade pode ser alcançada eventualmente.\n"),o("a",{attrs:{href:"https://blog.ethereum.org/2015/12/28/understanding-serenity-part-2-casper/"}},[e._v("link")]),e._v(". Esta é uma área ativa\nde pesquisa da equipe de Casper. O desafio está na construção de um mecanismo de apostas que pode ser\ncomprovado como uma estratégia evolutivamente estável. O principal benefício da Casper em relação à\nTendermint pode ser a oferta de “disponibilidade sobre a consistência” - consenso não requer\num quórum +⅔ de poder de voto - talvez ao custo de velocidade de confirmação ou complexidade de implementação.")]),e._v(" "),o("h3",{attrs:{id:"escala-horizontal"}},[e._v("Escala Horizontal")]),e._v(" "),o("h4",{attrs:{id:"protocolo-interledger"}},[e._v("Protocolo Interledger")]),e._v(" "),o("p",[e._v("O Protocolo Interledger "),o("a",{attrs:{href:"https://interledger.org/rfcs/0001-interledger-architecture/"}},[e._v("[14]")]),e._v(" não é estritamente uma solução de escalabilidade.\nEle fornece uma interoperabilidade ad hoc entre diferentes sistemas de ledger através de uma rede\nde relações bilaterais livremente acopladas. Tal como a Lightning Network, a finalidade do\nILP é facilitar pagamentos, mas focaliza especificamente pagamentos em diferentes tipos de ledger,\nestendendo o mecanismo de transações atômicas para incluir não apenas hash-locks, mas também um\nquórum de notários (chamado de Atomic Transport Protocol). O último mecanismo para reforçar a\natomicidade em transacções entre-ledger é semelhante ao mecanismo SPV do cliente leve do Tendermint,\nentão uma ilustração da distinção entre ILP e Cosmos/IBC é garantida, e fornecida abaixo.")]),e._v(" "),o("ol",[o("li",[o("p",[e._v("Os notários de um conector em ILP não suportam mudanças de consentimento, e não permitem uma\npesagem flexível entre notários. Por outro lado, o IBC é projetado especificamente para blockchains,\nonde os validadores podem ter diferentes pesos, e onde o consentimento pode mudar ao longo da cadeia de blocos.")])]),e._v(" "),o("li",[o("p",[e._v("Como na Lightning Network, o receptor do pagamento em ILP deve estar on-line para enviar\numa confirmação de volta ao remetente. Em uma transferência de token sobre IBC, o conjunto\nde validadores da blockchain do receptor é responsável por fornecer a confirmação, não o usuário receptor.")])]),e._v(" "),o("li",[o("p",[e._v("A diferença mais notável é que os conectores do ILP não são responsáveis ou mantêm o estado\nautoritário sobre os pagamentos, enquanto que no Cosmos, os validadores de um hub são a autoridade\ndo estado das transferências de tokens do IBC, bem como a autoridade da quantidade de tokens\nmantidos por cada zona (mas não a quantidade de tokens mantidos por cada conta dentro de uma zona).\nEsta é a inovação fundamental que permite a tranferência assimétrica segura de tokens de zona para\nzona; O conector analógico do ILP no Cosmos é uma persistente e maximamente segura ledger de blockchain, o Cosmos Hub.")])]),e._v(" "),o("li",[o("p",[e._v("Os pagamentos entre contas no ILP precisam ser suportados por uma ordem de compra/venda, uma\nvez que não há transferência assimétrica de moedas de um ledger para outro, apenas a transferência\nde valor ou equivalentes de mercado.")])])]),e._v(" "),o("h4",{attrs:{id:"sidechains"}},[e._v("Sidechains")]),e._v(" "),o("p",[e._v("Sidechains "),o("a",{attrs:{href:"https://blockstream.com/sidechains.pdf"}},[e._v("[15]")]),e._v(" são um mecanismo proposto para dimensionar a rede Bitcoin através de\nblockchains alternativas que são “atreladas” para a blockchain do Bitcoin. As Sidechains\npermitem que bitcoins se movam efetivamente da blockchain do Bitcoin para a sidechain e retornarem,\ne permitem a experimentação em novos recursos na sidechain. Como no Cosmos Hub, a sidechain e\nBitcoin servem como clientes leves uns dos outros, usando provas SPV para determinar quando as moedas\ndevem ser transferidas para a cadeia lateral e retornarem. Claro, como o Bitcoin usa PoW, sidechains\ncentradas em torno do Bitcoin sofrem dos muitos problemas e riscos do PoW como um mecanismo de consenso.\nAlém disso, esta é uma solução Bitcoin-maximalista que não suporta nativamente uma variedade de tokens e\ntopologia de rede entre-zona como o Cosmos faz. Dito isto, o mecanismo de núcleo bidirecional atrelado é,\nem princípio, o mesmo que o empregado pela rede Cosmos.")]),e._v(" "),o("h4",{attrs:{id:"esforcos-de-escalabilidade-do-ethereum"}},[e._v("Esforços de Escalabilidade do Ethereum")]),e._v(" "),o("p",[e._v("Ethereum está atualmente pesquisando uma série de estratégias diferentes para fragmentar o\nestado da blockchain do Ethereum para atender às necessidades de escalabilidade.\nEsses esforços têm como objetivo manter a camada de abstração oferecida pela atual\nEthereum Virtual Machine através do espaço de estado compartilhado. Vários esforços de\npesquisa estão em andamento neste momento. "),o("a",{attrs:{href:"https://github.com/ethereum/EIPs/issues/53"}},[e._v("[18]")]),o("a",{attrs:{href:"http://vitalik.ca/files/mauve_paper.html"}},[e._v("[22]")])]),e._v(" "),o("h5",{attrs:{id:"cosmos-vs-ethereum-20-mauve"}},[e._v("Cosmos vs Ethereum 2.0 Mauve")]),e._v(" "),o("p",[e._v("Cosmos e Ethereum 2.0 Mauve "),o("a",{attrs:{href:"http://vitalik.ca/files/mauve_paper.html"}},[e._v("[22]")]),e._v(" tem diferentes objetivos de projeto.")]),e._v(" "),o("ul",[o("li",[e._v("Cosmos é especificamente sobre tokens. Malva é sobre escalonamento de computação geral.")]),e._v(" "),o("li",[e._v("O Cosmos não está ligado ao EVM, por isso mesmo VMs diferentes podem interoperar.")]),e._v(" "),o("li",[e._v("Cosmos permite que o criador da zona determine quem valida a zona.")]),e._v(" "),o("li",[e._v("Qualquer pessoa pode iniciar uma nova zona no Cosmos (a menos que a governança decida o contrário).")]),e._v(" "),o("li",[e._v("O hub isola falhas de zonas de modo que tokens invariantes sejam preservados.")])]),e._v(" "),o("h3",{attrs:{id:"escala-geral"}},[e._v("Escala Geral")]),e._v(" "),o("h4",{attrs:{id:"lightning-network"}},[e._v("Lightning Network")]),e._v(" "),o("p",[e._v("A Lightning Network é uma proposta de rede de transferência de token operando em uma camada acima\nda blockchain do Bitcoin (e outras blockchains públicas), permitindo a melhoria de muitas ordens\nde magnitude no processamento de transações movendo a maioria das transações fora da ledger de consenso\npara o chamado “Canais de pagamento”. Isso é possível graças a scripts de criptomoedas em cadeia,\nque permitem que as partes entrem em contratos estatais bilaterais onde o estado pode ser atualizado\ncompartilhando assinaturas digitais, e os contratos podem ser fechados definitivamente publicando\nevidências na blockchain, um mecanismo primeiramente popularizado por trocas atômicas de\ncross-chains(cadeias cruzadas). Ao abrir canais de pagamento com muitas partes, os participantes\nda Lightning Network podem se tornar pontos focais para encaminhar os pagamentos de outros,\nlevando a uma rede de canais de pagamento totalmente conectada, ao custo do capital estar ligado aos canais de pagamento.")]),e._v(" "),o("p",[e._v("Enquanto a Lightning Network também pode facilmente se estender através de várias blockchains independentes\npara permitir a transferência de "),o("em",[e._v("value")]),e._v(" através de um mercado de câmbio, não pode ser usado para\ntransferir assimetricamente "),o("em",[e._v("tokens")]),e._v(" de uma blockchain para outra. O principal benefício da rede Cosmos\ndescrita aqui é permitir tais transferências diretas de tokens. Dito isto, esperamos que os canais de\npagamento e a Lightning Network sejam amplamente adotados juntamente com nosso mecanismo de transferência\nde token, por razões de economia de custos e privacidade.")]),e._v(" "),o("h4",{attrs:{id:"segregated-witness"}},[e._v("Segregated Witness")]),e._v(" "),o("p",[e._v("Segregated Witness é uma proposta de melhoria do Bitcoin\n"),o("a",{attrs:{href:"https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki"}},[e._v("link")]),e._v(" que visa aumentar em 2X ou 3X a\ntaxa de transferência por bloco, ao mesmo tempo que faz a sincronização de blocos ser mais rapida para\nnovos nós. O brilho desta solução é de como ele funciona dentro das limitações do protocolo atual do Bitcoin\ne permite uma atualização de soft-fork (ou seja, os clientes com versões mais antigas do software\ncontinuarão funcionando após a atualização). O Tendermint, sendo um novo protocolo, não tem restrições\nde projeto, por isso tem prioridades diferentes de escalonamento. Sobretudo, o Tendermint usa um algoritmo\nde rodízio BFT baseado em assinaturas criptográficas em vez de mineração, o que trivialmente permite escalonamento\nhorizontal através de múltiplas blockchains paralelas, enquanto que os regulares e mais frequentes blocos confirmam\na escala vertical também.")]),e._v(" "),o("hr"),e._v(" "),o("h2",{attrs:{id:"apendice"}},[e._v("Apêndice")]),e._v(" "),o("h3",{attrs:{id:"responsabilidade-de-fork"}},[e._v("Responsabilidade de Fork")]),e._v(" "),o("p",[e._v("Um protocolo de consenso bem projetado deve fornecer algumas garantias no caso da capacidade de\ntolerância ser excedida e o consenso falhar. Isto é especialmente necessário nos sistemas econômicos,\nonde o comportamento Bizantino pode ter recompensa financeira substancial. A\ngarantia maisimportante é uma forma de "),o("em",[e._v("fork-accountability")]),e._v(", onde os processos que\nfizeram com que o consenso falhasse (ou seja, clientes do protocolo\nmotivados para aceitar valores diferentes - um fork) podem ser identificados e punidos de acordo com as\nregras do protocolo , Ou, possivelmente, o sistema jurídico. Quando o sistema jurídico não é confiável\nou é excessivamente caro para suplicar, os validadores podem ser forçados a fazerem depósitos de segurança\npara participar, e esses depósitos podem ser revogados ou cortados, quando um comportamento malicioso é detectado "),o("a",{attrs:{href:"https://blog.ethereum.org/2014/01/15/slasher-a-punitive-proof-of-stake-algorithm/"}},[e._v("[10]")]),e._v(".")]),e._v(" "),o("p",[e._v("Observe que isso é diferente do Bitcoin, onde o fork é uma ocorrência regular devido à assincronia de\nrede e à natureza probabilística de encontrar colisões de hash parciais. Uma vez que, em muitos casos,\num fork malicioso é indistinguível de um fork devido à assincronia, o Bitcoin não pode implementar de\nforma confiável a responsabilidade de um fork, com exceção do custo implícito pago por mineradores que\ntem a oportunidade de minerarem um bloco órfão.")]),e._v(" "),o("h3",{attrs:{id:"consenso-tendermint"}},[e._v("Consenso Tendermint")]),e._v(" "),o("p",[e._v("Chamamos as fases de votação de "),o("em",[e._v("PreVote")]),e._v(" e "),o("em",[e._v("PreCommit")]),e._v(". Um voto pode ser para um bloco em particular ou\npara "),o("em",[e._v("Nil")]),e._v(". Chamamos uma coleção de +⅔ PreVotes para um único bloco na mesma rodada de um "),o("em",[e._v("Polka")]),e._v(", e uma\ncoleção de +⅔ PreCommits para um único bloco na mesma rodada de um "),o("em",[e._v("Commit")]),e._v(". Se +⅔ PreCommit para Nil na\nmesma rodada, eles passam para a próxima rodada.")]),e._v(" "),o("p",[e._v("Observe que o determinismo estrito no protocolo incorre em uma suposição de sincronia fraca, pois os líderes\ncom falhas devem ser detectados e ignorados. Assim, os validadores aguardam algum tempo, "),o("em",[e._v("TimeoutPropose")]),e._v(",\nantes de Prevote Nil, e o valor de TimeoutPropose aumenta a cada rodada. A progressão através do\nresto de uma rodada é totalmente assincrôna, onde o progresso é feito somente quando um validador\nouve de +⅔ da rede. Na prática, seria necessário um adversário extremamente forte para impedir\nindefinidamente a suposição de sincronia fraca (fazendo com que o consenso deixasse de confirmar um bloco),\ne isso pode ser ainda mais difícil usando valores randomizados de TimeoutPropose em cada validador.")]),e._v(" "),o("p",[e._v("Um conjunto adicional de restrições, ou Locking Rules(Regras de bloqueio), garante que a rede acabará\npor confirmar apenas um bloco em cada altura. Qualquer tentativa maliciosa de confirmar de causar um\nbloco a ser confirmado a uma determinada altura pode ser identificada. Primeiro, um PreCommit para um\nbloco deve vir com justificação, na forma de um Polka para esse bloco. Se o validador já tiver PreCommit\num bloco na rodada "),o("em",[e._v("R_1")]),e._v(", nós dizemos que eles estão "),o("em",[e._v("locked")]),e._v(" nesse bloco, e o Polka usado\npara justificar o novo PreCommit na rodada "),o("em",[e._v("R_2")]),e._v(" deve vir de uma rodada "),o("em",[e._v("R_polka")]),e._v("\nonde "),o("em",[e._v("R_1 < R_polka <= R_2")]),e._v(". Em segundo lugar, os validadores devem propor e/ou pré-votar\no bloco que eles estão travados. Juntas, essas condições garantem que um validador não PreCommit\nsem evidência suficiente como justificativa, e que os validadores que já têm PreCommit não podem\ncontribuir para a evidência de PreCommit algo mais. Isso garante a segurança e a vivacidade do algoritmo de consenso.")]),e._v(" "),o("p",[e._v("Os detalhes completos do protocolo são descritos\n"),o("a",{attrs:{href:"https://github.com/tendermint/tendermint/wiki/Byzantine-Consensus-Algorithm"}},[e._v("aqui")]),e._v(".")]),e._v(" "),o("h3",{attrs:{id:"clientes-leves-do-tendermint"}},[e._v("Clientes Leves do Tendermint")]),e._v(" "),o("p",[e._v("A necessidade de sincronizar todos os cabeçalhos de bloco é eliminada no Tendermint-PoS, como por exemplo\na existência de uma cadeia alternativa (um fork) significando que ⅓+ do stake ligado pode ser reduzido.\nNaturalmente, a partir que dividir requer que "),o("em",[e._v("someone")]),e._v(" compartilhe evidência de um fork, clientes leves\ndevem armazenar qualquer bloco-hash comprometido que eles vêem. Além disso, os clientes leves podem\nperiodicamente ficarem sincronizados com as alterações no conjunto de validadores, para evitar\n[ataques de longo alcance] (#preventing-long-range-attacks) (mas outras soluções são possíveis).")]),e._v(" "),o("p",[e._v("Em espírito semelhante do Ethereum, o Tendermint permite que os aplicativos incorporem um hash de raiz\nMerkle global em cada bloco, permitindo verifícações fáceis de consultas de estado para fins como saldos\nde contas, o valor armazenado em um contrato ou a existência de saída de uma transação não gasta,\ndependendo da natureza da aplicação.")]),e._v(" "),o("h3",{attrs:{id:"prevencao-de-ataques-de-longo-alcance"}},[e._v("Prevenção de ataques de longo alcance")]),e._v(" "),o("p",[e._v("Assumindo uma coleção suficientemente elástica de redes de difusão e um conjunto de validador\nestático, qualquer fork na blockchain pode ser detectado e os depósitos dos validadores ofensivos cortados.\nEsta inovação, sugerida pela primeira vez por Vitalik Buterin no início de 2014, resolve o problema do “nada a perder” de outras\ncriptomoedas de PoW (ver "),o("a",{attrs:{href:"#related-work"}},[e._v("Trabalho Relacionado")]),e._v("). No entanto, uma vez que os conjuntos de\nvalidadores devem ser capazes de mudar, durante um longo período de tempo, os validadores originais podem\ntornar-se não ligados e, portanto, seriam livres para criar uma nova cadeia a partir do bloco gênese,\nnão incorrendo nenhum custo, visto que eles não tem depósitos trancados. Este ataque veio a ser conhecido\ncomo Ataque de Longo Alcance (Long Range Attack - LRA), em contraste com um Ataque de Curto Alcance,\nonde os validadores que estão atualmente ligados causam um fork e são, portanto, puníveis\n(assumindo um algoritimo BFT de fork-responsável como o consenso Tendermint).\nAtaques de longo alcance são muitas vezes pensados para serem um golpe crítico para o PoW.")]),e._v(" "),o("p",[e._v('Felizmente, o LRA pode ser atenuado da seguinte forma. Em primeiro lugar, para que um validador se\ndesatar (assim recuperando seu depósito colateral e não mais ganhando taxas para participar no consenso),\no depósito deve ser tornado intransferível por um período de tempo conhecido como o “unbonding period”\n(período de desatamento), que pode ser na ordem de semanas ou meses. Em segundo lugar, para um cliente\nleve ser seguro, a primeira vez que ele se conecta à rede, ele deve verificar um hash de bloqueio recente\ncontra uma fonte confiável ou, preferencialmente, várias fontes. Esta condição é por vezes referida como\n"subjetividade fraca". Finalmente, para permanecer seguro, ele deve sincronizar com o mais recente\nvalidador definido, pelo menos, tão frequentemente quanto a duração do período de desatamento.\nIsso garante que o cliente leve saiba sobre as alterações no conjunto de validação definido antes de\num validador não ter mais o seu capital ligado e, portanto, não mais em jogo, o que permitiria enganar\no cliente, executando um ataque de longo alcance, criando novos blocos re-começando em uma altura\na qual foi ligado (assumindo que tem controle de muitas das primeiras chaves privadas).')]),e._v(" "),o("p",[e._v("Note que superar o LRA desta forma requer uma revisão do modelo de segurança original do PoW. No PoW,\npresume-se que um cliente leve pode sincronizar com a altura atual do bloco gênese confiável a qualquer\nmomento simplesmente processando o PoW em cada cabeçalho de bloco. Para superar o LRA, entretanto,\nexigimos que um cliente leve entre em linha com alguma regularidade para rastrear mudanças no conjunto\nde validadores e que, na primeira vez em que eles fiquem on-line, eles devem ser particularmente cuidadosos\npara autenticar o que ouvem da rede contra fontes confiáveis . Naturalmente, este último requisito é\nsemelhante ao do Bitcoin, onde o protocolo e o software também devem ser obtidos a partir de uma fonte confiável.")]),e._v(" "),o("p",[e._v("O método acima para prevenir LRA é bem adequado para validadores e nós completos de uma blockchain alimentada\npor Tendermint porque estes nós são destinados a permanecerem conectados à rede. O método também é adequado\npara clientes leves que podem ser esperados para sincronizar com a rede com freqüência. No entanto, para\nos clientes leves que não se espera ter acesso frequente à Internet ou à rede da blockchain, ainda pode\nser utilizada outra solução para superar o LRA. Os detentores de tokens não validadores podem publicar\nos seus tokens como colaterais com um período de não ligação muito longo (por exemplo, muito mais longo\ndo que o período de não ligação para validadores) e servir clientes leves com um método secundário de\natestar a validade dos blocos atuais e hashes de blocos passados. Embora esses tokens não contam para a\nsegurança do consenso da blockchain, eles podem fornecer fortes garantias para clientes leves. Se a\nconsulta histórica de hash de blocos fosse suportada no Ethereum, qualquer pessoa poderia vincular\nseus tokens em um contrato inteligente projetado especialmente para isso e fornecer serviços de\ncomprovação de pagamentos, efetivamente criando um mercado para a segurança contra LRA de cliente leve.")]),e._v(" "),o("h3",{attrs:{id:"superando-forks-e-ataques-de-censura"}},[e._v("Superando Forks e Ataques de Censura")]),e._v(" "),o("p",[e._v("Devido à definição de uma confimação de bloco, qualquer coalizão de poder de voto ⅓+ pode interromper a\nblockchain ficando off-line ou não transmitir os seus votos. Tal coalizão também pode censurar transações\nparticulares rejeitando blocos que incluem essas transações, embora isso resultaria em uma proporção\nsignificativa de propostas de blocos a serem rejeitadas, o que iria retardar a taxa de blocos\nconfirmados da blockchain, reduzindo sua utilidade e valor. A coalizão mal-intencionada também pode transmitir\nvotos em um fio de modo a triturar os blocos confirmados da blockchain para quase parar, ou se envolver em\nqualquer combinação desses ataques. Finalmente, isso pode fazer com que a cadeia de blocos “forke” (bifurque),\npor dupla assinatura ou violação as regras de bloqueio.")]),e._v(" "),o("p",[e._v("Se um adversário globalmente ativo também estivesse envolvido, poderia dividir a rede de tal maneira que\npossa parecer que o subconjunto errado de validadores era responsável pela desaceleração. Esta não é apenas\numa limitação do Tendermint, mas sim uma limitação de todos os protocolos de consenso cuja\nrede é potencialmente controlada por um adversário ativo.")]),e._v(" "),o("p",[e._v("Para estes tipos de ataques, um subconjunto de validadores deve coordenar através de meios externos\npara assinar um proposta de reorganização que escolhe um fork (e qualquer prova disso) e o\nsubconjunto inicial de validadores com suas assinaturas. Os validadores que assinam tal\nproposta de reorganização deixam seu colateral em todos os outros forks. Os clientes\ndevem verificar as assinaturas na proposta de reorganização, verificar qualquer\nevidência e fazer um julgamento ou solicitar ao usuário final uma decisão. Por exemplo,\numa carteira para celular um aplicativo que pode alertar o usuário com um aviso de segurança,\nenquanto um refrigerador pode aceitar qualquer proposta de reorganização assinada por\n+½ dos validadores originais por poder de voto.")]),e._v(" "),o("p",[e._v("Nenhum algoritmo não-sincrônico tolerante a falhas Bizantino pode chegar a um consenso quando ⅓+\nde poder de voto for desonesto, mas um fork supõe que ⅓+ do poder de voto já foram desonestos por\ndupla assinatura ou bloqueio de mudança sem justificativa. Portanto, assinar a proposta de\nreorganização é um problema de coordenação que não pode ser resolvido por qualquer protocolo\nnão-sincronico (isto é, automaticamente e sem fazer suposições sobre a confiabilidade da rede subjacente).\nPor enquanto, deixamos o problema da coordenação da proposta de reorganização para a coordenação\nhumana através do consenso social na mídia na internet. Os validadores devem ter cuidado para garantir\nque não haja partições de rede remanescentes antes de assinar uma proposta de reorganização,\npara evitar situações em que duas propostas de reorganização em conflito sejam assinadas.")]),e._v(" "),o("p",[e._v("Assumindo que o meio de coordenação é externo e o protocolo é robusto, resulta-se que os forks são\numa preocupação menor do que os ataques de censura.")]),e._v(" "),o("p",[e._v("Além de forks e censura, que exigem ⅓+ poder de votação Bizantina, uma coalizão de +⅔ poder de\nvoto pode ser pratica arbitrária, estado inválido. Esta é a característica de qualquer sistema\nde consenso (BFT). Ao contrário da dupla assinatura, que cria forks com provas facilmente\nverificáveis, a detecção de obrigatoriedade de um estado inválido requer que os pares não\nvalidadores verifiquem blocos inteiros, o que implica que eles mantêm uma cópia local do estado\ne executam cada transação, computando a raiz de estado de forma independente para eles mesmos.\nUma vez detectado, a única maneira de lidar com essa falha é através do consenso social.\nPor exemplo, em situações em que o Bitcoin falhou, seja por causa de bugs de software\n(como em março de 2013), ou praticar um estado inválido devido ao comportamento Bizantino\ndos mineradores (como em julho de 2015), a comunidade bem conectada de negócios, desenvolvedores,\nmineradores e outras organizações estabeleceu um consenso social sobre quais ações manuais se\nfaziam necessárias para curar a rede. Além disso, uma vez que se pode esperar que os validadores\nde uma cadeia de blocos de Tendermint sejam identificáveis, o compromisso de um estado inválido\npode até ser punido por lei ou por alguma jurisprudência externa, se desejado.")]),e._v(" "),o("h3",{attrs:{id:"especificacao-tmsp"}},[e._v("Especificação TMSP")]),e._v(" "),o("p",[e._v("TMSP consiste em 3 tipos de mensagens primárias que são entregues do núcleo para o aplicativo.\nO aplicativo responde com mensagens de resposta correspondentes.")]),e._v(" "),o("p",[e._v("A mensagem "),o("code",{pre:!0},[e._v("AppendTx")]),e._v(" é o cavalo de trabalho da aplicação. Cada transação na blockchain\né entregue com esta mensagem. O aplicativo precisa validar cada transação recebida com a\nmensagem AppendTx contra o estado atual, o protocolo de aplicativo e as credenciais\ncriptográficas da transação. Uma transação validada precisa atualizar o estado do\naplicativo - vinculando um valor a um armazenamento de valores chave ou atualizando o banco de dados UTXO.")]),e._v(" "),o("p",[e._v("A mensagem "),o("code",{pre:!0},[e._v("CheckTx")]),e._v(" é semelhante à AppendTx, mas é apenas para validar transações. O mempool do\nTendermint Core primeiro verifica a validade de uma transação com o CheckTx e apenas relata\ntransações válidas para seus pares. Os aplicativos podem verificar um nonce incremental na transação\ne retornar um erro em CheckTx se o nonce é antigo.")]),e._v(" "),o("p",[e._v("A mensagem "),o("code",{pre:!0},[e._v("Commit")]),e._v(" é usada para calcular uma obrigação criptográfica com o estado atual da aplicação,\npara ser colocada no próximo cabeçalho do bloco. Isso tem algumas propriedades úteis. Inconsistências\nna atualização desse estado agora aparecerão como forks do blockchain que captura uma classe inteira\nde erros de programação. Isso também simplifica o desenvolvimento de clientes leves e seguros,\njá que as provas de Merkle-hash podem ser provadas verificando o hash de blocos,\ne o hash de blocos é assinado por um quórum de validadores (por poder de voto).")]),e._v(" "),o("p",[e._v("Mensagens TMSP adicionais permitem que o aplicativo acompanhe e altere o conjunto\nde validadores e que o aplicativo receba as informações do bloco, como a altura e os votos de confirmação.")]),e._v(" "),o("p",[e._v("Pedidos/respostas TMSP são simples mensagens Protobuf.\nConfira o [arquivo do esquema] ("),o("a",{attrs:{href:"https://github.com/tendermint/tmsp/blob/master/types/types.proto"}},[e._v("https://github.com/tendermint/tmsp/blob/master/types/types.proto")]),e._v(").")]),e._v(" "),o("h5",{attrs:{id:"appendtx"}},[e._v("AppendTx")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Arguments")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": Os bytes de transação solicitada")])])]),e._v(" "),o("li",[o("strong",[e._v("Returns")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Code (uint32)")]),e._v(": Código de resposta")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": Bytes de resultado, se houver")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Log (string)")]),e._v(": Debug ou mensagem de erro")])])]),e._v(" "),o("li",[o("strong",[e._v("Usage")]),e._v(":"),o("br"),e._v("\nAcrescentar e executar uma transação. Se a transação for válida,\nCodeType.OK")])]),e._v(" "),o("h5",{attrs:{id:"checktx"}},[e._v("CheckTx")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Arguments")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": Os bytes de transação solicitados")])])]),e._v(" "),o("li",[o("strong",[e._v("Returns")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Code (uint32)")]),e._v(": Código de resposta")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": Bytes de resultado, se houver")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Log (string)")]),e._v(": Debug ou mensagem de erro")])])]),e._v(" "),o("li",[o("strong",[e._v("Usage")]),e._v(":"),o("br"),e._v("\nValidar uma transação. Esta mensagem não deve mutar o estado.\nAs transações são primeiro executadas através do CheckTx antes da transmissão para os pares na camada mempool.\nVocê pode fazer o CheckTx semi-stateful e limpar o estado após "),o("code",{pre:!0},[e._v("Commit")]),e._v(" ou\n"),o("code",{pre:!0},[e._v("BeginBlock")]),e._v(",\npara permitir sequências dependentes de transações no mesmo bloco.")])]),e._v(" "),o("h5",{attrs:{id:"commit"}},[e._v("Commit")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Returns")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": O hash Merkle raiz")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Log (string)")]),e._v(": Debug ou erro de mensagem")])])]),e._v(" "),o("li",[o("strong",[e._v("Usage")]),e._v(":"),o("br"),e._v("\nRetorna um hash Merkle raiz do estado da aplicação.")])]),e._v(" "),o("h5",{attrs:{id:"query"}},[e._v("Query")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Arguments")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": Os bytes de solicitação consultada")])])]),e._v(" "),o("li",[o("strong",[e._v("Returns")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Code (uint32)")]),e._v(": Código de resposta")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": Os bytes de resposta consultada")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Log (string)")]),e._v(": Debug ou erro de mensagem")])])])]),e._v(" "),o("h5",{attrs:{id:"flush"}},[e._v("Flush")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Usage")]),e._v(":"),o("br"),e._v("\nLimpar a fila de resposta. Aplicações que implementam "),o("code",{pre:!0},[e._v("types.Application")]),e._v("\nnão precisa implementar esta mensagem - é tratada pelo projeto.")])]),e._v(" "),o("h5",{attrs:{id:"info"}},[e._v("Info")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Returns")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": Os bytes de informação")])])]),e._v(" "),o("li",[o("strong",[e._v("Usage")]),e._v(":"),o("br"),e._v("\nRetorna informações sobre o estado da aplicação. Aplicação específicão.")])]),e._v(" "),o("h5",{attrs:{id:"setoption"}},[e._v("SetOption")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Arguments")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Key (string)")]),e._v(": Chave para definir")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Value (string)")]),e._v(": Valor a definir para a chave")])])]),e._v(" "),o("li",[o("strong",[e._v("Returns")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Log (string)")]),e._v(": Debug ou mensagem de erro")])])]),e._v(" "),o("li",[o("strong",[e._v("Usage")]),e._v(":"),o("br"),e._v("\nDefine as opções do aplicativo.  Exemplo Key=“mode”, Value=“mempool” para uma conexão mempool\n, ou Key=“mode”, Value=“consensus” para uma conexão de consenso.\nOutras opções são específicas da aplicação.")])]),e._v(" "),o("h5",{attrs:{id:"initchain"}},[e._v("InitChain")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Arguments")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Validators ([]Validator)")]),e._v(": validadores de genesis iniciais")])])]),e._v(" "),o("li",[o("strong",[e._v("Usage")]),e._v(":"),o("br"),e._v("\nChamado uma vez na genesis")])]),e._v(" "),o("h5",{attrs:{id:"beginblock"}},[e._v("BeginBlock")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Arguments")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Height (uint64)")]),e._v(": A altura do bloco que está começando")])])]),e._v(" "),o("li",[o("strong",[e._v("Usage")]),e._v(":"),o("br"),e._v("\nSinaliza o início de um novo bloco. Chamado antes de qualquer AppendTxs.")])]),e._v(" "),o("h5",{attrs:{id:"endblock"}},[e._v("EndBlock")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Arguments")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Height (uint64)")]),e._v(": A altura do bloco que terminou")])])]),e._v(" "),o("li",[o("strong",[e._v("Returns")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Validators ([]Validator)")]),e._v(": Mudança de validadores com novos poderes de voto (0\npara remover)")])])]),e._v(" "),o("li",[o("strong",[e._v("Usage")]),e._v(":"),o("br"),e._v("\nSinaliza o fim de um bloco. Chamado antes de cada Commit após todas as\ntransações")])]),e._v(" "),o("p",[e._v("Veja "),o("a",{attrs:{href:"https://github.com/tendermint/tmsp#message-types"}},[e._v("o repositório TMSP")]),e._v(" para mais detalhes.")]),e._v(" "),o("h3",{attrs:{id:"reconhecimento-de-entrega-de-pacotes-ibc"}},[e._v("Reconhecimento de entrega de pacotes IBC")]),e._v(" "),o("p",[e._v("Há várias razões pelas quais um remetente pode querer o reconhecimento da entrega de um pacote\npela cadeia de recebimento. Por exemplo, o remetente pode não saber o status da cadeia de\ndestino, se for esperado que esteja com defeito. Ou, o remetente pode querer impor um tempo\nlimite no pacote (com o campo "),o("code",{pre:!0},[e._v("MaxHeight")]),e._v("), enquanto qualquer cadeia de destino pode sofrer\nde um ataque de negação de serviço com um aumento repentino no número de pacotes de entrada.")]),e._v(" "),o("p",[e._v("Nesses casos, o remetente pode exigir confirmação de entrega configurando o status\ndo pacote inicial como "),o("code",{pre:!0},[e._v("AckPending")]),e._v(". Em seguida, é a responsabilidade da\ncadeia receptora confirmar a entrega, incluindo uma abreviada "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(" no app Merkle hash.")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://raw.githubusercontent.com/gnuclear/atom-whitepaper/master/msc/ibc_with_ack.png",alt:"Figura da Zone1, Zone2, e Hub IBC comreconhecimento"}})]),e._v(" "),o("p",[e._v("Primeiro, um "),o("code",{pre:!0},[e._v("IBCBlockCommit")]),e._v(" e"),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(" são postados no “Hub” que prova\na existência de um "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(" na “Zone1”. Digamos que "),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(" tem o seguinte valor:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("FromChainID")]),e._v(": “Zone1”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("FromBlockHeight")]),e._v(": 100 (say)")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Packet")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Header")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacketHeader")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("SrcChainID")]),e._v(": “Zone1”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("DstChainID")]),e._v(": “Zone2”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Number")]),e._v(": 200 (say)")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Status")]),e._v(": "),o("code",{pre:!0},[e._v("AckPending")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Type")]),e._v(": “moeda”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("MaxHeight")]),e._v(": 350 (Dizer que “Hub” está atualmente na altura 300)")])])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Payload")]),e._v(": <Os bytes de uma carga paga de “moeda”>")])])])]),e._v(" "),o("p",[e._v("Em seguida, um "),o("code",{pre:!0},[e._v("IBCBlockCommit")]),e._v(" e "),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(" são publicados na “Zone2” que comprova\na existência de um "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(" em “Hub”. Digamos que "),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(" tem o seguinte valor:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("FromChainID")]),e._v(": “Hub”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("FromBlockHeight")]),e._v(": 300")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Packet")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Header")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacketHeader")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("SrcChainID")]),e._v(": “Zone1”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("DstChainID")]),e._v(": “Zone2”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Number")]),e._v(": 200")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Status")]),e._v(": "),o("code",{pre:!0},[e._v("AckPending")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Type")]),e._v(": “moeda”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("MaxHeight")]),e._v(": 350")])])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Payload")]),e._v(": <Os mesmos bytes de uma carga paga de “moeda”>")])])])]),e._v(" "),o("p",[e._v("Em seguida, “Zone2” deve incluir em seu app-hash um pacote abreviado que mostra o novo\nstatus de "),o("code",{pre:!0},[e._v("AckSent")]),e._v(". Um "),o("code",{pre:!0},[e._v("IBCBlockCommit")]),e._v(" e "),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(' são colocados de volta no "Hub"\nque comprova a existência de um '),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(" abreviado na “Zone2”. Digamos que "),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(" tem o seguinte valor:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("FromChainID")]),e._v(": “Zone2”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("FromBlockHeight")]),e._v(": 400 (say)")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Packet")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Header")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacketHeader")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("SrcChainID")]),e._v(": “Zone1”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("DstChainID")]),e._v(": “Zone2”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Number")]),e._v(": 200")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Status")]),e._v(": "),o("code",{pre:!0},[e._v("AckSent")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Type")]),e._v(": “moeda”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("MaxHeight")]),e._v(": 350")])])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("PayloadHash")]),e._v(": <Os bytes de hash da mesma carga paga de “moeda”>")])])])]),e._v(" "),o("p",[e._v("Finalmente, “Hub” deve atualizar o status do pacote de "),o("code",{pre:!0},[e._v("AckPending")]),e._v(" para"),o("code",{pre:!0},[e._v("AckReceived")]),e._v(".\nA evidência desse novo status finalizado deve voltar a “Zone2”. Digamos que "),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(" tem o seguinte valor:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("FromChainID")]),e._v(": “Hub”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("FromBlockHeight")]),e._v(": 301")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Packet")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Header")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacketHeader")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("SrcChainID")]),e._v(": “Zone1”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("DstChainID")]),e._v(": “Zone2”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Number")]),e._v(": 200")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Status")]),e._v(": "),o("code",{pre:!0},[e._v("AckReceived")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Type")]),e._v(": “moeda”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("MaxHeight")]),e._v(": 350")])])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("PayloadHash")]),e._v(": <Os bytes de hash da mesma carga paga de “moeda”>")])])])]),e._v(" "),o("p",[e._v("Enquanto isso, “Zone1” pode assumir de maneira otimista a entrega bem-sucedida de um pacote\nde “moeda”, a menos que provas em contrário sejam comprovadas em “Hub”. No exemplo acima,\nse “Hub” não tivesse recebido um status "),o("code",{pre:!0},[e._v("AckSent")]),e._v(" de “Zone2” pelo bloco 350, ele teria\ndefinido o status automaticamente para "),o("code",{pre:!0},[e._v("Timeout")]),e._v(". Essa evidência de um tempo limite pode\nser postada novamente na “Zone1”, e quaisquer tokens podem ser retornados.")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://raw.githubusercontent.com/gnuclear/atom-whitepaper/master/msc/ibc_with_ack_timeout.png",alt:"Figura da Zone1, Zone2, e Hub IBC com reconhecimento etimeout"}})]),e._v(" "),o("h3",{attrs:{id:"arvore-merkle-e-especificacao-de-prova"}},[e._v("Árvore Merkle e Especificação de Prova")]),e._v(" "),o("p",[e._v("Existem dois tipos de árvores Merkle suportadas no ecossistema Tendermint / Cosmos: A Árvore Simples e a Árvore IAVL+.")]),e._v(" "),o("h4",{attrs:{id:"arvore-simples"}},[e._v("Árvore Simples")]),e._v(" "),o("p",[e._v("A Árvore Simples é uma árvore Merkle para uma lista estática de elementos. Se o número de\nitens não for um poder de dois, algumas folhas estarão em níveis diferentes. Árvore Simples\ntenta manter ambos os lados da árvore da mesma altura, mas a esquerda pode ter um maior.\nEsta árvore Merkle é usada para Merkle-lizar as transações de um bloco, e os elementos de\nnível superior da raiz do estado do aplicativo.")]),e._v(" "),o("pre",{pre:!0},[o("code",{attrs:{"v-pre":""}},[e._v("                *\n               / \\\n             /     \\\n           /         \\\n         /             \\\n        *               *\n       / \\             / \\\n      /   \\           /   \\\n     /     \\         /     \\\n    *       *       *       h6\n   / \\     / \\     / \\\n  h0  h1  h2  h3  h4  h5\n\n  Uma ÁrvoreSimples com sete elementos\n")])]),e._v(" "),o("h4",{attrs:{id:"arvore-iavl"}},[e._v("Árvore IAVL+")]),e._v(" "),o("p",[e._v("O objetivo da estrutura de dados IAVL+ é fornecer armazenamento persistente para pares de valores-chave\nno estado do aplicativo, de modo que um hash determinista de raiz Merkle possa ser calculado\neficientemente. A árvore é balanceada usando uma variante do [algoritmo AVL]\n("),o("a",{attrs:{href:"http://en.wikipedia.org/wiki/AVL_tree"}},[e._v("http://en.wikipedia.org/wiki/AVL_tree")]),e._v("), e todas as operações são O(log(n)).")]),e._v(" "),o("p",[e._v("Em uma árvore AVL, as alturas das duas subárvores filhas de qualquer nó diferem por no máximo um.\nSempre que esta condição for violada após uma atualização, a árvore é rebalanceada criando O(log(n))\nnovos nós que apontam para nós não modificados da árvore antiga. No algoritmo AVL original, os nós\ninternos também podem conter pares de valores-chave. O algoritmo AVL + (observe o sinal de adição)\nmodifica o algoritmo AVL para manter todos os valores em folha de nós, enquanto\nusando apenas nós de ramo para armazenar chaves. Isso simplifica o algoritmo, mantendo a trilha hash merkle curta.")]),e._v(" "),o("p",[e._v("A Árvore AVL + é análoga à Ethereum [Patricia tries] ("),o("a",{attrs:{href:"http://en.wikipedia.org/wiki/Radix_tree"}},[e._v("http://en.wikipedia.org/wiki/Radix_tree")]),e._v(").\nHá compensações. Chaves não precisam ser hasheadas antes da inserção em árvores IAVL+, portanto,\nisso fornece iteração mais rápida ordenada no espaço-chave que pode beneficiar algumas aplicações.\nA lógica é mais simples de implementar, requerendo apenas dois tipos de nós - nós internos e nós de folhas.\nA prova de Merkle é em média mais curta, sendo uma árvore binária equilibrada. Por outro lado,\na raiz Merkle de uma árvore IAVL+ depende da ordem das atualizações.")]),e._v(" "),o("p",[e._v("Iremos apoiar outras árvores Merkle eficientes, como Patricia Trie, da Ethereum, quando a variante binária estiver disponível.")]),e._v(" "),o("h3",{attrs:{id:"tipos-de-transacao"}},[e._v("Tipos de Transação")]),e._v(" "),o("p",[e._v("Na implementação canônica, as transações são transmitidas para o aplicativo Cosmos hub através da interface TMSP.")]),e._v(" "),o("p",[e._v("O Cosmos Hub aceitará uma série de tipos de transações primárias, incluindo "),o("code",{pre:!0},[e._v("SendTx")]),e._v(",\n"),o("code",{pre:!0},[e._v("BondTx")]),e._v(", "),o("code",{pre:!0},[e._v("UnbondTx")]),e._v(", "),o("code",{pre:!0},[e._v("ReportHackTx")]),e._v(", "),o("code",{pre:!0},[e._v("SlashTx")]),e._v(", "),o("code",{pre:!0},[e._v("BurnAtomTx")]),e._v(", "),o("code",{pre:!0},[e._v("ProposalCreateTx")]),e._v(" e "),o("code",{pre:!0},[e._v("ProposalVoteTx")]),e._v(",\nque são relativamente auto-explicativas e será documentado em uma futura revisão deste artigo.\nAqui documentamos os dois principais tipos de transação para IBC: "),o("code",{pre:!0},[e._v("IBCBlockCommitTx")]),e._v(" e "),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(".")]),e._v(" "),o("h4",{attrs:{id:"ibcblockcommittx"}},[e._v("IBCBlockCommitTx")]),e._v(" "),o("p",[e._v("Uma transação "),o("code",{pre:!0},[e._v("IBCBlockCommitTx")]),e._v(" é composta de:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("ChainID (string)")]),e._v(": O ID da blockchain")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("BlockHash ([]byte)")]),e._v(": Os bytes de hash de bloco, a raiz Merkle que inclui o app-hash")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("BlockPartsHeader (PartSetHeader)")]),e._v(": Os bytes de cabeçalho do conjunto de blocos,\napenas necessários para verificar assinaturas de voto")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("BlockHeight (int)")]),e._v(": A altura do commit")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("BlockRound (int)")]),e._v(": A rodada do commit")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Commit ([]Vote)")]),e._v(": O +⅔ Tendermint "),o("code",{pre:!0},[e._v("Precommit")]),e._v(" de votos que compõem um bloco")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("ValidatorsHash ([]byte)")]),e._v(": O hash da raiz da árvore-Merkle do novo conjunto de validadores")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("ValidatorsHashProof (SimpleProof)")]),e._v(": Uma ÁrvoreSimples da prova-Merkle para provar o\n"),o("code",{pre:!0},[e._v("ValidatorsHash")]),e._v(" contra o "),o("code",{pre:!0},[e._v("BlockHash")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("AppHash ([]byte)")]),e._v(": Um hash da raiz da árvore-Merkle da Árvore IAVL do estado de aplicação")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("AppHashProof (SimpleProof)")]),e._v(": Uma ÁrvoreSimples da prova-Merkle para provar o\n"),o("code",{pre:!0},[e._v("AppHash")]),e._v(" contra o "),o("code",{pre:!0},[e._v("BlockHash")])])]),e._v(" "),o("h4",{attrs:{id:"ibcpackettx"}},[e._v("IBCPacketTx")]),e._v(" "),o("p",[e._v("Um "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(" é composto de:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("Header (IBCPacketHeader)")]),e._v(": O cabeçalho do pacote")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Payload ([]byte)")]),e._v(": Os bytes da carga paga do pacote. "),o("em",[e._v("Optional")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("PayloadHash ([]byte)")]),e._v(": O hash para os bytes do pacote. "),o("em",[e._v("Optional")])])]),e._v(" "),o("p",[e._v("Qualquer um dos "),o("code",{pre:!0},[e._v("Payload")]),e._v(" ou "),o("code",{pre:!0},[e._v("PayloadHash")]),e._v(" deve estar presente. O hash de um "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v("\né uma raiz Merkle simples dos dois itens, "),o("code",{pre:!0},[e._v("Header")]),e._v(" e "),o("code",{pre:!0},[e._v("Payload")]),e._v(". Um "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(" sem a carga completa\né chamado de "),o("em",[e._v("abbreviated packet")]),e._v(".")]),e._v(" "),o("p",[e._v("Um "),o("code",{pre:!0},[e._v("IBCPacketHeader")]),e._v(" é composto de:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("SrcChainID (string)")]),e._v(": O ID da blockchain fonte")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("DstChainID (string)")]),e._v(": O ID da blockchain destino")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Number (int)")]),e._v(": Um número exclusivo para todos os pacotes")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Status (enum)")]),e._v(": Pode ser um "),o("code",{pre:!0},[e._v("AckPending")]),e._v(", "),o("code",{pre:!0},[e._v("AckSent")]),e._v(", "),o("code",{pre:!0},[e._v("AckReceived")]),e._v(",\n"),o("code",{pre:!0},[e._v("NoAck")]),e._v(", ou "),o("code",{pre:!0},[e._v("Timeout")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Type (string)")]),e._v(": Os tipos são dependentes da aplicação. Cosmos reserva-se ao tipo de pacote “moeda”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("MaxHeight (int)")]),e._v(": Se status não for "),o("code",{pre:!0},[e._v("NoAckWanted")]),e._v(" ou "),o("code",{pre:!0},[e._v("AckReceived")]),e._v(" por essa altura, o status se tornará "),o("code",{pre:!0},[e._v("Timeout")]),e._v(". "),o("em",[e._v("Opcional")])])]),e._v(" "),o("p",[e._v("Uma transação "),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(" é composta de:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("FromChainID (string)")]),e._v(": O ID da blockchain que está fornecendo este pacote; Não necessariamente a fonte")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("FromBlockHeight (int)")]),e._v(": A altura da blockchain na qual o seguinte pacote é incluído (Merkle-izado) no hash da blockchain de origem")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Packet (IBCPacket)")]),e._v(": Um pacote de dados, cujo estado pode ser um\n"),o("code",{pre:!0},[e._v("AckPending")]),e._v(", "),o("code",{pre:!0},[e._v("AckSent")]),e._v(", "),o("code",{pre:!0},[e._v("AckReceived")]),e._v(", "),o("code",{pre:!0},[e._v("NoAck")]),e._v(", ou "),o("code",{pre:!0},[e._v("Timeout")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("PacketProof (IAVLProof)")]),e._v(": Uma prova-Merkle da Árvore IAVL para para provar o hash do pacote contra o `AppHash’ da cadeia de origem em determinada altura")])]),e._v(" "),o("p",[e._v("A seqüência para enviar um pacote da “Zone1” para a “Zone2” através do “Hub” é mostrada em {Figure X}.\nPrimeiro, um "),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(" prova ao “Hub” que o pacote está incluído no estado da aplicação de “Zone1”.\nEm seguida, outro "),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(" prova a “Zone2” que o pacote está incluído no estado da aplicação “Hub”.\nDurante esse procedimento, os campos "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(" são idênticos: o "),o("code",{pre:!0},[e._v("SrcChainID")]),e._v(" é sempre “Zone1”,\ne o "),o("code",{pre:!0},[e._v("DstChainID")]),e._v(' é sempre" Zone2 ".')]),e._v(" "),o("p",[e._v("O "),o("code",{pre:!0},[e._v("PacketProof")]),e._v(" deve ter o caminho correto da prova-Merkle, da seguinte maneira:")]),e._v(" "),o("pre",{pre:!0},[o("code",{attrs:{"v-pre":""}},[e._v("IBC/<SrcChainID>/<DstChainID>/<Number>\n\n")])]),e._v(" "),o("p",[e._v("Quando “Zone1” quer enviar um pacote para “Zone2” através do “Hub”, os dados de "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v("\nsão idênticos se o pacote é Merkle-izado em “Zone1”, no “Hub” ou “Zone2”. O único campo mutável\né "),o("code",{pre:!0},[e._v("Status")]),e._v(" para acompanhar a entrega, conforme mostrado abaixo.")]),e._v(" "),o("h2",{attrs:{id:"agradecimentos"}},[e._v("Agradecimentos")]),e._v(" "),o("p",[e._v("Agradecemos aos nossos amigos e colegas por sua ajuda na conceituação, revisão e apoio no nosso trabalho com Tendermint e Cosmos.")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"https://github.com/zmanian"}},[e._v("Zaki Manian")]),e._v(" da\n"),o("a",{attrs:{href:"https://www.skuchain.com/"}},[e._v("SkuChain")]),e._v(" forneceu muita ajuda na formatação e redacção, especialmente sob a seção TMSP")]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/jtremback"}},[e._v("Jehan Tremback")]),e._v(" da Althea and Dustin Byington\npor ajudar com iterações iniciais")]),e._v(" "),o("li",[o("a",{attrs:{href:"http://soc1024.com/"}},[e._v("Andrew Miller")]),e._v(" da "),o("a",{attrs:{href:"https://eprint.iacr.org/2016/199"}},[e._v("Honey\nBadger")]),e._v(" pelo feedback sobre consenso")]),e._v(" "),o("li",[o("a",{attrs:{href:"https://fixingtao.com/"}},[e._v("Greg Slepak")]),e._v(" pelo feedback sobre consenso e redação")]),e._v(" "),o("li",[e._v("Também agradecemos ao "),o("a",{attrs:{href:"https://github.com/gleim"}},[e._v("Bill Gleim")]),e._v(" e "),o("a",{attrs:{href:"http://www.seunghwanhan.com"}},[e._v("Seunghwan\nHan")]),e._v(" por várias contribuições.")]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/ShooterXD"}},[e._v("Pedro Augusto")]),e._v(" pela tradução para\nPortuguês")])]),e._v(" "),o("h2",{attrs:{id:"citacoes"}},[e._v("Citações")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"https://bitcoin.org/bitcoin.pdf"}},[e._v("1")]),e._v(" Bitcoin: "),o("a",{attrs:{href:"https://bitcoin.org/bitcoin.pdf"}},[e._v("https://bitcoin.org/bitcoin.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"http://zerocash-project.org/paper"}},[e._v("2")]),e._v(" ZeroCash: "),o("a",{attrs:{href:"http://zerocash-project.org/paper"}},[e._v("http://zerocash-project.org/paper")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/ethereum/wiki/wiki/White-Paper"}},[e._v("3")]),e._v(" Ethereum: "),o("a",{attrs:{href:"https://github.com/ethereum/wiki/wiki/White-Paper"}},[e._v("https://github.com/ethereum/wiki/wiki/White-Paper")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://download.slock.it/public/DAO/WhitePaper.pdf"}},[e._v("4")]),e._v(" TheDAO: "),o("a",{attrs:{href:"https://download.slock.it/public/DAO/WhitePaper.pdf"}},[e._v("https://download.slock.it/public/DAO/WhitePaper.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki"}},[e._v("5")]),e._v(" Segregated Witness: "),o("a",{attrs:{href:"https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki"}},[e._v("https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://arxiv.org/pdf/1510.02037v2.pdf"}},[e._v("6")]),e._v(" BitcoinNG: "),o("a",{attrs:{href:"https://arxiv.org/pdf/1510.02037v2.pdf"}},[e._v("https://arxiv.org/pdf/1510.02037v2.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://lightning.network/lightning-network-paper-DRAFT-0.5.pdf"}},[e._v("7")]),e._v(" Lightning Network: "),o("a",{attrs:{href:"https://lightning.network/lightning-network-paper-DRAFT-0.5.pdf"}},[e._v("https://lightning.network/lightning-network-paper-DRAFT-0.5.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/tendermint/tendermint/wiki"}},[e._v("8")]),e._v(" Tendermint: "),o("a",{attrs:{href:"https://github.com/tendermint/tendermint/wiki"}},[e._v("https://github.com/tendermint/tendermint/wiki")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://groups.csail.mit.edu/tds/papers/Lynch/jacm85.pdf"}},[e._v("9")]),e._v(" FLP Impossibility: "),o("a",{attrs:{href:"https://groups.csail.mit.edu/tds/papers/Lynch/jacm85.pdf"}},[e._v("https://groups.csail.mit.edu/tds/papers/Lynch/jacm85.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://blog.ethereum.org/2014/01/15/slasher-a-punitive-proof-of-stake-algorithm/"}},[e._v("10")]),e._v(" Slasher: "),o("a",{attrs:{href:"https://blog.ethereum.org/2014/01/15/slasher-a-punitive-proof-of-stake-algorithm/"}},[e._v("https://blog.ethereum.org/2014/01/15/slasher-a-punitive-proof-of-stake-algorithm/")])]),e._v(" "),o("li",[o("a",{attrs:{href:"http://pmg.csail.mit.edu/papers/osdi99.pdf"}},[e._v("11")]),e._v(" PBFT: "),o("a",{attrs:{href:"http://pmg.csail.mit.edu/papers/osdi99.pdf"}},[e._v("http://pmg.csail.mit.edu/papers/osdi99.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://bitshares.org/technology/delegated-proof-of-stake-consensus/"}},[e._v("12")]),e._v(" BitShares: "),o("a",{attrs:{href:"https://bitshares.org/technology/delegated-proof-of-stake-consensus/"}},[e._v("https://bitshares.org/technology/delegated-proof-of-stake-consensus/")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://www.stellar.org/papers/stellar-consensus-protocol.pdf"}},[e._v("13")]),e._v(" Stellar: "),o("a",{attrs:{href:"https://www.stellar.org/papers/stellar-consensus-protocol.pdf"}},[e._v("https://www.stellar.org/papers/stellar-consensus-protocol.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://interledger.org/rfcs/0001-interledger-architecture/"}},[e._v("14")]),e._v(" Interledger: "),o("a",{attrs:{href:"https://interledger.org/rfcs/0001-interledger-architecture/"}},[e._v("https://interledger.org/rfcs/0001-interledger-architecture/")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://blockstream.com/sidechains.pdf"}},[e._v("15")]),e._v(" Sidechains: "),o("a",{attrs:{href:"https://blockstream.com/sidechains.pdf"}},[e._v("https://blockstream.com/sidechains.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost/"}},[e._v("16")]),e._v(" Casper: "),o("a",{attrs:{href:"https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost/"}},[e._v("https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost/")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/tendermint/tmsp"}},[e._v("17")]),e._v(" TMSP: "),o("a",{attrs:{href:"https://github.com/tendermint/tmsp"}},[e._v("https://github.com/tendermint/tmsp")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/ethereum/EIPs/issues/53"}},[e._v("18")]),e._v(" Ethereum Sharding: "),o("a",{attrs:{href:"https://github.com/ethereum/EIPs/issues/53"}},[e._v("https://github.com/ethereum/EIPs/issues/53")])]),e._v(" "),o("li",[o("a",{attrs:{href:"http://www.ds.ewi.tudelft.nl/fileadmin/pds/papers/PerformanceAnalysisOfLibswift.pdf"}},[e._v("19")]),e._v(" LibSwift: "),o("a",{attrs:{href:"http://www.ds.ewi.tudelft.nl/fileadmin/pds/papers/PerformanceAnalysisOfLibswift.pdf"}},[e._v("http://www.ds.ewi.tudelft.nl/fileadmin/pds/papers/PerformanceAnalysisOfLibswift.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf"}},[e._v("20")]),e._v(" DLS: "),o("a",{attrs:{href:"http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf"}},[e._v("http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://en.bitcoin.it/wiki/Thin_Client_Security"}},[e._v("21")]),e._v(" Thin Client Security: "),o("a",{attrs:{href:"https://en.bitcoin.it/wiki/Thin_Client_Security"}},[e._v("https://en.bitcoin.it/wiki/Thin_Client_Security")])]),e._v(" "),o("li",[o("a",{attrs:{href:"http://vitalik.ca/files/mauve_paper.html"}},[e._v("22")]),e._v(" Ethereum 2.0 Mauve Paper: "),o("a",{attrs:{href:"http://vitalik.ca/files/mauve_paper.html"}},[e._v("http://vitalik.ca/files/mauve_paper.html")])])]),e._v(" "),o("h4",{attrs:{id:"links-nao-classificados"}},[e._v("Links não classificados")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"https://www.docdroid.net/ec7xGzs/314477721-ethereum-platform-review-opportunities-and-challenges-for-private-and-consortium-blockchains.pdf.html"}},[e._v("https://www.docdroid.net/ec7xGzs/314477721-ethereum-platform-review-opportunities-and-challenges-for-private-and-consortium-blockchains.pdf.html")])])])])}]}},542:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("toc-page",{attrs:{"toc-visible":e.whitepaperTocVisible}},[o("page-nav",{slot:"nav"}),e._v(" "),o("ko"===e.$route.params.locale?"text-ko":"pt"===e.$route.params.locale?"text-pt":"zh-CN"===e.$route.params.locale?"text-zh-cn":"text-en-us")],1)},staticRenderFns:[]}},544:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("h1",{attrs:{id:"cosmos"}},[e._v("Cosmos")]),e._v(" "),o("p",[o("strong",[e._v("A Network of Distributed Ledgers")])]),e._v(" "),o("p",[e._v("Jae Kwon "),o("a",{attrs:{href:"mailto:jae@tendermint.com"}},[e._v("jae@tendermint.com")]),o("br"),e._v("\nEthan Buchman "),o("a",{attrs:{href:"mailto:ethan@tendermint.com"}},[e._v("ethan@tendermint.com")])]),e._v(" "),o("p",[e._v("For discussions, "),o("a",{attrs:{href:"https://cosmos.rocket.chat"}},[e._v("join our Rocket")]),e._v("!")]),e._v(" "),o("p",[o("em",[e._v("NOTE: If you can read this on GitHub, then we’re still actively developing this\ndocument.  Please check regularly for updates!")])]),e._v(" "),o("p"),o("div",{staticClass:"minimal-toc"},[o("ul",[o("li",[o("a",{attrs:{href:"#introduction"}},[e._v("Introduction")])]),o("li",[o("a",{attrs:{href:"#tendermint"}},[e._v("Tendermint")]),o("ul",[o("li",[o("a",{attrs:{href:"#validators"}},[e._v("Validators")])]),o("li",[o("a",{attrs:{href:"#consensus"}},[e._v("Consensus")])]),o("li",[o("a",{attrs:{href:"#light-clients"}},[e._v("Light Clients")])]),o("li",[o("a",{attrs:{href:"#preventing-attacks"}},[e._v("Preventing Attacks")])]),o("li",[o("a",{attrs:{href:"#abci"}},[e._v("ABCI")])])])]),o("li",[o("a",{attrs:{href:"#cosmos-overview"}},[e._v("Cosmos Overview")]),o("ul",[o("li",[o("a",{attrs:{href:"#tendermint-bft"}},[e._v("Tendermint-BFT")])]),o("li",[o("a",{attrs:{href:"#governance"}},[e._v("Governance")])])])]),o("li",[o("a",{attrs:{href:"#the-hub-and-zones"}},[e._v("The Hub and Zones")]),o("ul",[o("li",[o("a",{attrs:{href:"#the-hub"}},[e._v("The Hub")])]),o("li",[o("a",{attrs:{href:"#the-zones"}},[e._v("The Zones")])])])]),o("li",[o("a",{attrs:{href:"#inter-blockchain-communication-ibc"}},[e._v("Inter-blockchain Communication (IBC)")])]),o("li",[o("a",{attrs:{href:"#use-cases"}},[e._v("Use Cases")]),o("ul",[o("li",[o("a",{attrs:{href:"#distributed-exchange"}},[e._v("Distributed Exchange")])]),o("li",[o("a",{attrs:{href:"#bridging-to-other-cryptocurrencies"}},[e._v("Bridging to Other Cryptocurrencies")]),o("ul",[o("li",[o("a",{attrs:{href:"#sending-tokens-to-the-cosmos-hub"}},[e._v("Sending Tokens to the Cosmos Hub")])]),o("li",[o("a",{attrs:{href:"#withdrawing-tokens-from-cosmos-hub"}},[e._v("Withdrawing Tokens from Cosmos Hub")])]),o("li",[o("a",{attrs:{href:"#total-accountability-of-bridge-zones"}},[e._v("Total Accountability of Bridge Zones")])])])]),o("li",[o("a",{attrs:{href:"#ethereum-scaling"}},[e._v("Ethereum Scaling")])]),o("li",[o("a",{attrs:{href:"#multi-application-integration"}},[e._v("Multi-Application Integration")])]),o("li",[o("a",{attrs:{href:"#network-partition-mitigation"}},[e._v("Network Partition Mitigation")])]),o("li",[o("a",{attrs:{href:"#federated-name-resolution-system"}},[e._v("Federated Name Resolution System")])])])]),o("li",[o("a",{attrs:{href:"#issuance-and-incentives"}},[e._v("Issuance and Incentives")]),o("ul",[o("li",[o("a",{attrs:{href:"#the-atom-token"}},[e._v("The Atom Token")]),o("ul",[o("li",[o("a",{attrs:{href:"#fundraiser"}},[e._v("Fundraiser")])])])]),o("li",[o("a",{attrs:{href:"#limitations-on-the-number-of-validators"}},[e._v("Limitations on the Number of Validators")])]),o("li",[o("a",{attrs:{href:"#becoming-a-validator-after-genesis-day"}},[e._v("Becoming a Validator After Genesis Day")])]),o("li",[o("a",{attrs:{href:"#penalties-for-validators"}},[e._v("Penalties for Validators")])]),o("li",[o("a",{attrs:{href:"#transaction-fees"}},[e._v("Transaction Fees")])]),o("li",[o("a",{attrs:{href:"#incentivizing-hackers"}},[e._v("Incentivizing Hackers")])]),o("li",[o("a",{attrs:{href:"#governance-specification"}},[e._v("Governance Specification")])]),o("li",[o("a",{attrs:{href:"#parameter-change-proposal"}},[e._v("Parameter Change Proposal")])]),o("li",[o("a",{attrs:{href:"#bounty-proposal"}},[e._v("Bounty Proposal")])]),o("li",[o("a",{attrs:{href:"#text-proposal"}},[e._v("Text Proposal")])])])]),o("li",[o("a",{attrs:{href:"#roadmap"}},[e._v("Roadmap")])]),o("li",[o("a",{attrs:{href:"#related-work"}},[e._v("Related Work")]),o("ul",[o("li",[o("a",{attrs:{href:"#consensus-systems"}},[e._v("Consensus Systems")]),o("ul",[o("li",[o("a",{attrs:{href:"#classic-byzantine-fault-tolerance"}},[e._v("Classic Byzantine Fault Tolerance")])]),o("li",[o("a",{attrs:{href:"#bitshares-delegated-stake"}},[e._v("BitShares delegated stake")])]),o("li",[o("a",{attrs:{href:"#stellar"}},[e._v("Stellar")])]),o("li",[o("a",{attrs:{href:"#bitcoinng"}},[e._v("BitcoinNG")])]),o("li",[o("a",{attrs:{href:"#casper"}},[e._v("Casper")])])])]),o("li",[o("a",{attrs:{href:"#horizontal-scaling"}},[e._v("Horizontal Scaling")]),o("ul",[o("li",[o("a",{attrs:{href:"#interledger-protocol"}},[e._v("Interledger Protocol")])]),o("li",[o("a",{attrs:{href:"#sidechains"}},[e._v("Sidechains")])]),o("li",[o("a",{attrs:{href:"#ethereum-scalability-efforts"}},[e._v("Ethereum Scalability Efforts")]),o("ul",[o("li",[o("a",{attrs:{href:"#cosmos-vs-ethereum-20-mauve"}},[e._v("Cosmos vs Ethereum 2.0 Mauve")])])])])])]),o("li",[o("a",{attrs:{href:"#general-scaling"}},[e._v("General Scaling")]),o("ul",[o("li",[o("a",{attrs:{href:"#lightning-network"}},[e._v("Lightning Network")])]),o("li",[o("a",{attrs:{href:"#segregated-witness"}},[e._v("Segregated Witness")])])])])])]),o("li",[o("a",{attrs:{href:"#appendix"}},[e._v("Appendix")]),o("ul",[o("li",[o("a",{attrs:{href:"#fork-accountability"}},[e._v("Fork Accountability")])]),o("li",[o("a",{attrs:{href:"#tendermint-consensus"}},[e._v("Tendermint Consensus")])]),o("li",[o("a",{attrs:{href:"#tendermint-light-clients"}},[e._v("Tendermint Light Clients")])]),o("li",[o("a",{attrs:{href:"#preventing-long-range-attacks"}},[e._v("Preventing Long Range Attacks")])]),o("li",[o("a",{attrs:{href:"#overcoming-forks-and-censorship-attacks"}},[e._v("Overcoming Forks and Censorship Attacks")])]),o("li",[o("a",{attrs:{href:"#abci-specification"}},[e._v("ABCI Specification")]),o("ul",[o("li",[o("a",{attrs:{href:"#appendtx"}},[e._v("AppendTx")])]),o("li",[o("a",{attrs:{href:"#checktx"}},[e._v("CheckTx")])]),o("li",[o("a",{attrs:{href:"#commit"}},[e._v("Commit")])]),o("li",[o("a",{attrs:{href:"#query"}},[e._v("Query")])]),o("li",[o("a",{attrs:{href:"#flush"}},[e._v("Flush")])]),o("li",[o("a",{attrs:{href:"#info"}},[e._v("Info")])]),o("li",[o("a",{attrs:{href:"#setoption"}},[e._v("SetOption")])]),o("li",[o("a",{attrs:{href:"#initchain"}},[e._v("InitChain")])]),o("li",[o("a",{attrs:{href:"#beginblock"}},[e._v("BeginBlock")])]),o("li",[o("a",{attrs:{href:"#endblock"}},[e._v("EndBlock")])])])]),o("li",[o("a",{attrs:{href:"#ibc-packet-delivery-acknowledgement"}},[e._v("IBC Packet Delivery Acknowledgement")])]),o("li",[o("a",{attrs:{href:"#merkle-tree-proof-specification"}},[e._v("Merkle Tree & Proof Specification")]),o("ul",[o("li",[o("a",{attrs:{href:"#simple-tree"}},[e._v("Simple Tree")])]),o("li",[o("a",{attrs:{href:"#iavl-tree"}},[e._v("IAVL+ Tree")])])])]),o("li",[o("a",{attrs:{href:"#transaction-types"}},[e._v("Transaction Types")]),o("ul",[o("li",[o("a",{attrs:{href:"#ibcblockcommittx"}},[e._v("IBCBlockCommitTx")])]),o("li",[o("a",{attrs:{href:"#ibcpackettx"}},[e._v("IBCPacketTx")])])])])])]),o("li",[o("a",{attrs:{href:"#acknowledgements"}},[e._v("Acknowledgements")])]),o("li",[o("a",{attrs:{href:"#citations"}},[e._v("Citations")]),o("ul",[o("li",[o("a",{attrs:{href:"#unsorted-links"}},[e._v("Unsorted links")])])])])])]),o("p"),e._v(" "),o("h2",{attrs:{id:"introduction"}},[e._v("Introduction")]),e._v(" "),o("p",[e._v("The combined success of the open-source ecosystem, decentralized\nfile-sharing, and public cryptocurrencies has inspired an understanding that\ndecentralized internet protocols can be used to radically improve socio-economic\ninfrastructure.  We have seen specialized blockchain applications like Bitcoin\n"),o("a",{attrs:{href:"https://bitcoin.org/bitcoin.pdf"}},[e._v("[1]")]),e._v(" (a cryptocurrency), Zerocash "),o("a",{attrs:{href:"http://zerocash-project.org/paper"}},[e._v("[2]")]),e._v(" (a cryptocurrency for\nprivacy), and generalized smart contract platforms such as Ethereum "),o("a",{attrs:{href:"https://github.com/ethereum/wiki/wiki/White-Paper"}},[e._v("[3]")]),e._v(",\nwith countless distributed applications for the Etherium Virtual Machine (EVM) such as Augur (a prediction\nmarket) and TheDAO "),o("a",{attrs:{href:"https://download.slock.it/public/DAO/WhitePaper.pdf"}},[e._v("[4]")]),e._v(" (an investment club).")]),e._v(" "),o("p",[e._v("To date, however, these blockchains have suffered from a number of drawbacks,\nincluding their gross energy inefficiency, poor or limited performance, and\nimmature governance mechanisms.  Proposals to scale\nBitcoin’s transaction throughput, such as Segregated-Witness "),o("a",{attrs:{href:"https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki"}},[e._v("[5]")]),e._v(" and\nBitcoinNG "),o("a",{attrs:{href:"https://arxiv.org/pdf/1510.02037v2.pdf"}},[e._v("[6]")]),e._v(", are vertical scaling solutions that remain\nlimited by the capacity of a single physical machine, in order to ensure the\nproperty of complete auditability.  The Lightning Network "),o("a",{attrs:{href:"https://lightning.network/lightning-network-paper-DRAFT-0.5.pdf"}},[e._v("[7]")]),e._v(" can help\nscale Bitcoin transaction volume by leaving some transactions off the ledger\ncompletely, and is well suited for micropayments and privacy-preserving payment\nrails, but may not be suitable for more generalized scaling needs.")]),e._v(" "),o("p",[e._v("An ideal solution is one that allows multiple parallel blockchains to\ninteroperate while retaining their security properties. This has proven\ndifficult, if not impossible, with proof-of-work. Merged mining, for instance,\nallows the work done to secure a parent chain to be reused on a child chain,\nbut transactions must still be validated, in order, by each node, and a\nmerge-mined blockchain is vulnerable to attack if a majority of the hashing\npower on the parent is not actively merge-mining the child.  An academic review\nof "),o("a",{attrs:{href:"http://vukolic.com/iNetSec_2015.pdf"}},[e._v("alternative blockchain network\narchitectures")]),e._v(" is provided for additional\ncontext, and we provide summaries of other proposals and their drawbacks in\n"),o("a",{attrs:{href:"#related-work"}},[e._v("Related Work")]),e._v(".")]),e._v(" "),o("p",[e._v("Here we present Cosmos, a novel blockchain network architecture that addresses all\nof these problems.  Cosmos is a network of many independent blockchains, called\nzones.  The zones are powered by Tendermint Core "),o("a",{attrs:{href:"https://github.com/tendermint/tendermint/wiki"}},[e._v("[8]")]),e._v(", which provides a\nhigh-performance, consistent, secure\n"),o("a",{attrs:{href:"https://blog.cosmos.network/tendermint-vs-pbft-12e9f294c9ab"}},[e._v("PBFT-like")]),e._v(" consensus engine,\nwhere strict "),o("a",{attrs:{href:"#fork-accountability"}},[e._v("fork-accountability")]),e._v(" guarantees hold over\nthe behaviour of malicious actors.  Tendermint Core’s BFT consensus algorithm is\nwell suited for scaling public proof-of-stake blockchains.")]),e._v(" "),o("p",[e._v("The first zone on Cosmos is called the Cosmos Hub. The Cosmos Hub is a\nmulti-asset proof-of-stake cryptocurrency with a simple governance mechanism\nwhich enables the network to adapt and upgrade.  In addition, the Cosmos Hub can be\nextended by connecting other zones.")]),e._v(" "),o("p",[e._v("The hub and zones of the Cosmos network communicate with each other via an\ninter-blockchain communication (IBC) protocol, a kind of virtual UDP or TCP for\nblockchains.  Tokens can be transferred from one zone to another securely and\nquickly without the need for exchange liquidity between zones.  Instead, all\ninter-zone token transfers go through the Cosmos Hub, which keeps track of the\ntotal amount of tokens held by each zone.  The hub isolates each zone from the\nfailure of other zones.  Because anyone can connect a new zone to the Cosmos Hub,\nzones allow for future-compatibility with new blockchain innovations.")]),e._v(" "),o("h2",{attrs:{id:"tendermint"}},[e._v("Tendermint")]),e._v(" "),o("p",[e._v("In this section we describe the Tendermint consensus protocol and the interface\nused to build applications with it. For more details, see the "),o("a",{attrs:{href:"#appendix"}},[e._v("appendix")]),e._v(".")]),e._v(" "),o("h3",{attrs:{id:"validators"}},[e._v("Validators")]),e._v(" "),o("p",[e._v("In classical Byzantine fault-tolerant (BFT) algorithms, each node has the same\nweight.  In Tendermint, nodes have a non-negative amount of "),o("em",[e._v("voting power")]),e._v(", and\nnodes that have positive voting power are called "),o("em",[e._v("validators")]),e._v(".  Validators\nparticipate in the consensus protocol by broadcasting cryptographic signatures,\nor "),o("em",[e._v("votes")]),e._v(", to agree upon the next block.")]),e._v(" "),o("p",[e._v("Validators’ voting powers are determined at genesis, or are changed\ndeterministically by the blockchain, depending on the application.  For example,\nin a proof-of-stake application such as the Cosmos Hub, the voting power may be\ndetermined by the amount of staking tokens bonded as collateral.")]),e._v(" "),o("p",[o("em",[e._v("NOTE: Fractions like ⅔ and ⅓ refer to fractions of the total voting power,\nnever the total number of validators, unless all the validators have equal\nweight. >⅔ means “more than ⅔”, ≥⅓ means “at least ⅓”.")])]),e._v(" "),o("h3",{attrs:{id:"consensus"}},[e._v("Consensus")]),e._v(" "),o("p",[e._v("Tendermint is a partially synchronous BFT consensus protocol derived from the\nDLS consensus algorithm "),o("a",{attrs:{href:"http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf"}},[e._v("[20]")]),e._v(". Tendermint is notable for its simplicity,\nperformance, and "),o("a",{attrs:{href:"#fork-accountability"}},[e._v("fork-accountability")]),e._v(".  The protocol\nrequires a fixed known set of validators, where each validator is identified by\ntheir public key.  Validators attempt to come to consensus on one block at a time,\nwhere a block is a list of transactions.  Voting for consensus on a block proceeds in\nrounds. Each round has a round-leader, or proposer, who proposes a block. The\nvalidators then vote, in stages, on whether to accept the proposed block\nor move on to the next round. The proposer for a round is chosen\ndeterministically from the ordered list of validators, in proportion to their\nvoting power.")]),e._v(" "),o("p",[e._v("The full details of the protocol are described\n"),o("a",{attrs:{href:"https://github.com/tendermint/tendermint/wiki/Byzantine-Consensus-Algorithm"}},[e._v("here")]),e._v(".")]),e._v(" "),o("p",[e._v("Tendermint’s security derives from its use of optimal Byzantine fault-tolerance\nvia super-majority (>⅔) voting and a locking mechanism.  Together, they ensure\nthat:")]),e._v(" "),o("ul",[o("li",[e._v("≥⅓ voting power must be Byzantine to cause a violation of safety, where more\nthan two values are committed.")]),e._v(" "),o("li",[e._v("if any set of validators ever succeeds in violating safety, or even attempts\nto do so, they can be identified by the protocol.  This includes both voting\nfor conflicting blocks and broadcasting unjustified votes.")])]),e._v(" "),o("p",[e._v("Despite its strong guarantees, Tendermint provides exceptional performance.  In\nbenchmarks of 64 nodes distributed across 7 datacenters on 5 continents, on\ncommodity cloud instances, Tendermint consensus can process thousands of\ntransactions per second, with commit latencies on the order of one to two\nseconds.  Notably, performance of well over a thousand transactions per second\nis maintained even in harsh adversarial conditions, with validators crashing or\nbroadcasting maliciously crafted votes.  See the figure below for details.")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://raw.githubusercontent.com/gnuclear/atom-whitepaper/master/images/tendermint_throughput_blocksize.png",alt:"Figure of Tendermint throughput performance"}})]),e._v(" "),o("h3",{attrs:{id:"light-clients"}},[e._v("Light Clients")]),e._v(" "),o("p",[e._v("A major benefit of Tendermint’s consensus algorithm is simplified light client\nsecurity, making it an ideal candidate for mobile and internet-of-things use\ncases.  While a Bitcoin light client must sync chains of block headers and find\nthe one with the most proof of work, Tendermint light clients need only to keep\nup with changes to the validator set, and then verify the >⅔ PreCommits\nin the latest block to determine the latest state.")]),e._v(" "),o("p",[e._v("Succinct light client proofs also enable "),o("a",{attrs:{href:"#inter-blockchain-communication-ibc"}},[e._v("inter-blockchain\ncommunication")]),e._v(".")]),e._v(" "),o("h3",{attrs:{id:"preventing-attacks"}},[e._v("Preventing Attacks")]),e._v(" "),o("p",[e._v("Tendermint has protective measures for preventing certain notable\nattacks, like "),o("a",{attrs:{href:"#preventing-long-range-attacks"}},[e._v("long-range-nothing-at-stake double\nspends")]),e._v(" and\n"),o("a",{attrs:{href:"#overcoming-forks-and-censorship-attacks"}},[e._v("censorship")]),e._v(". These are discussed more\nfully in the "),o("a",{attrs:{href:"#appendix"}},[e._v("appendix")]),e._v(".")]),e._v(" "),o("h3",{attrs:{id:"abci"}},[e._v("ABCI")]),e._v(" "),o("p",[e._v("The Tendermint consensus algorithm is implemented in a program called Tendermint\nCore.  Tendermint Core is an application-agnostic “consensus engine” that can\nturn any deterministic blackbox application into a distributedly replicated\nblockchain. Tendermint Core connects to blockchain\napplications via the Application Blockchain Interface (ABCI) "),o("a",{attrs:{href:"https://github.com/tendermint/abci"}},[e._v("[17]")]),e._v(". Thus, ABCI\nallows for blockchain applications to be programmed in any language, not just\nthe programming language that the consensus engine is written in.  Additionally,\nABCI makes it possible to easily swap out the consensus layer of any existing\nblockchain stack.")]),e._v(" "),o("p",[e._v("We draw an analogy with the well-known cryptocurrency Bitcoin. Bitcoin is a\ncryptocurrency blockchain where each node maintains a fully audited Unspent\nTransaction Output (UTXO) database. If one wanted to create a Bitcoin-like\nsystem on top of ABCI, Tendermint Core would be responsible for")]),e._v(" "),o("ul",[o("li",[e._v("Sharing blocks and transactions between nodes")]),e._v(" "),o("li",[e._v("Establishing a canonical/immutable order of transactions (the blockchain)")])]),e._v(" "),o("p",[e._v("Meanwhile, the ABCI application would be responsible for")]),e._v(" "),o("ul",[o("li",[e._v("Maintaining the UTXO database")]),e._v(" "),o("li",[e._v("Validating cryptographic signatures of transactions")]),e._v(" "),o("li",[e._v("Preventing transactions from spending non-existent funds")]),e._v(" "),o("li",[e._v("Allowing clients to query the UTXO database")])]),e._v(" "),o("p",[e._v("Tendermint is able to decompose the blockchain design by offering a very simple\nAPI between the application process and consensus process.")]),e._v(" "),o("h2",{attrs:{id:"cosmos-overview"}},[e._v("Cosmos Overview")]),e._v(" "),o("p",[e._v("Cosmos is a network of independent parallel blockchains that are each powered by\nclassical BFT consensus algorithms like Tendermint\n"),o("a",{attrs:{href:"http://github.com/tendermint/tendermint"}},[e._v("1")]),e._v(".")]),e._v(" "),o("p",[e._v("The first blockchain in this network will be the Cosmos Hub.  The Cosmos Hub\nconnects to many other blockchains (or "),o("em",[e._v("zones")]),e._v(") via a novel inter-blockchain\ncommunication protocol.  The Cosmos Hub tracks numerous token types and keeps\nrecord of the total number of tokens in each connected zone.  Tokens can be\ntransferred from one zone to another securely and quickly without the need for\na liquid exchange between zones, because all inter-zone coin transfers go\nthrough the Cosmos Hub.")]),e._v(" "),o("p",[e._v("This architecture solves many problems that the blockchain space faces today,\nsuch as application interoperability, scalability, and seamless upgradability.\nFor example, zones derived from Bitcoind, Go-Ethereum, CryptoNote, ZCash, or any\nblockchain system can be plugged into the Cosmos Hub.  These zones allow Cosmos\nto scale infinitely to meet global transaction demand.  Zones are also a great\nfit for a distributed exchange, which will be supported as well.")]),e._v(" "),o("p",[e._v("Cosmos is not just a single distributed ledger, and the Cosmos Hub isn’t a\nwalled garden or the center of its universe.  We are designing a protocol for\nan open network of distributed ledgers that can serve as a new foundation for\nfuture financial systems, based on principles of cryptography, sound economics,\nconsensus theory, transparency, and accountability.")]),e._v(" "),o("h3",{attrs:{id:"tendermint-bft"}},[e._v("Tendermint-BFT")]),e._v(" "),o("p",[e._v("The Cosmos Hub is the first public blockchain in the Cosmos Network, powered by\nTendermint’s BFT consensus algorithm.  The Tendermint open-source project was\nborn in 2014 to address the speed, scalability, and environmental issues of\nBitcoin’s proof-of-work consensus algorithm.  By using and improving upon\nproven BFT algorithms developed at MIT in 1988 "),o("a",{attrs:{href:"http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf"}},[e._v("[20]")]),e._v(", the Tendermint\nteam was the first to conceptually demonstrate a proof-of-stake cryptocurrency\nthat addresses the nothing-at-stake problem suffered by first-generation\nproof-of-stake cryptocurrencies such as NXT and BitShares1.0.")]),e._v(" "),o("p",[e._v("Today, practically all Bitcoin mobile wallets use trusted servers to provide\nthem with transaction verification.  This is because proof-of-work requires\nwaiting for many confirmations before a transaction can be considered\nirreversibly committed.  Double-spend attacks have already been demonstrated on\nservices like CoinBase.")]),e._v(" "),o("p",[e._v("Unlike other blockchain consensus systems, Tendermint offers instant and\nprovably secure mobile-client payment verification. Since the Tendermint is\ndesigned to never fork at all, mobile wallets can receive instant transaction\nconfirmation, which makes trustless and practical payments a reality on\nsmartphones.  This has significant ramifications for Internet of Things applications as well.")]),e._v(" "),o("p",[e._v("Validators in Cosmos have a similar role to Bitcoin miners, but instead use\ncryptographic signatures to vote. Validators are secure, dedicated machines\nthat are responsible for committing blocks.  Non-validators can delegate their\nstaking tokens (called “atoms”) to any validator to earn a portion of block fees\nand atom rewards, but they incur the risk of getting punished (slashed) if the\ndelegate validator gets hacked or violates the protocol.  The proven safety\nguarantees of Tendermint BFT consensus, and the collateral deposit of\nstakeholders–validators and delegators–provide provable, quantifiable\nsecurity for nodes and light clients.")]),e._v(" "),o("h3",{attrs:{id:"governance"}},[e._v("Governance")]),e._v(" "),o("p",[e._v("Distributed public ledgers should have a constitution and a governance system.\nBitcoin relies on the Bitcoin Foundation and mining to\ncoordinate upgrades, but this is a slow process.  Ethereum split into ETH and\nETC after hard-forking to address TheDAO hack, largely because there was no\nprior social contract nor mechanism for making such decisions.")]),e._v(" "),o("p",[e._v("Validators and delegators on the Cosmos Hub can vote on proposals that can\nchange preset parameters of the system automatically (such as the block gas\nlimit), coordinate upgrades, as well as vote on amendments to the human-readable\nconstitution that govern the policies of the Cosmos Hub.  The constitution\nallows for cohesion among the stakeholders on issues such as theft\nand bugs (such as TheDAO incident), allowing for quicker and cleaner resolution.")]),e._v(" "),o("p",[e._v("Each zone can also have their own constitution and governance mechanism as well.\nFor example, the Cosmos Hub could have a constitution that enforces immutability\nat the Hub (no roll-backs, save for bugs of the Cosmos Hub node implementation),\nwhile each zone can set their own policies regarding roll-backs.")]),e._v(" "),o("p",[e._v("By enabling interoperability among differing policy zones, the Cosmos network\ngives its users ultimate freedom and potential for permissionless\nexperimentation.")]),e._v(" "),o("h2",{attrs:{id:"the-hub-and-zones"}},[e._v("The Hub and Zones")]),e._v(" "),o("p",[e._v("Here we describe a novel model of decentralization and scalability.  Cosmos is a\nnetwork of many blockchains powered by Tendermint.  While existing proposals aim\nto create a “single blockchain” with total global transaction ordering, Cosmos\npermits many blockchains to run concurrently with one another while retaining\ninteroperability.")]),e._v(" "),o("p",[e._v("At the basis, the Cosmos Hub manages many independent blockchains called “zones”\n(sometimes referred to as “shards”, in reference to the database scaling\ntechnique known as “sharding”).  A constant stream of recent block commits from\nzones posted on the Hub allows the Hub to keep up with the state of each zone.\nLikewise, each zone keeps up with the state of the Hub (but zones do not keep up\nwith each other except indirectly through the Hub).  Packets of information are\nthen communicated from one zone to another by posting Merkle-proofs as evidence\nthat the information was sent and received.  This mechanism is called\ninter-blockchain communication, or IBC for short.")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://raw.githubusercontent.com/gnuclear/atom-whitepaper/master/images/hub_and_zones.png",alt:"Figure of hub and zonesacknowledgement"}})]),e._v(" "),o("p",[e._v("Any of the zones can themselves be hubs to form an acyclic graph, but\nfor the sake of clarity we will only describe the simple configuration where\nthere is only one hub, and many non-hub zones.")]),e._v(" "),o("h3",{attrs:{id:"the-hub"}},[e._v("The Hub")]),e._v(" "),o("p",[e._v('The Cosmos Hub is a blockchain that hosts a multi-asset distributed ledger,\nwhere tokens can be held by individual users or by zones themselves.  These\ntokens can be moved from one zone to another in a special IBC packet called a\n"coin packet".  The hub is responsible for preserving the global invariance of\nthe total amount of each token across the zones. IBC coin packet transactions\nmust be committed by the sender, hub, and receiver blockchains.')]),e._v(" "),o("p",[e._v("Since the Cosmos Hub acts as the central ledger for the whole\nsystem, the security of the Hub is of paramount importance.  While each\nzone may be a Tendermint blockchain that is secured by as few as 4 (or even\nless if BFT consensus is not needed), the Hub must be secured by a globally\ndecentralized set of validators that can withstand the most severe attack\nscenarios, such as a continental network partition or a nation-state sponsored\nattack.")]),e._v(" "),o("h3",{attrs:{id:"the-zones"}},[e._v("The Zones")]),e._v(" "),o("p",[e._v('A Cosmos zone is an independent blockchain that exchanges IBC messages with the\nHub.  From the Hub’s perspective, a zone is a multi-asset dynamic-membership\nmulti-signature account that can send and receive tokens using IBC packets. Like\na cryptocurrency account, a zone cannot transfer more tokens than it has, but\ncan receive tokens from others who have them. A zone may be designated as an\n"source" of one or more token types, granting it the power to inflate that token\nsupply.')]),e._v(" "),o("p",[e._v("Atoms of the Cosmos Hub may be staked by validators of a zone connected to the\nHub.  While double-spend attacks on these zones would result in the slashing of\natoms with Tendermint’s fork-accountability, a zone where >⅔ of the voting power\nare Byzantine can commit invalid state.  The Cosmos Hub does not verify or\nexecute transactions committed on other zones, so it is the responsibility of\nusers to send tokens to zones that they trust.  In the future, the Cosmos Hub’s\ngovernance system may pass Hub improvement proposals that account for zone\nfailures.  For example, outbound token transfers from some (or all) zones may be\nthrottled to allow for the emergency circuit-breaking of zones (a temporary halt\nof token transfers) when an attack is detected.")]),e._v(" "),o("h2",{attrs:{id:"inter-blockchain-communication-ibc"}},[e._v("Inter-blockchain Communication (IBC)")]),e._v(" "),o("p",[e._v('Now we look at how the Hub and zones communicate with each other.  For example, if\nthere are three blockchains, “Zone1”, “Zone2”, and “Hub”, and we wish for\n"Zone1" to produce a packet destined for “Zone2” going through “Hub”. To move a\npacket from one blockchain to another, a proof is posted on the\nreceiving chain. The proof states that the sending chain published a packet for the alleged\ndestination. For the receiving chain to check this proof, it must be able keep\nup with the sender’s block headers.  This mechanism is similar to that used by\nsidechains, which requires two interacting chains to be aware of one another via a\nbidirectional stream of proof-of-existence datagrams (transactions).')]),e._v(" "),o("p",[e._v("The IBC protocol can naturally be defined using two types of transactions: an\n"),o("code",{pre:!0},[e._v("IBCBlockCommitTx")]),e._v(" transaction, which allows a blockchain to prove to any\nobserver of its most recent block-hash, and an "),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(" transaction, which\nallows a blockchain to prove to any observer that the given packet was indeed\npublished by the sender’s application, via a Merkle-proof to the recent\nblock-hash.")]),e._v(" "),o("p",[e._v("By splitting the IBC mechanics into two separate transactions, we allow the\nnative fee market-mechanism of the receiving chain to determine which packets\nget committed (i.e. acknowledged), while allowing for complete freedom on the\nsending chain as to how many outbound packets are allowed.")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://raw.githubusercontent.com/gnuclear/atom-whitepaper/master/msc/ibc_without_ack.png",alt:"Figure of Zone1, Zone2, and Hub IBC withoutacknowledgement"}})]),e._v(" "),o("p",[e._v('In the example above, in order to update the block-hash of\n"Zone1" on “Hub” (or of “Hub” on “Zone2”), an '),o("code",{pre:!0},[e._v("IBCBlockCommitTx")]),e._v('\ntransaction must be posted on “Hub” with the block-hash of “Zone1” (or on\n"Zone2" with the block-hash of “Hub”).')]),e._v(" "),o("p",[o("em",[e._v("See "),o("a",{attrs:{href:"#ibcblockcommittx"}},[e._v("IBCBlockCommitTx")]),e._v(" and "),o("a",{attrs:{href:"#ibcpacketcommit"}},[e._v("IBCPacketTx")]),e._v("\nfor for more information on the two IBC transaction types.")])]),e._v(" "),o("h2",{attrs:{id:"use-cases"}},[e._v("Use Cases")]),e._v(" "),o("h3",{attrs:{id:"distributed-exchange"}},[e._v("Distributed Exchange")]),e._v(" "),o("p",[e._v("In the same way that Bitcoin is more secure by being a distributed,\nmass-replicated ledger, we can make exchanges less vulnerable to external and\ninternal hacks by running it on the blockchain.  We call this a distributed\nexchange.")]),e._v(" "),o("p",[e._v("What the cryptocurrency community calls a decentralized exchange today are\nbased on something called “atomic cross-chain” (AXC) transactions.  With an AXC\ntransaction, two users on two different chains can make two transfer\ntransactions that are committed together on both ledgers, or none at all (i.e.\natomically).  For example, two users can trade bitcoins for ether (or any two\ntokens on two different ledgers) using AXC transactions, even though Bitcoin\nand Ethereum are not connected to each other.  The benefit of running an\nexchange on AXC transactions is that neither users need to trust each other or\nthe trade-matching service.  The downside is that both parties need to be\nonline for the trade to occur.")]),e._v(" "),o("p",[e._v("Another type of decentralized exchange is a mass-replicated distributed\nexchange that runs on its own blockchain.  Users on this kind of exchange can\nsubmit a limit order and turn their computer off, and the trade can execute\nwithout the user being online.  The blockchain matches and completes the trade\non behalf of the trader.")]),e._v(" "),o("p",[e._v("A centralized exchange can create a deep orderbook of limit orders and thereby\nattract more traders.  Liquidity begets more liquidity in the exchange world,\nand so there is a strong network effect (or at least a winner-take-most effect)\nin the exchange business.  The current leader for cryptocurrency exchanges\ntoday is Poloniex with a 24-hour volume of $20M, and in second place is\nBitfinex with a 24-hour volume of $5M.  Given such strong network effects, it\nis unlikely for AXC-based decentralized exchanges to win volume over the\ncentralized exchanges.  For a decentralized exchange to compete with a\ncentralized exchange, it would need to support deep orderbooks with limit\norders.  Only a distributed exchange on a blockchain can provide that.")]),e._v(" "),o("p",[e._v("Tendermint provides additional benefits of faster transaction commits.  By\nprioritizing fast finality without sacrificing consistency, zones in Cosmos can\nfinalize transactions fast – for both exchange order transactions as well as\nIBC token transfers to and from other zones.")]),e._v(" "),o("p",[e._v("Given the state of cryptocurrency exchanges today, a great application for\nCosmos is the distributed exchange (aka the Cosmos DEX).  The transaction\nthroughput capacity as well as commit latency can be comparable to those of\ncentralized exchanges.  Traders can submit limit orders that can be executed\nwithout both parties having to be online.  And with Tendermint, the Cosmos hub,\nand IBC, traders can move funds in and out of the exchange to and from other\nzones with speed.")]),e._v(" "),o("h3",{attrs:{id:"bridging-to-other-cryptocurrencies"}},[e._v("Bridging to Other Cryptocurrencies")]),e._v(" "),o("p",[e._v('A privileged zone can act as the source of a bridged token of another\ncryptocurrency. A bridge is similar to the relationship between a\nCosmos hub and zone; both must keep up with the latest blocks of the\nother in order to verify proofs that tokens have moved from one to the other.  A\n"bridge-zone" on the Cosmos network keeps up with the Hub as well as the\nother cryptocurrency.  The indirection through the bridge-zone allows the logic of\nthe Hub to remain simple and agnostic to other blockchain consensus strategies\nsuch as Bitcoin’s proof-of-work mining.')]),e._v(" "),o("h4",{attrs:{id:"sending-tokens-to-the-cosmos-hub"}},[e._v("Sending Tokens to the Cosmos Hub")]),e._v(" "),o("p",[e._v("Each bridge-zone validator would run a Tendermint-powered blockchain with a special\nABCI bridge-app, but also a full-node of the “origin” blockchain.")]),e._v(" "),o("p",[e._v("When new blocks are mined on the origin, the bridge-zone validators will come\nto agreement on committed blocks by signing and sharing their respective local\nview of the origin’s blockchain tip.  When a bridge-zone receives payment on the\norigin (and sufficient confirmations were agreed to have been seen in the case\nof a PoW chain such as Ethereum or Bitcoin), a corresponding account is created\non the bridge-zone with that balance.")]),e._v(" "),o("p",[e._v("In the case of Ethereum, the bridge-zone can share the same validator-set as the\nCosmos Hub.  On the Ethereum side (the origin), a bridge-contract would allow\nether holders to send ether to the bridge-zone by sending it to the bridge-contract\non Ethereum.  Once ether is received by the bridge-contract, the ether cannot be\nwithdrawn unless an appropriate IBC packet is received by the bridge-contract from\nthe bridge-zone.  The bridge-contract tracks the validator-set of the bridge-zone, which\nmay be identical to the Cosmos Hub’s validator-set.")]),e._v(" "),o("p",[e._v("In the case of Bitcoin, the concept is similar except that instead of a single\nbridge-contract, each UTXO would be controlled by a threshold multisignature P2SH\npubscript.  Due to the limitations of the P2SH system, the signers cannot be\nidentical to the Cosmos Hub validator-set.")]),e._v(" "),o("h4",{attrs:{id:"withdrawing-tokens-from-cosmos-hub"}},[e._v("Withdrawing Tokens from Cosmos Hub")]),e._v(" "),o("p",[e._v("Ether on the bridge-zone (“bridged-ether”) can be transferred to and from the\nHub, and later be destroyed with a transaction that sends it to a particular\nwithdrawal address on Ethereum. An IBC packet proving that the transaction\noccurred on the bridge-zone can be posted to the Ethereum bridge-contract to\nallow the ether to be withdrawn.")]),e._v(" "),o("p",[e._v("In the case of Bitcoin, the restricted scripting system makes it difficult to\nmirror the IBC coin-transfer mechanism.  Each UTXO has its own independent\npubscript, so every UTXO must be migrated to a new UTXO when there is a change\nin the set of Bitcoin escrow signers. One solution is to compress and\ndecompress the UTXO-set as necessary to keep the total number of UTXOs down.")]),e._v(" "),o("h4",{attrs:{id:"total-accountability-of-bridge-zones"}},[e._v("Total Accountability of Bridge Zones")]),e._v(" "),o("p",[e._v("The risk of such a bridgeging contract is a rogue validator set.  ≥⅓ Byzantine\nvoting power could cause a fork, withdrawing ether from the bridge-contract on\nEthereum while keeping the bridged-ether on the bridge-zone. Worse, >⅔ Byzantine\nvoting power can steal ether outright from those who sent it to the\nbridge-contract by deviating from the original bridgeging logic of the bridge-zone.")]),e._v(" "),o("p",[e._v("It is possible to address these issues by designing the bridge to be totally\naccountable.  For example, all IBC packets, from the hub and the origin, might\nrequire acknowledgement by the bridge-zone in such a way that all state\ntransitions of the bridge-zone can be efficiently challenged and verified by\neither the hub or the origin’s bridge-contract.  The Hub and the origin should\nallow the bridge-zone validators to post collateral, and token transfers out of\nthe bridge-contract should be delayed (and collateral unbonding period\nsufficiently long) to allow for any challenges to be made by independent\nauditors.  We leave the design of the specification and implementation of this\nsystem open as a future Cosmos improvement proposal, to be passed by the Cosmos\nHub’s governance system.")]),e._v(" "),o("h3",{attrs:{id:"ethereum-scaling"}},[e._v("Ethereum Scaling")]),e._v(" "),o("p",[e._v("Solving the scaling problem is an open issue for Ethereum.  Currently,\nEthereum nodes process every single transaction and also store all the states.\n"),o("a",{attrs:{href:"https://docs.google.com/presentation/d/1CjD0W4l4-CwHKUvfF5Vlps76fKLEC6pIwu1a_kC_YRQ/mobilepresent?slide=id.gd284b9333_0_28"}},[e._v("link")]),e._v(".")]),e._v(" "),o("p",[e._v("Since Tendermint can commit blocks much faster than Ethereum’s proof-of-work,\nEVM zones powered by Tendermint consensus and operating on bridged-ether can\nprovide higher performance to Ethereum blockchains.  Additionally, though the\nCosmos Hub and IBC packet mechanics does not allow for arbitrary contract logic\nexecution per se, it can be used to coordinate token movements between Ethereum\ncontracts running on different zones, providing a foundation for token-centric\nEthereum scaling via sharding.")]),e._v(" "),o("h3",{attrs:{id:"multi-application-integration"}},[e._v("Multi-Application Integration")]),e._v(" "),o("p",[e._v("Cosmos zones run arbitrary application logic, which is defined at the beginning of the\nzone’s life and can potentially be updated over time by governance. Such flexibility\nallows Cosmos zones to act as bridges to other cryptocurrencies such as Ethereum or\nBitcoin, and it also permits derivatives of those blockchains, utilizing the\nsame codebase but with a different validator set and initial distribution. This\nallows many existing cryptocurrency frameworks, such as those of Ethereum,\nZerocash, Bitcoin, CryptoNote and so on, to be used with Tendermint Core,\nwhich is a higher performance consensus engine, on a common network, opening tremendous\nopportunity for interoperability across platforms.  Furthermore, as a\nmulti-asset blockchain, a single transaction may contain multiple inputs and\noutputs, where each input can be any token type, enabling Cosmos to serve\ndirectly as a platform for decentralized exchange, though orders are assumed to\nbe matched via other platforms. Alternatively, a zone can serve as a distributed\nfault-tolerant exchange (with orderbooks), which can be a strict improvement\nover existing centralized cryptocurrency exchanges which tend to get hacked over\ntime.")]),e._v(" "),o("p",[e._v("Zones can also serve as blockchain-backed versions of enterprise and government\nsystems, where pieces of a particular service that are traditionally run by an\norganization or group of organizations are instead run as a ABCI application on\na certain zone, which allows it to inherit the security and interoperability of the\npublic Cosmos network without sacrificing control over the underlying service.\nThus, Cosmos may offer the best of both worlds for organizations looking to\nutilize blockchain technology but who are wary of relinquishing control completely\nto a distributed third party.")]),e._v(" "),o("h3",{attrs:{id:"network-partition-mitigation"}},[e._v("Network Partition Mitigation")]),e._v(" "),o("p",[e._v("Some claim that a major problem with consistency-favouring consensus algorithms\nlike Tendermint is that any network partition which causes there to be no single\npartition with >⅔ voting power (e.g. ≥⅓ going offline) will halt consensus\naltogether. The Cosmos architecture can help mitigate this problem by using a global\nhub with regional autonomous zones, where voting power for each zone are\ndistributed based on a common geographic region.  For instance, a common\nparadigm may be for individual cities, or regions, to operate their own zones\nwhile sharing a common hub (e.g. the Cosmos Hub), enabling municipal activity to\npersist in the event that the hub halts due to a temporary network partition.\nNote that this allows real geological, political, and network-topological\nfeatures to be considered in designing robust federated fault-tolerant systems.")]),e._v(" "),o("h3",{attrs:{id:"federated-name-resolution-system"}},[e._v("Federated Name Resolution System")]),e._v(" "),o("p",[e._v("NameCoin was one of the first blockchains to attempt to solve the\nname-resolution problem by adapting the Bitcoin blockchain.  Unfortunately there\nhave been several issues with this approach.")]),e._v(" "),o("p",[e._v("With Namecoin, we can verify that, for example, "),o("em",[e._v("@satoshi")]),e._v(" was registered with a\nparticular public key at some point in the past, but we wouldn’t know whether\nthe public key had since been updated recently unless we download all the blocks\nsince the last update of that name.  This is due to the limitation of Bitcoin’s\nUTXO transaction Merkle-ization model, where only the transactions (but not\nmutable application state) are Merkle-ized into the block-hash. This lets us\nprove existence, but not the non-existence of later updates to a name.  Thus, we\ncan’t know for certain the most recent value of a name without trusting a full\nnode, or incurring significant costs in bandwidth by downloading the whole\nblockchain.")]),e._v(" "),o("p",[e._v("Even if a Merkle-ized search tree were implemented in NameCoin, its dependency\non proof-of-work makes light client verification problematic. Light clients must\ndownload a complete copy of the headers for all blocks in the entire blockchain\n(or at least all the headers since the last update to a name).  This means that\nthe bandwidth requirements scale linearly with the amount of time "),o("a",{attrs:{href:"https://en.bitcoin.it/wiki/Thin_Client_Security"}},[e._v("[21]")]),e._v(".\nIn addition, name-changes on a proof-of-work blockchain requires waiting for\nadditional proof-of-work confirmation blocks, which can take up to an hour on\nBitcoin.")]),e._v(" "),o("p",[e._v("With Tendermint, all we need is the most recent block-hash signed by a quorum of\nvalidators (by voting power), and a Merkle proof to the current value associated\nwith the name.  This makes it possible to have a succinct, quick, and secure\nlight-client verification of name values.")]),e._v(" "),o("p",[e._v("In Cosmos, we can take this concept and extend it further. Each\nname-registration zone in Cosmos can have an associated top-level-domain\n(TLD) name such as “.com” or “.org”, and each name-registration zone can have\nits own governance and registration rules.")]),e._v(" "),o("h2",{attrs:{id:"issuance-and-incentives"}},[e._v("Issuance and Incentives")]),e._v(" "),o("h3",{attrs:{id:"the-atom-token"}},[e._v("The Atom Token")]),e._v(" "),o("p",[e._v("While the Cosmos Hub is a multi-asset distributed ledger, there is a special\nnative token called the "),o("em",[e._v("atom")]),e._v(".  Atoms are the only staking token of the Cosmos\nHub.  Atoms are a license for the holder to vote, validate, or delegate to other\nvalidators.  Like Ethereum’s ether, atoms can also be used to pay for\ntransaction fees to mitigate spam.  Additional inflationary atoms and block\ntransaction fees are rewarded to validators and delegators who delegate to\nvalidators.")]),e._v(" "),o("p",[e._v("The "),o("code",{pre:!0},[e._v("BurnAtomTx")]),e._v(" transaction can be used to recover any proportionate amount of\ntokens from the reserve pool.")]),e._v(" "),o("h4",{attrs:{id:"fundraiser"}},[e._v("Fundraiser")]),e._v(" "),o("p",[e._v("The initial distribution of atom tokens and validators on Genesis will go to the\ndonors of the Cosmos Fundraiser (75%), lead donors (5%), Cosmos Network\nFoundation (10%), and ALL IN BITS, Inc (10%).  From genesis onward, 1/3 of the\ntotal amount of atoms will be rewarded to bonded validators and delegators\nevery year.")]),e._v(" "),o("p",[e._v("See the "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/PLAN.md"}},[e._v("Cosmos Plan")]),e._v("\nfor additional details.")]),e._v(" "),o("h3",{attrs:{id:"limitations-on-the-number-of-validators"}},[e._v("Limitations on the Number of Validators")]),e._v(" "),o("p",[e._v("Unlike Bitcoin or other proof-of-work blockchains, a Tendermint blockchain gets\nslower with more validators due to the increased communication complexity.\nFortunately, we can support enough validators to make for a robust globally\ndistributed blockchain with very fast transaction confirmation times, and, as\nbandwidth, storage, and parallel compute capacity increases, we will be able to\nsupport more validators in the future.")]),e._v(" "),o("p",[e._v("On genesis day, the maximum number of validators will be set to 100, and this\nnumber will increase at a rate of 13% for 10 years, and settle at 300\nvalidators.")]),e._v(" "),o("pre",{pre:!0},[o("code",{attrs:{"v-pre":""}},[e._v("Year 0: 100\nYear 1: 113\nYear 2: 127\nYear 3: 144\nYear 4: 163\nYear 5: 184\nYear 6: 208\nYear 7: 235\nYear 8: 265\nYear 9: 300\nYear 10: 300\n...\n")])]),e._v(" "),o("h3",{attrs:{id:"becoming-a-validator-after-genesis-day"}},[e._v("Becoming a Validator After Genesis Day")]),e._v(" "),o("p",[e._v("Atom holders who are not already can become validators by signing and\nsubmitting a "),o("code",{pre:!0},[e._v("BondTx")]),e._v(" transaction.  The amount of atoms provided as collateral\nmust be nonzero.  Anyone can become a validator at any time, except when the\nsize of the current validator set is greater than the maximum number of\nvalidators allowed.  In that case, the transaction is only valid if the amount\nof atoms is greater than the amount of effective atoms held by the smallest\nvalidator, where effective atoms include delegated atoms.  When a new validator\nreplaces an existing validator in such a way, the existing validator becomes\ninactive and all the atoms and delegated atoms enter the unbonding state.")]),e._v(" "),o("h3",{attrs:{id:"penalties-for-validators"}},[e._v("Penalties for Validators")]),e._v(" "),o("p",[e._v("There must be some penalty imposed on the validators for any intentional\nor unintentional deviation from the sanctioned protocol. Some evidence is\nimmediately admissible, such as a double-sign at the same height and round, or a\nviolation of “prevote-the-lock” (a rule of the Tendermint consensus protocol).\nSuch evidence will result in the validator losing its good standing and its\nbonded atoms as well its proportionate share of tokens in the reserve pool –\ncollectively called its “stake” – will get slashed.")]),e._v(" "),o("p",[e._v("Sometimes, validators will not be available, either due to regional network\ndisruptions, power failure, or other reasons.  If, at any point in the past\n"),o("code",{pre:!0},[e._v("ValidatorTimeoutWindow")]),e._v(" blocks, a validator’s commit vote is not included in\nthe blockchain more than "),o("code",{pre:!0},[e._v("ValidatorTimeoutMaxAbsent")]),e._v(" times, that validator will\nbecome inactive, and lose "),o("code",{pre:!0},[e._v("ValidatorTimeoutPenalty")]),e._v(" (DEFAULT 1%) of its stake.")]),e._v(" "),o("p",[e._v("Some “malicious” behavior does not produce obviously discernable evidence on the\nblockchain. In these cases, the validators can coordinate out of band to force\nthe timeout of these malicious validators, if there is a supermajority\nconsensus.")]),e._v(" "),o("p",[e._v("In situations where the Cosmos Hub halts due to a ≥⅓ coalition of voting power\ngoing offline, or in situations where a ≥⅓ coalition of voting power censor\nevidence of malicious behavior from entering the blockchain, the hub must\nrecover with a hard-fork reorg-proposal.  (Link to “Forks and Censorship\nAttacks”).")]),e._v(" "),o("h3",{attrs:{id:"transaction-fees"}},[e._v("Transaction Fees")]),e._v(" "),o("p",[e._v("Cosmos Hub validators can accept any token type or combination of types as fees\nfor processing a transaction.  Each validator can subjectively set whatever\nexchange rate it wants, and choose whatever transactions it wants, as long as\nthe "),o("code",{pre:!0},[e._v("BlockGasLimit")]),e._v(" is not exceeded.  The collected fees, minus any taxes\nspecified below, are redistributed to the bonded stakeholders in proportion to\ntheir bonded atoms, every "),o("code",{pre:!0},[e._v("ValidatorPayoutPeriod")]),e._v(" (DEFAULT 1 hour).")]),e._v(" "),o("p",[e._v("Of the collected transaction fees, "),o("code",{pre:!0},[e._v("ReserveTax")]),e._v(" (DEFAULT 2%) will go toward the\nreserve pool to increase the reserve pool and increase the security and value of\nthe Cosmos network. These funds can also be distributed in accordance with the\ndecisions made by the governance system.")]),e._v(" "),o("p",[e._v("Atom holders who delegate their voting power to other validators pay a\ncommission to the delegated validator.  The commission can be set by each\nvalidator.")]),e._v(" "),o("h3",{attrs:{id:"incentivizing-hackers"}},[e._v("Incentivizing Hackers")]),e._v(" "),o("p",[e._v("The security of the Cosmos Hub is a function of the security of the underlying\nvalidators and the choice of delegation by delegators.  In order to encourage\nthe discovery and early reporting of found vulnerabilities, the Cosmos Hub\nencourages hackers to publish successful exploits via a "),o("code",{pre:!0},[e._v("ReportHackTx")]),e._v("\ntransaction that says, “This validator got hacked.  Please send\nbounty to this address”.  Upon such an exploit, the validator and delegators\nwill become inactive, "),o("code",{pre:!0},[e._v("HackPunishmentRatio")]),e._v(" (default 5%) of everyone’s atoms\nwill get slashed, and "),o("code",{pre:!0},[e._v("HackRewardRatio")]),e._v(" (default 5%) of everyone’s atoms will\nget rewarded to the hacker’s bounty address.  The validator must recover the\nremaining atoms by using their backup key.")]),e._v(" "),o("p",[e._v("In order to prevent this feature from being abused to transfer unvested atoms,\nthe portion of vested vs unvested atoms of validators and delegators before and\nafter the "),o("code",{pre:!0},[e._v("ReportHackTx")]),e._v(" will remain the same, and the hacker bounty will\ninclude some unvested atoms, if any.")]),e._v(" "),o("h3",{attrs:{id:"governance-specification"}},[e._v("Governance Specification")]),e._v(" "),o("p",[e._v("The Cosmos Hub is operated by a distributed organization that requires a well-defined\ngovernance mechanism in order to coordinate various changes to the blockchain,\nsuch as the variable parameters of the system, as well as software upgrades and\nconstitutional amendments.")]),e._v(" "),o("p",[e._v("All validators are responsible for voting on all proposals.  Failing to vote on\na proposal in a timely manner will result in the validator being deactivated\nautomatically for a period of time called the "),o("code",{pre:!0},[e._v("AbsenteeismPenaltyPeriod")]),e._v("\n(DEFAULT 1 week).")]),e._v(" "),o("p",[e._v("Delegators automatically inherit the vote of the delegated validator.  This vote\nmay be overridden manually.  Unbonded atoms get no vote.")]),e._v(" "),o("p",[e._v("Each proposal requires a deposit of "),o("code",{pre:!0},[e._v("MinimumProposalDeposit")]),e._v(" tokens, which may\nbe a combination of one or more tokens including atoms.  For each proposal, the\nvoters may vote to take the deposit. If more than half of the voters choose to\ntake the deposit (e.g. because the proposal was spam), the deposit goes to the\nreserve pool, except any atoms which are burned.")]),e._v(" "),o("p",[e._v("For each proposal, voters may vote with the following options:")]),e._v(" "),o("ul",[o("li",[e._v("Yea")]),e._v(" "),o("li",[e._v("YeaWithForce")]),e._v(" "),o("li",[e._v("Nay")]),e._v(" "),o("li",[e._v("NayWithForce")]),e._v(" "),o("li",[e._v("Abstain")])]),e._v(" "),o("p",[e._v("A strict majority of Yea or YeaWithForce votes (or Nay or NayWithForce votes) is\nrequired for the proposal to be decided as passed (or decided as failed), but\n1/3+ can veto the majority decision by voting “with force”.  When a strict\nmajority is vetoed, everyone gets punished by losing "),o("code",{pre:!0},[e._v("VetoPenaltyFeeBlocks")]),e._v("\n(DEFAULT 1 day’s worth of blocks) worth of fees (except taxes which will not be\naffected), and the party that vetoed the majority decision will be additionally\npunished by losing "),o("code",{pre:!0},[e._v("VetoPenaltyAtoms")]),e._v(" (DEFAULT 0.1%) of its atoms.")]),e._v(" "),o("h3",{attrs:{id:"parameter-change-proposal"}},[e._v("Parameter Change Proposal")]),e._v(" "),o("p",[e._v("Any of the parameters defined here can be changed with the passing of a\n"),o("code",{pre:!0},[e._v("ParameterChangeProposal")]),e._v(".")]),e._v(" "),o("h3",{attrs:{id:"bounty-proposal"}},[e._v("Bounty Proposal")]),e._v(" "),o("p",[e._v("Atoms can be inflated and reserve pool funds spent with the passing of a "),o("code",{pre:!0},[e._v("BountyProposal")]),e._v(".")]),e._v(" "),o("h3",{attrs:{id:"text-proposal"}},[e._v("Text Proposal")]),e._v(" "),o("p",[e._v("All other proposals, such as a proposal to upgrade the protocol, will be\ncoordinated via the generic "),o("code",{pre:!0},[e._v("TextProposal")]),e._v(".")]),e._v(" "),o("h2",{attrs:{id:"roadmap"}},[e._v("Roadmap")]),e._v(" "),o("p",[e._v("See "),o("a",{attrs:{href:"https://github.com/cosmos/cosmos/blob/master/PLAN.md"}},[e._v("the Plan")]),e._v(".")]),e._v(" "),o("h2",{attrs:{id:"related-work"}},[e._v("Related Work")]),e._v(" "),o("p",[e._v("There have been many innovations in blockchain consensus and scalability in the\npast couple of years.  This section provides a brief survey of a select number\nof important ones.")]),e._v(" "),o("h3",{attrs:{id:"consensus-systems"}},[e._v("Consensus Systems")]),e._v(" "),o("h4",{attrs:{id:"classic-byzantine-fault-tolerance"}},[e._v("Classic Byzantine Fault Tolerance")]),e._v(" "),o("p",[e._v("Consensus in the presence of malicious participants is a problem dating back to\nthe early 1980s, when Leslie Lamport coined the phrase “Byzantine fault” to\nrefer to arbitrary process behavior that deviates from the intended behavior,\nin contrast to a “crash fault”, wherein a process simply crashes. Early\nsolutions were discovered for synchronous networks where there is an upper\nbound on message latency, though practical use was limited to highly controlled\nenvironments such as airplane controllers and datacenters synchronized via\natomic clocks.  It was not until the late 90s that Practical Byzantine Fault\nTolerance (PBFT) "),o("a",{attrs:{href:"http://pmg.csail.mit.edu/papers/osdi99.pdf"}},[e._v("[11]")]),e._v(" was introduced as an efficient partially\nsynchronous consensus algorithm able to tolerate up to ⅓ of processes behaving\narbitrarily.  PBFT became the standard algorithm, spawning many variations,\nincluding most recently one created by IBM as part of their contribution to\nHyperledger.")]),e._v(" "),o("p",[e._v("The main benefit of Tendermint consensus over PBFT is that Tendermint has an\nimproved and simplified underlying structure, some of which is a result of\nembracing the blockchain paradigm.  Tendermint blocks must commit in order,\nwhich obviates the complexity and communication overhead associated with PBFT’s\nview-changes.  In Cosmos and many cryptocurrencies, there is no need to allow\nfor block "),o("em",[e._v("N+i")]),e._v(" where "),o("em",[e._v("i >= 1")]),e._v(" to commit, when block "),o("em",[e._v("N")]),e._v("\nitself hasn’t yet committed. If bandwidth is the reason why block "),o("em",[e._v("N")]),e._v("\nhasn’t committed in a Cosmos zone, then it doesn’t help to use bandwidth sharing\nvotes for blocks "),o("em",[e._v("N+i")]),e._v(". If a network partition or offline nodes is the\nreason why block "),o("em",[e._v("N")]),e._v(" hasn’t committed, then "),o("em",[e._v("N+i")]),e._v(" won’t commit\nanyway.")]),e._v(" "),o("p",[e._v("In addition, the batching of transactions into blocks allows for regular\nMerkle-hashing of the application state, rather than periodic digests as with\nPBFT’s checkpointing scheme.  This allows for faster provable transaction\ncommits for light-clients and faster inter-blockchain communication.")]),e._v(" "),o("p",[e._v("Tendermint Core also includes many optimizations and features that go above and\nbeyond what is specified in PBFT.  For example, the blocks proposed by\nvalidators are split into parts, Merkle-ized, and gossipped in such a way that\nimproves broadcasting performance (see LibSwift "),o("a",{attrs:{href:"http://www.ds.ewi.tudelft.nl/fileadmin/pds/papers/PerformanceAnalysisOfLibswift.pdf"}},[e._v("[19]")]),e._v(" for inspiration).\nAlso, Tendermint Core doesn’t make any assumption about point-to-point\nconnectivity, and functions for as long as the P2P network is weakly connected.")]),e._v(" "),o("h4",{attrs:{id:"bitshares-delegated-stake"}},[e._v("BitShares delegated stake")]),e._v(" "),o("p",[e._v("While not the first to deploy proof-of-stake (PoS), BitShares1.0 "),o("a",{attrs:{href:"https://bitshares.org/technology/delegated-proof-of-stake-consensus/"}},[e._v("[12]")]),e._v('\ncontributed considerably to research and adoption of PoS blockchains,\nparticularly those known as “delegated” PoS.  In BitShares, stake holders elect\n"witnesses", responsible for ordering and committing transactions, and\n"delegates", responsible for coordinating software updates and parameter\nchanges.  BitShares2.0 aims to achieve high performance (100k tx/s, 1s latency)\nin ideal conditions, with each block signed by a single signer, and transaction\nfinality taking quite a bit longer than the block interval.  A canonical\nspecification is still in development.  Stakeholders can remove or replace\nmisbehaving witnesses on a daily basis, but there is no significant collateral\nof witnesses or delegators in the likeness of Tendermint PoS that get slashed\nin the case of a successful double-spend attack.')]),e._v(" "),o("h4",{attrs:{id:"stellar"}},[e._v("Stellar")]),e._v(" "),o("p",[e._v("Building on an approach pioneered by Ripple, Stellar "),o("a",{attrs:{href:"https://www.stellar.org/papers/stellar-consensus-protocol.pdf"}},[e._v("[13]")]),e._v(" refined a\nmodel of Federated Byzantine Agreement wherein the processes participating in\nconsensus do not constitute a fixed and globally known set.  Rather, each\nprocess node curates one or more “quorum slices”, each constituting a set of\ntrusted processes. A “quorum” in Stellar is defined to be a set of nodes that\ncontain at least one quorum slice for each node in the set, such that agreement\ncan be reached.")]),e._v(" "),o("p",[e._v("The security of the Stellar mechanism relies on the assumption that the\nintersection of "),o("em",[e._v("any")]),e._v(" two quorums is non-empty, while the availability of a node\nrequires at least one of its quorum slices to consist entirely of correct nodes,\ncreating a trade-off between using large or small quorum-slices that may be\ndifficult to balance without imposing significant assumptions about trust.\nUltimately, nodes must somehow choose adequate quorum slices for there to be\nsufficient fault-tolerance (or any “intact nodes” at all, of which much of the\nresults of the paper depend on), and the only provided strategy for ensuring\nsuch a configuration is hierarchical and similar to the Border Gateway Protocol\n(BGP), used by top-tier ISPs on the internet to establish global routing tables,\nand by that used by browsers to manage TLS certificates; both notorious for\ntheir insecurity.")]),e._v(" "),o("p",[e._v("The criticism in the Stellar paper of the Tendermint-based proof-of-stake\nsystems is mitigated by the token strategy described here, wherein a new type of\ntoken called the "),o("em",[e._v("atom")]),e._v(" is issued that represent claims to future portions of\nfees and rewards. The advantage of Tendermint-based proof-of-stake, then, is its\nrelative simplicity, while still providing sufficient and provable security\nguarantees.")]),e._v(" "),o("h4",{attrs:{id:"bitcoinng"}},[e._v("BitcoinNG")]),e._v(" "),o("p",[e._v("BitcoinNG is a proposed improvement to Bitcoin that would allow for forms of\nvertical scalability, such as increasing the block size, without the negative\neconomic consequences typically associated with such a change, such as the\ndisproportionately large impact on small miners.  This improvement is achieved\nby separating leader election from transaction broadcast: leaders are first\nelected by proof-of-work in “micro-blocks”, and then able to broadcast\ntransactions to be committed until a new micro-block is found. This reduces the\nbandwidth requirements necessary to win the PoW race, allowing small miners to\nmore fairly compete, and allowing transactions to be committed more regularly by\nthe last miner to find a micro-block.")]),e._v(" "),o("h4",{attrs:{id:"casper"}},[e._v("Casper")]),e._v(" "),o("p",[e._v("Casper "),o("a",{attrs:{href:"https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost/"}},[e._v("[16]")]),e._v(" is a proposed proof-of-stake consensus algorithm for\nEthereum.  Its prime mode of operation is “consensus-by-bet”.  By letting\nvalidators iteratively bet on which block they believe will become committed\ninto the blockchain based on the other bets that they have seen so far,\nfinality can be achieved eventually.\n"),o("a",{attrs:{href:"https://blog.ethereum.org/2015/12/28/understanding-serenity-part-2-casper/"}},[e._v("link")]),e._v(".\nThis is an active area of research by the Casper team.  The challenge is in\nconstructing a betting mechanism that can be proven to be an evolutionarily\nstable strategy.  The main benefit of Casper as compared to Tendermint may be in\noffering “availability over consistency” – consensus does not require a >⅔\nquorum of voting power – perhaps at the cost of commit speed or\nimplementation complexity.")]),e._v(" "),o("h3",{attrs:{id:"horizontal-scaling"}},[e._v("Horizontal Scaling")]),e._v(" "),o("h4",{attrs:{id:"interledger-protocol"}},[e._v("Interledger Protocol")]),e._v(" "),o("p",[e._v("The Interledger Protocol "),o("a",{attrs:{href:"https://interledger.org/rfcs/0001-interledger-architecture/"}},[e._v("[14]")]),e._v(" is not strictly a scalability solution.\nIt provides an ad hoc interoperation between different ledger systems through a\nloosely coupled bilateral relationship network.  Like the Lightning Network,\nthe purpose of ILP is to facilitate payments, but it specifically focuses on\npayments across disparate ledger types, and extends the atomic transaction\nmechanism to include not only hash-locks, but also a quorum of notaries (called\nthe Atomic Transport Protocol).  The latter mechanism for enforcing atomicity\nin inter-ledger transactions is similar to Tendermint’s light-client SPV\nmechanism, so an illustration of the distinction between ILP and Cosmos/IBC is\nwarranted, and provided below.")]),e._v(" "),o("ol",[o("li",[o("p",[e._v("The notaries of a connector in ILP do not support membership changes, and\ndo not allow for flexible weighting between notaries.  On the other hand,\nIBC is designed specifically for blockchains, where validators can have\ndifferent weights, and where membership can change over the course of the\nblockchain.")])]),e._v(" "),o("li",[o("p",[e._v("As in the Lightning Network, the receiver of payment in ILP must be online to\nsend a confirmation back to the sender.  In a token transfer over IBC, the\nvalidator-set of the receiver’s blockchain is responsible for providing\nconfirmation, not the receiving user.")])]),e._v(" "),o("li",[o("p",[e._v("The most striking difference is that ILP’s connectors are not responsible or\nkeeping authoritative state about payments, whereas in Cosmos, the validators\nof a hub are the authority of the state of IBC token transfers as well as the\nauthority of the amount of tokens held by each zone (but not the amount of\ntokens held by each account within a zone).  This is the fundamental innovation\nthat allows for secure asymmetric transfer of tokens from zone to zone; the\nanalog to ILP’s connector in Cosmos is a persistent and maximally secure\nblockchain ledger, the Cosmos Hub.")])]),e._v(" "),o("li",[o("p",[e._v("The inter-ledger payments in ILP need to be backed by an exchange orderbook,\nas there is no asymmetric transfer of coins from one ledger to another, only\nthe transfer of value or market equivalents.")])])]),e._v(" "),o("h4",{attrs:{id:"sidechains"}},[e._v("Sidechains")]),e._v(" "),o("p",[e._v("Sidechains "),o("a",{attrs:{href:"https://blockstream.com/sidechains.pdf"}},[e._v("[15]")]),e._v(' are a proposed mechanism for scaling the Bitcoin\nnetwork via alternative blockchains that are “two-way pegged” to the Bitcoin\nblockchain. (Two-way pegging is equivalent to bridging. In Cosmos we say\n"bridging" to distinguish from market-pegging).  Sidechains allow bitcoins to\neffectively move from the Bitcoin blockchain to the sidechain and back, and\nallow for experimentation in new features on the sidechain.  As in the Cosmos\nHub, the sidechain and Bitcoin serve as light-clients of each other, using SPV\nproofs to determine when coins should be transferred to the sidechain and back.\nOf course, since Bitcoin uses proof-of-work, sidechains centered around Bitcoin\nsuffer from the many problems and risks of proof-of-work as a consensus\nmechanism.  Furthermore, this is a Bitcoin-maximalist solution that doesn’t\nnatively support a variety of tokens and inter-zone network topology as Cosmos\ndoes. That said, the core mechanism of the two-way peg is in principle the same\nas that employed by the Cosmos network.')]),e._v(" "),o("h4",{attrs:{id:"ethereum-scalability-efforts"}},[e._v("Ethereum Scalability Efforts")]),e._v(" "),o("p",[e._v("Ethereum is currently researching a number of different strategies to shard the\nstate of the Ethereum blockchain to address scalability needs. These efforts\nhave the goal of maintaining the abstraction layer offered by the current\nEthereum Virtual Machine across the shared state space. Multiple research\nefforts are underway at this time. "),o("a",{attrs:{href:"https://github.com/ethereum/EIPs/issues/53"}},[e._v("[18]")]),o("a",{attrs:{href:"http://vitalik.ca/files/mauve_paper.html"}},[e._v("[22]")])]),e._v(" "),o("h5",{attrs:{id:"cosmos-vs-ethereum-20-mauve"}},[e._v("Cosmos vs Ethereum 2.0 Mauve")]),e._v(" "),o("p",[e._v("Cosmos and Ethereum 2.0 Mauve "),o("a",{attrs:{href:"http://vitalik.ca/files/mauve_paper.html"}},[e._v("[22]")]),e._v(" have different design goals.")]),e._v(" "),o("ul",[o("li",[e._v("Cosmos is specifically about tokens.  Mauve is about scaling general computation.")]),e._v(" "),o("li",[e._v("Cosmos is not bound to the EVM, so even different VMs can interoperate.")]),e._v(" "),o("li",[e._v("Cosmos lets the zone creator determine who validates the zone.")]),e._v(" "),o("li",[e._v("Anyone can start a new zone in Cosmos (unless governance decides otherwise).")]),e._v(" "),o("li",[e._v("The hub isolates zone failures so global token invariants are preserved.")])]),e._v(" "),o("h3",{attrs:{id:"general-scaling"}},[e._v("General Scaling")]),e._v(" "),o("h4",{attrs:{id:"lightning-network"}},[e._v("Lightning Network")]),e._v(" "),o("p",[e._v("The Lightning Network is a proposed token transfer network operating at a layer\nabove the Bitcoin blockchain (and other public blockchains), enabling improvement of many\norders of magnitude in transaction throughput by moving the majority\nof transactions outside of the consensus ledger into so-called “payment\nchannels”. This is made possible by on-chain cryptocurrency scripts, which\nenable parties to enter into bilateral stateful contracts where the state can\nbe updated by sharing digital signatures, and contracts can be closed by finally\npublishing evidence onto the blockchain, a mechanism first popularized by\ncross-chain atomic swaps.  By opening payment channels with many parties,\nparticipants in the Lightning Network can become focal points for routing the\npayments of others, leading to a fully connected payment channel network, at the\ncost of capital being tied up on payment channels.")]),e._v(" "),o("p",[e._v("While the Lightning Network can also easily extend across multiple independent\nblockchains to allow for the transfer of "),o("em",[e._v("value")]),e._v(" via an exchange market, it\ncannot be used to asymmetrically transfer "),o("em",[e._v("tokens")]),e._v(" from one blockchain to\nanother.  The main benefit of the Cosmos network described here is to enable\nsuch direct token transfers.  That said, we expect payment channels and the\nLightning Network to become widely adopted along with our token transfer\nmechanism, for cost-saving and privacy reasons.")]),e._v(" "),o("h4",{attrs:{id:"segregated-witness"}},[e._v("Segregated Witness")]),e._v(" "),o("p",[e._v("Segregated Witness is a Bitcoin improvement proposal\n"),o("a",{attrs:{href:"https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki"}},[e._v("link")]),e._v(" that aims\nto increase the per-block transaction throughput 2X or 3X, while simultaneously\nmaking block syncing faster for new nodes.  The brilliance of this solution is\nin how it works within the limitations of Bitcoin’s current protocol and allows\nfor a soft-fork upgrade (i.e. clients with older versions of the software will\ncontinue to function after the upgrade).  Tendermint, being a new protocol, has no\ndesign restrictions, so it has a different scaling priorities.  Primarily,\nTendermint uses a BFT round-robin algorithm based on cryptographic signatures\ninstead of mining, which trivially allows horizontal scaling through multiple\nparallel blockchains, while regular, more frequent block commits allow for\nvertical scaling as well.")]),e._v(" "),o("hr"),e._v(" "),o("h2",{attrs:{id:"appendix"}},[e._v("Appendix")]),e._v(" "),o("h3",{attrs:{id:"fork-accountability"}},[e._v("Fork Accountability")]),e._v(" "),o("p",[e._v("A well designed consensus protocol should provide some guarantees in the event that the tolerance\ncapacity is exceeded and the consensus fails.  This is especially necessary in\neconomic systems, where Byzantine behaviour can have substantial financial\nreward.  The most important such guarantee is a form of "),o("em",[e._v("fork-accountability")]),e._v(",\nwhere the processes that caused the consensus to fail (ie.  caused clients of\nthe protocol to accept different values - a fork) can be identified and punished\naccording to the rules of the protocol, or, possibly, the legal system.  When\nthe legal system is unreliable or excessively expensive to invoke, validators can be forced to make security\ndeposits in order to participate, and those deposits can be revoked, or slashed,\nwhen malicious behaviour is detected "),o("a",{attrs:{href:"https://blog.ethereum.org/2014/01/15/slasher-a-punitive-proof-of-stake-algorithm/"}},[e._v("[10]")]),e._v(".")]),e._v(" "),o("p",[e._v("Note this is unlike Bitcoin, where forking is a regular occurence due to\nnetwork asynchrony and the probabilistic nature of finding partial hash\ncollisions.  Since in many cases a malicious fork is indistinguishable from a\nfork due to asynchrony, Bitcoin cannot reliably implement fork-accountability,\nother than the implicit opportunity cost paid by miners for mining an orphaned\nblock.")]),e._v(" "),o("h3",{attrs:{id:"tendermint-consensus"}},[e._v("Tendermint Consensus")]),e._v(" "),o("p",[e._v("We call the voting stages "),o("em",[e._v("PreVote")]),e._v(" and "),o("em",[e._v("PreCommit")]),e._v(". A vote can be for a\nparticular block or for "),o("em",[e._v("Nil")]),e._v(".  We call a collection of >⅔ PreVotes for a single\nblock in the same round a "),o("em",[e._v("Polka")]),e._v(", and a collection of >⅔ PreCommits for a\nsingle block in the same round a "),o("em",[e._v("Commit")]),e._v(".  If >⅔ PreCommit for Nil in the same\nround, they move to the next round.")]),e._v(" "),o("p",[e._v("Note that strict determinism in the protocol incurs a weak synchrony assumption\nas faulty leaders must be detected and skipped.  Thus, validators wait some\namount of time, "),o("em",[e._v("TimeoutPropose")]),e._v(", before they Prevote Nil, and the value of\nTimeoutPropose increases with each round.  Progression through the rest of a\nround is fully asynchronous, in that progress is only made once a validator hears\nfrom >⅔ of the network.  In practice, it would take an extremely strong\nadversary to indefinitely thwart the weak synchrony assumption (causing the\nconsensus to fail to ever commit a block), and doing so can be made even more\ndifficult by using randomized values of TimeoutPropose on each validator.")]),e._v(" "),o("p",[e._v("An additional set of constraints, or Locking Rules, ensure that the network will\neventually commit just one block at each height. Any malicious attempt to cause\nmore than one block to be committed at a given height can be identified.  First,\na PreCommit for a block must come with justification, in the form of a Polka for\nthat block. If the validator has already PreCommit a block at round\n"),o("em",[e._v("R_1")]),e._v(", we say they are "),o("em",[e._v("locked")]),e._v(" on that block, and the Polka used to\njustify the new PreCommit at round "),o("em",[e._v("R_2")]),e._v(" must come in a round\n"),o("em",[e._v("R_polka")]),e._v(" where "),o("em",[e._v("R_1 < R_polka <= R_2")]),e._v(".  Second, validators\nmust Propose and/or PreVote the block they are locked on.  Together, these\nconditions ensure that a validator does not PreCommit without sufficient\nevidence as justification, and that validators which have already PreCommit\ncannot contribute to evidence to PreCommit something else.  This ensures both\nsafety and liveness of the consensus algorithm.")]),e._v(" "),o("p",[e._v("The full details of the protocol are described\n"),o("a",{attrs:{href:"https://github.com/tendermint/tendermint/wiki/Byzantine-Consensus-Algorithm"}},[e._v("here")]),e._v(".")]),e._v(" "),o("h3",{attrs:{id:"tendermint-light-clients"}},[e._v("Tendermint Light Clients")]),e._v(" "),o("p",[e._v("The need to sync all block headers is eliminated in Tendermint-PoS as the\nexistence of an alternative chain (a fork) means ≥⅓ of bonded stake can be\nslashed.  Of course, since slashing requires that "),o("em",[e._v("someone")]),e._v(" share evidence of a\nfork, light clients should store any block-hash commits that it sees.\nAdditionally, light clients could periodically stay synced with changes to the\nvalidator set, in order to avoid "),o("a",{attrs:{href:"#preventing-long-range-attacks"}},[e._v("long range\nattacks")]),e._v(" (but other solutions are possible).")]),e._v(" "),o("p",[e._v("In spirit similar to Ethereum, Tendermint enables applications to embed a\nglobal Merkle root hash in each block, allowing easily verifiable state queries\nfor things like account balances, the value stored in a contract, or the\nexistence of an unspent transaction output, depending on the nature of the\napplication.")]),e._v(" "),o("h3",{attrs:{id:"preventing-long-range-attacks"}},[e._v("Preventing Long Range Attacks")]),e._v(" "),o("p",[e._v("Assuming a sufficiently resilient collection of broadcast networks and a static\nvalidator set, any fork in the blockchain can be detected and the deposits of\nthe offending validators slashed.  This innovation, first suggested by Vitalik\nButerin in early 2014, solves the nothing-at-stake problem of other\nproof-of-stake cryptocurrencies (see "),o("a",{attrs:{href:"#related-work"}},[e._v("Related Work")]),e._v("). However,\nsince validator sets must be able to change, over a long range of time the\noriginal validators may all become unbonded, and hence would be free to create a\nnew chain from the genesis block, incurring no cost as they no longer have\ndeposits locked up.  This attack came to be known as the Long Range Attack (LRA),\nin contrast to a Short Range Attack, where validators who are currently bonded\ncause a fork and are hence punishable (assuming a fork-accountable BFT algorithm\nlike Tendermint consensus). Long Range Attacks are often thought to be a\ncritical blow to proof-of-stake.")]),e._v(" "),o("p",[e._v("Fortunately, the LRA can be mitigated as follows.  First, for a validator to\nunbond (thereby recovering their collateral deposit and no longer earning fees\nto participate in the consensus), the deposit must be made untransferable for an\namount of time known as the “unbonding period”, which may be on the order of\nweeks or months.  Second, for a light client to be secure, the first time it\nconnects to the network it must verify a recent block-hash against a trusted\nsource, or preferably multiple sources.  This condition is sometimes referred to\nas “weak subjectivity”.  Finally, to remain secure, it must sync up with the\nlatest validator set at least as frequently as the length of the unbonding\nperiod. This ensures that the light client knows about changes to the validator\nset before a validator has its capital unbonded and thus no longer at stake,\nwhich would allow it to deceive the client by carrying out a long range attack\nby creating new blocks beginning back at a height where it was bonded (assuming\nit has control of sufficiently many of the early private keys).")]),e._v(" "),o("p",[e._v("Note that overcoming the LRA in this way requires an overhaul of the original\nsecurity model of proof-of-work. In PoW, it is assumed that a light client can\nsync to the current height from the trusted genesis block at any time simply by\nprocessing the proof-of-work in every block header.  To overcome the LRA,\nhowever, we require that a light client come online with some regularity to\ntrack changes in the validator set, and that the first time they come online\nthey must be particularly careful to authenticate what they hear from the\nnetwork against trusted sources. Of course, this latter requirement is similar\nto that of Bitcoin, where the protocol and software must also be obtained from a\ntrusted source.")]),e._v(" "),o("p",[e._v("The above method for preventing LRA is well suited for validators and full nodes\nof a Tendermint-powered blockchain because these nodes are meant to remain\nconnected to the network.  The method is also suitable for light clients that\ncan be expected to sync with the network frequently.  However, for light clients\nthat are not expected to have frequent access to the internet or the blockchain\nnetwork, yet another solution can be used to overcome the LRA.  Non-validator\ntoken holders can post their tokens as collateral with a very long unbonding\nperiod (e.g. much longer than the unbonding period for validators) and serve\nlight clients with a secondary method of attesting to the validity of current\nand past block-hashes. While these tokens do not count toward the security of\nthe blockchain’s consensus, they nevertheless can provide strong guarantees for\nlight clients.  If historical block-hash querying were supported in Ethereum,\nanyone could bond their tokens in a specially designed smart contract and\nprovide attestation services for pay, effectively creating a market for\nlight-client LRA security.")]),e._v(" "),o("h3",{attrs:{id:"overcoming-forks-and-censorship-attacks"}},[e._v("Overcoming Forks and Censorship Attacks")]),e._v(" "),o("p",[e._v("Due to the definition of a block commit, any ≥⅓ coalition of voting power can\nhalt the blockchain by going offline or not broadcasting their votes. Such a\ncoalition can also censor particular transactions by rejecting blocks that\ninclude these transactions, though this would result in a significant proportion\nof block proposals to be rejected, which would slow down the rate of block\ncommits of the blockchain, reducing its utility and value. The malicious\ncoalition might also broadcast votes in a trickle so as to grind blockchain\nblock commits to a near halt, or engage in any combination of these attacks.\nFinally, it can cause the blockchain to fork, by double-signing or violating the\nlocking rules.")]),e._v(" "),o("p",[e._v("If a globally active adversary were also involved, it could partition the network in\nsuch a way that it may appear that the wrong subset of validators were\nresponsible for the slowdown. This is not just a limitation of Tendermint, but\nrather a limitation of all consensus protocols whose network is potentially\ncontrolled by an active adversary.")]),e._v(" "),o("p",[e._v("For these types of attacks, a subset of the validators should coordinate through\nexternal means to sign a reorg-proposal that chooses a fork (and any evidence\nthereof) and the initial subset of validators with their signatures. Validators\nwho sign such a reorg-proposal forego their collateral on all other forks.\nClients should verify the signatures on the reorg-proposal, verify any evidence,\nand make a judgement or prompt the end-user for a decision.  For example, a\nphone wallet app may prompt the user with a security warning, while a\nrefrigerator may accept any reorg-proposal signed by +½ of the original\nvalidators by voting power.")]),e._v(" "),o("p",[e._v("No non-synchronous Byzantine fault-tolerant algorithm can come to consensus when\n≥⅓ of voting power are dishonest, yet a fork assumes that ≥⅓ of voting power\nhave already been dishonest by double-signing or lock-changing without\njustification.  So, signing the reorg-proposal is a coordination problem that\ncannot be solved by any non-synchronous protocol (i.e. automatically, and\nwithout making assumptions about the reliability of the underlying network).\nFor now, we leave the problem of reorg-proposal coordination to human\ncoordination via social consensus on internet media.  Validators must take care\nto ensure that there are no remaining network partitions prior to signing a\nreorg-proposal, to avoid situations where two conflicting reorg-proposals are\nsigned.")]),e._v(" "),o("p",[e._v("Assuming that the external coordination medium and protocol is robust, it\nfollows that forks are less of a concern than censorship attacks.")]),e._v(" "),o("p",[e._v("In addition to forks and censorship, which require ≥⅓ Byzantine voting power, a\ncoalition of >⅔ voting power may commit arbitrary, invalid state.  This is\ncharacteristic of any (BFT) consensus system. Unlike double-signing, which\ncreates forks with easily verifiable evidence, detecting committment of an\ninvalid state requires non-validating peers to verify whole blocks, which\nimplies that they keep a local copy of the state and execute each transaction,\ncomputing the state root independently for themselves.  Once detected, the only\nway to handle such a failure is via social consensus.  For instance, in\nsituations where Bitcoin has failed, whether forking due to software bugs (as in\nMarch 2013), or committing invalid state due to Byzantine behavior of miners (as\nin July 2015), the well connected community of businesses, developers, miners,\nand other organizations established a social consensus as to what manual actions\nwere required by participants to heal the network.  Furthermore, since\nvalidators of a Tendermint blockchain may be expected to be identifiable,\ncommitment of an invalid state may even be punishable by law or some external\njurisprudence, if desired.")]),e._v(" "),o("h3",{attrs:{id:"abci-specification"}},[e._v("ABCI Specification")]),e._v(" "),o("p",[e._v("ABCI consists of 3 primary message types that get delivered from the core to the\napplication. The application replies with corresponding response messages.")]),e._v(" "),o("p",[e._v("The "),o("code",{pre:!0},[e._v("AppendTx")]),e._v(" message is the work horse of the application. Each transaction in\nthe blockchain is delivered with this message. The application needs to validate\neach transactions received with the AppendTx message against the current state,\napplication protocol, and the cryptographic credentials of the transaction. A\nvalidated transaction then needs to update the application state — by binding a\nvalue into a key values store, or by updating the UTXO database.")]),e._v(" "),o("p",[e._v("The "),o("code",{pre:!0},[e._v("CheckTx")]),e._v(" message is similar to AppendTx, but it’s only for validating\ntransactions. Tendermint Core’s mempool first checks the validity of a\ntransaction with CheckTx, and only relays valid transactions to its peers.\nApplications may check an incrementing nonce in the transaction and return an\nerror upon CheckTx if the nonce is old.")]),e._v(" "),o("p",[e._v("The "),o("code",{pre:!0},[e._v("Commit")]),e._v(" message is used to compute a cryptographic commitment to the\ncurrent application state, to be placed into the next block header. This has\nsome handy properties. Inconsistencies in updating that state will now appear as\nblockchain forks which catches a whole class of programming errors. This also\nsimplifies the development of secure lightweight clients, as Merkle-hash proofs\ncan be verified by checking against the block-hash, and the block-hash is signed\nby a quorum of validators (by voting power).")]),e._v(" "),o("p",[e._v("Additional ABCI messages allow the application to keep track of and change the\nvalidator set, and for the application to receive the block information, such as\nthe height and the commit votes.")]),e._v(" "),o("p",[e._v("ABCI requests/responses are simple Protobuf messages.  Check out the "),o("a",{attrs:{href:"https://github.com/tendermint/abci/blob/master/types/types.proto"}},[e._v("schema\nfile")]),e._v(".")]),e._v(" "),o("h5",{attrs:{id:"appendtx"}},[e._v("AppendTx")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Arguments")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": The request transaction bytes")])])]),e._v(" "),o("li",[o("strong",[e._v("Returns")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Code (uint32)")]),e._v(": Response code")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": Result bytes, if any")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Log (string)")]),e._v(": Debug or error message")])])]),e._v(" "),o("li",[o("strong",[e._v("Usage")]),e._v(":"),o("br"),e._v("\nAppend and run a transaction.  If the transaction is valid, returns\nCodeType.OK")])]),e._v(" "),o("h5",{attrs:{id:"checktx"}},[e._v("CheckTx")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Arguments")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": The request transaction bytes")])])]),e._v(" "),o("li",[o("strong",[e._v("Returns")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Code (uint32)")]),e._v(": Response code")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": Result bytes, if any")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Log (string)")]),e._v(": Debug or error message")])])]),e._v(" "),o("li",[o("strong",[e._v("Usage")]),e._v(":"),o("br"),e._v("\nValidate a transaction.  This message should not mutate the state.\nTransactions are first run through CheckTx before broadcast to peers in the\nmempool layer.\nYou can make CheckTx semi-stateful and clear the state upon "),o("code",{pre:!0},[e._v("Commit")]),e._v(" or\n"),o("code",{pre:!0},[e._v("BeginBlock")]),e._v(",\nto allow for dependent sequences of transactions in the same block.")])]),e._v(" "),o("h5",{attrs:{id:"commit"}},[e._v("Commit")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Returns")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": The Merkle root hash")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Log (string)")]),e._v(": Debug or error message")])])]),e._v(" "),o("li",[o("strong",[e._v("Usage")]),e._v(":"),o("br"),e._v("\nReturn a Merkle root hash of the application state.")])]),e._v(" "),o("h5",{attrs:{id:"query"}},[e._v("Query")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Arguments")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": The query request bytes")])])]),e._v(" "),o("li",[o("strong",[e._v("Returns")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Code (uint32)")]),e._v(": Response code")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": The query response bytes")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Log (string)")]),e._v(": Debug or error message")])])])]),e._v(" "),o("h5",{attrs:{id:"flush"}},[e._v("Flush")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Usage")]),e._v(":"),o("br"),e._v("\nFlush the response queue.  Applications that implement "),o("code",{pre:!0},[e._v("types.Application")]),e._v("\nneed not implement this message – it’s handled by the project.")])]),e._v(" "),o("h5",{attrs:{id:"info"}},[e._v("Info")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Returns")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Data ([]byte)")]),e._v(": The info bytes")])])]),e._v(" "),o("li",[o("strong",[e._v("Usage")]),e._v(":"),o("br"),e._v("\nReturn information about the application state.  Application specific.")])]),e._v(" "),o("h5",{attrs:{id:"setoption"}},[e._v("SetOption")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Arguments")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Key (string)")]),e._v(": Key to set")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Value (string)")]),e._v(": Value to set for key")])])]),e._v(" "),o("li",[o("strong",[e._v("Returns")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Log (string)")]),e._v(": Debug or error message")])])]),e._v(" "),o("li",[o("strong",[e._v("Usage")]),e._v(":"),o("br"),e._v("\nSet application options.  E.g. Key=“mode”, Value=“mempool” for a mempool\nconnection, or Key=“mode”, Value=“consensus” for a consensus connection.\nOther options are application specific.")])]),e._v(" "),o("h5",{attrs:{id:"initchain"}},[e._v("InitChain")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Arguments")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Validators ([]Validator)")]),e._v(": Initial genesis-validators")])])]),e._v(" "),o("li",[o("strong",[e._v("Usage")]),e._v(":"),o("br"),e._v("\nCalled once upon genesis")])]),e._v(" "),o("h5",{attrs:{id:"beginblock"}},[e._v("BeginBlock")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Arguments")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Height (uint64)")]),e._v(": The block height that is starting")])])]),e._v(" "),o("li",[o("strong",[e._v("Usage")]),e._v(":"),o("br"),e._v("\nSignals the beginning of a new block. Called prior to any AppendTxs.")])]),e._v(" "),o("h5",{attrs:{id:"endblock"}},[e._v("EndBlock")]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Arguments")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Height (uint64)")]),e._v(": The block height that ended")])])]),e._v(" "),o("li",[o("strong",[e._v("Returns")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Validators ([]Validator)")]),e._v(": Changed validators with new voting powers (0\nto remove)")])])]),e._v(" "),o("li",[o("strong",[e._v("Usage")]),e._v(":"),o("br"),e._v("\nSignals the end of a block.  Called prior to each Commit after all\ntransactions")])]),e._v(" "),o("p",[e._v("See "),o("a",{attrs:{href:"https://github.com/tendermint/abci#message-types"}},[e._v("the ABCI repository")]),e._v(" for more details.")]),e._v(" "),o("h3",{attrs:{id:"ibc-packet-delivery-acknowledgement"}},[e._v("IBC Packet Delivery Acknowledgement")]),e._v(" "),o("p",[e._v("There are several reasons why a sender may want the acknowledgement of delivery\nof a packet by the receiving chain.  For example, the sender may not know the\nstatus of the destination chain, if it is expected to be faulty.  Or, the sender\nmay want to impose a timeout on the packet (with the "),o("code",{pre:!0},[e._v("MaxHeight")]),e._v(" packet field),\nwhile any destination chain may suffer from a denial-of-service attack with a\nsudden spike in the number of incoming packets.")]),e._v(" "),o("p",[e._v("In these cases, the sender can require delivery acknowledgement by setting the\ninitial packet status to "),o("code",{pre:!0},[e._v("AckPending")]),e._v(".  Then, it is the receiving chain’s\nresponsibility to confirm delivery by including an abbreviated "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(" in the\napp Merkle hash.")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://raw.githubusercontent.com/gnuclear/atom-whitepaper/master/msc/ibc_with_ack.png",alt:"Figure of Zone1, Zone2, and Hub IBC withacknowledgement"}})]),e._v(" "),o("p",[e._v("First, an "),o("code",{pre:!0},[e._v("IBCBlockCommit")]),e._v(" and "),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(" are posted on “Hub” that proves\nthe existence of an "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(" on “Zone1”.  Say that "),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(" has the\nfollowing value:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("FromChainID")]),e._v(": “Zone1”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("FromBlockHeight")]),e._v(": 100 (say)")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Packet")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Header")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacketHeader")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("SrcChainID")]),e._v(": “Zone1”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("DstChainID")]),e._v(": “Zone2”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Number")]),e._v(": 200 (say)")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Status")]),e._v(": "),o("code",{pre:!0},[e._v("AckPending")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Type")]),e._v(": “coin”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("MaxHeight")]),e._v(": 350 (say “Hub” is currently at height 300)")])])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Payload")]),e._v(": <The bytes of a “coin” payload>")])])])]),e._v(" "),o("p",[e._v("Next, an "),o("code",{pre:!0},[e._v("IBCBlockCommit")]),e._v(" and "),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(" are posted on “Zone2” that proves\nthe existence of an "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(" on “Hub”.  Say that "),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(" has the\nfollowing value:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("FromChainID")]),e._v(": “Hub”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("FromBlockHeight")]),e._v(": 300")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Packet")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Header")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacketHeader")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("SrcChainID")]),e._v(": “Zone1”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("DstChainID")]),e._v(": “Zone2”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Number")]),e._v(": 200")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Status")]),e._v(": "),o("code",{pre:!0},[e._v("AckPending")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Type")]),e._v(": “coin”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("MaxHeight")]),e._v(": 350")])])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Payload")]),e._v(": <The same bytes of a “coin” payload>")])])])]),e._v(" "),o("p",[e._v("Next, “Zone2” must include in its app-hash an abbreviated packet that shows the\nnew status of "),o("code",{pre:!0},[e._v("AckSent")]),e._v(".  An "),o("code",{pre:!0},[e._v("IBCBlockCommit")]),e._v(" and "),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(" are posted back\non “Hub” that proves the existence of an abbreviated "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(' on\n"Zone2".  Say that '),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(" has the following value:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("FromChainID")]),e._v(": “Zone2”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("FromBlockHeight")]),e._v(": 400 (say)")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Packet")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Header")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacketHeader")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("SrcChainID")]),e._v(": “Zone1”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("DstChainID")]),e._v(": “Zone2”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Number")]),e._v(": 200")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Status")]),e._v(": "),o("code",{pre:!0},[e._v("AckSent")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Type")]),e._v(": “coin”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("MaxHeight")]),e._v(": 350")])])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("PayloadHash")]),e._v(": <The hash bytes of the same “coin” payload>")])])])]),e._v(" "),o("p",[e._v("Finally, “Hub” must update the status of the packet from "),o("code",{pre:!0},[e._v("AckPending")]),e._v(" to\n"),o("code",{pre:!0},[e._v("AckReceived")]),e._v('.  Evidence of this new finalized status should go back to\n"Zone2".  Say that '),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(" has the following value:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("FromChainID")]),e._v(": “Hub”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("FromBlockHeight")]),e._v(": 301")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Packet")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("Header")]),e._v(": an "),o("code",{pre:!0},[e._v("IBCPacketHeader")]),e._v(":\n"),o("ul",[o("li",[o("code",{pre:!0},[e._v("SrcChainID")]),e._v(": “Zone1”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("DstChainID")]),e._v(": “Zone2”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Number")]),e._v(": 200")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Status")]),e._v(": "),o("code",{pre:!0},[e._v("AckReceived")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Type")]),e._v(": “coin”")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("MaxHeight")]),e._v(": 350")])])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("PayloadHash")]),e._v(": <The hash bytes of the same “coin” payload>")])])])]),e._v(" "),o("p",[e._v('Meanwhile, “Zone1” may optimistically assume successful delivery of a "coin"\npacket unless evidence to the contrary is proven on “Hub”.  In the example\nabove, if “Hub” had not received an '),o("code",{pre:!0},[e._v("AckSent")]),e._v(" status from “Zone2” by block\n350, it would have set the status automatically to "),o("code",{pre:!0},[e._v("Timeout")]),e._v(".  This evidence of\na timeout can get posted back on “Zone1”, and any tokens can be returned.")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://raw.githubusercontent.com/gnuclear/atom-whitepaper/master/msc/ibc_with_ack_timeout.png",alt:"Figure of Zone1, Zone2, and Hub IBC with acknowledgement andtimeout"}})]),e._v(" "),o("h3",{attrs:{id:"merkle-tree-proof-specification"}},[e._v("Merkle Tree & Proof Specification")]),e._v(" "),o("p",[e._v("There are two types of Merkle trees supported in the Tendermint/Cosmos\necosystem: The Simple Tree, and the IAVL+ Tree.")]),e._v(" "),o("h4",{attrs:{id:"simple-tree"}},[e._v("Simple Tree")]),e._v(" "),o("p",[e._v("The Simple Tree is a Merkle tree for a static list of elements.  If the number\nof items is not a power of two, some leaves will be at different levels.  Simple\nTree tries to keep both sides of the tree the same height, but the left may be\none greater.  This Merkle tree is used to Merkle-ize the transactions of a\nblock, and the top level elements of the application state root.")]),e._v(" "),o("pre",{pre:!0},[o("code",{attrs:{"v-pre":""}},[e._v("                *\n               / \\\n             /     \\\n           /         \\\n         /             \\\n        *               *\n       / \\             / \\\n      /   \\           /   \\\n     /     \\         /     \\\n    *       *       *       h6\n   / \\     / \\     / \\\n  h0  h1  h2  h3  h4  h5\n\n  A SimpleTree with 7 elements\n")])]),e._v(" "),o("h4",{attrs:{id:"iavl-tree"}},[e._v("IAVL+ Tree")]),e._v(" "),o("p",[e._v("The purpose of the IAVL+ data structure is to provide persistent storage for\nkey-value pairs in the application state such that a deterministic Merkle root\nhash can be computed efficiently.  The tree is balanced using a variant of the\n"),o("a",{attrs:{href:"http://en.wikipedia.org/wiki/AVL_tree"}},[e._v("AVL algorithm")]),e._v(", and all operations are\nO(log(n)).")]),e._v(" "),o("p",[e._v("In an AVL tree, the heights of the two child subtrees of any node differ by at\nmost one.  Whenever this condition is violated upon an update, the tree is\nrebalanced by creating O(log(n)) new nodes that point to unmodified nodes of the\nold tree.  In the original AVL algorithm, inner nodes can also hold key-value\npairs.  The AVL+ algorithm (note the plus) modifies the AVL algorithm to keep\nall values on leaf nodes, while only using branch-nodes to store keys.  This\nsimplifies the algorithm while keeping the merkle hash trail short.")]),e._v(" "),o("p",[e._v("The AVL+ Tree is analogous to Ethereum’s "),o("a",{attrs:{href:"http://en.wikipedia.org/wiki/Radix_tree"}},[e._v("Patricia\ntries")]),e._v(".  There are tradeoffs.  Keys do\nnot need to be hashed prior to insertion in IAVL+ trees, so this provides faster\nordered iteration in the key space which may benefit some applications.  The\nlogic is simpler to implement, requiring only two types of nodes – inner nodes\nand leaf nodes.  The Merkle proof is on average shorter, being a balanced binary\ntree.  On the other hand, the Merkle root of an IAVL+ tree depends on the order\nof updates.")]),e._v(" "),o("p",[e._v("We will support additional efficient Merkle trees, such as Ethereum’s Patricia\nTrie when the binary variant becomes available.")]),e._v(" "),o("h3",{attrs:{id:"transaction-types"}},[e._v("Transaction Types")]),e._v(" "),o("p",[e._v("In the canonical implementation, transactions are streamed to the Cosmos hub\napplication via the ABCI interface.")]),e._v(" "),o("p",[e._v("The Cosmos Hub will accept a number of primary transaction types, including\n"),o("code",{pre:!0},[e._v("SendTx")]),e._v(", "),o("code",{pre:!0},[e._v("BondTx")]),e._v(", "),o("code",{pre:!0},[e._v("UnbondTx")]),e._v(", "),o("code",{pre:!0},[e._v("ReportHackTx")]),e._v(", "),o("code",{pre:!0},[e._v("SlashTx")]),e._v(", "),o("code",{pre:!0},[e._v("BurnAtomTx")]),e._v(",\n"),o("code",{pre:!0},[e._v("ProposalCreateTx")]),e._v(", and "),o("code",{pre:!0},[e._v("ProposalVoteTx")]),e._v(", which are fairly self-explanatory and\nwill be documented in a future revision of this paper.  Here we document the two\nprimary transaction types for IBC: "),o("code",{pre:!0},[e._v("IBCBlockCommitTx")]),e._v(" and "),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(".")]),e._v(" "),o("h4",{attrs:{id:"ibcblockcommittx"}},[e._v("IBCBlockCommitTx")]),e._v(" "),o("p",[e._v("An "),o("code",{pre:!0},[e._v("IBCBlockCommitTx")]),e._v(" transaction is composed of:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("ChainID (string)")]),e._v(": The ID of the blockchain")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("BlockHash ([]byte)")]),e._v(": The block-hash bytes, the Merkle root which includes the\napp-hash")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("BlockPartsHeader (PartSetHeader)")]),e._v(": The block part-set header bytes, only\nneeded to verify vote signatures")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("BlockHeight (int)")]),e._v(": The height of the commit")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("BlockRound (int)")]),e._v(": The round of the commit")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Commit ([]Vote)")]),e._v(": The >⅔ Tendermint "),o("code",{pre:!0},[e._v("Precommit")]),e._v(" votes that comprise a block\ncommit")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("ValidatorsHash ([]byte)")]),e._v(": A Merkle-tree root hash of the new validator set")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("ValidatorsHashProof (SimpleProof)")]),e._v(": A SimpleTree Merkle-proof for proving the\n"),o("code",{pre:!0},[e._v("ValidatorsHash")]),e._v(" against the "),o("code",{pre:!0},[e._v("BlockHash")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("AppHash ([]byte)")]),e._v(": A IAVLTree Merkle-tree root hash of the application state")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("AppHashProof (SimpleProof)")]),e._v(": A SimpleTree Merkle-proof for proving the\n"),o("code",{pre:!0},[e._v("AppHash")]),e._v(" against the "),o("code",{pre:!0},[e._v("BlockHash")])])]),e._v(" "),o("h4",{attrs:{id:"ibcpackettx"}},[e._v("IBCPacketTx")]),e._v(" "),o("p",[e._v("An "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(" is composed of:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("Header (IBCPacketHeader)")]),e._v(": The packet header")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Payload ([]byte)")]),e._v(": The bytes of the packet payload. "),o("em",[e._v("Optional")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("PayloadHash ([]byte)")]),e._v(": The hash for the bytes of the packet. "),o("em",[e._v("Optional")])])]),e._v(" "),o("p",[e._v("Either one of "),o("code",{pre:!0},[e._v("Payload")]),e._v(" or "),o("code",{pre:!0},[e._v("PayloadHash")]),e._v(" must be present.  The hash of an\n"),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(" is a simple Merkle root of the two items, "),o("code",{pre:!0},[e._v("Header")]),e._v(" and "),o("code",{pre:!0},[e._v("Payload")]),e._v(".\nAn "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(" without the full payload is called an "),o("em",[e._v("abbreviated packet")]),e._v(".")]),e._v(" "),o("p",[e._v("An "),o("code",{pre:!0},[e._v("IBCPacketHeader")]),e._v(" is composed of:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("SrcChainID (string)")]),e._v(": The source blockchain ID")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("DstChainID (string)")]),e._v(": The destination blockchain ID")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Number (int)")]),e._v(": A unique number for all packets")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Status (enum)")]),e._v(": Can be one of "),o("code",{pre:!0},[e._v("AckPending")]),e._v(", "),o("code",{pre:!0},[e._v("AckSent")]),e._v(", "),o("code",{pre:!0},[e._v("AckReceived")]),e._v(",\n"),o("code",{pre:!0},[e._v("NoAck")]),e._v(", or "),o("code",{pre:!0},[e._v("Timeout")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Type (string)")]),e._v(': The types are application-dependent.  Cosmos reserves the\n"coin" packet type')]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("MaxHeight (int)")]),e._v(": If status is not "),o("code",{pre:!0},[e._v("NoAckWanted")]),e._v(" or "),o("code",{pre:!0},[e._v("AckReceived")]),e._v(" by this\nheight, status becomes "),o("code",{pre:!0},[e._v("Timeout")]),e._v(". "),o("em",[e._v("Optional")])])]),e._v(" "),o("p",[e._v("An "),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(" transaction is composed of:")]),e._v(" "),o("ul",[o("li",[o("code",{pre:!0},[e._v("FromChainID (string)")]),e._v(": The ID of the blockchain which is providing this\npacket; not necessarily the source")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("FromBlockHeight (int)")]),e._v(": The blockchain height in which the following packet\nis included (Merkle-ized) in the block-hash of the source chain")]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("Packet (IBCPacket)")]),e._v(": A packet of data, whose status may be one of\n"),o("code",{pre:!0},[e._v("AckPending")]),e._v(", "),o("code",{pre:!0},[e._v("AckSent")]),e._v(", "),o("code",{pre:!0},[e._v("AckReceived")]),e._v(", "),o("code",{pre:!0},[e._v("NoAck")]),e._v(", or "),o("code",{pre:!0},[e._v("Timeout")])]),e._v(" "),o("li",[o("code",{pre:!0},[e._v("PacketProof (IAVLProof)")]),e._v(": A IAVLTree Merkle-proof for proving the packet’s\nhash against the "),o("code",{pre:!0},[e._v("AppHash")]),e._v(" of the source chain at given height")])]),e._v(" "),o("p",[e._v('The sequence for sending a packet from “Zone1” to “Zone2” through the\n"Hub" is depicted in {Figure X}.  First, an '),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(' proves to\n"Hub" that the packet is included in the app-state of “Zone1”.  Then,\nanother '),o("code",{pre:!0},[e._v("IBCPacketTx")]),e._v(" proves to “Zone2” that the packet is included in the\napp-state of “Hub”.  During this procedure, the "),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(" fields are\nidentical: the "),o("code",{pre:!0},[e._v("SrcChainID")]),e._v(" is always “Zone1”, and the "),o("code",{pre:!0},[e._v("DstChainID")]),e._v(' is always\n"Zone2".')]),e._v(" "),o("p",[e._v("The "),o("code",{pre:!0},[e._v("PacketProof")]),e._v(" must have the correct Merkle-proof path, as follows:")]),e._v(" "),o("pre",{pre:!0},[o("code",{attrs:{"v-pre":""}},[e._v("IBC/<SrcChainID>/<DstChainID>/<Number>\n\n")])]),e._v(" "),o("p",[e._v("When “Zone1” wants to send a packet to “Zone2” through “Hub”, the\n"),o("code",{pre:!0},[e._v("IBCPacket")]),e._v(" data are identical whether the packet is Merkle-ized on “Zone1”,\nthe “Hub”, or “Zone2”.  The only mutable field is "),o("code",{pre:!0},[e._v("Status")]),e._v(" for tracking\ndelivery.")]),e._v(" "),o("h2",{attrs:{id:"acknowledgements"}},[e._v("Acknowledgements")]),e._v(" "),o("p",[e._v("We thank our friends and peers for assistance in conceptualizing, reviewing, and\nproviding support for our work with Tendermint and Cosmos.")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"https://github.com/zmanian"}},[e._v("Zaki Manian")]),e._v(" of\n"),o("a",{attrs:{href:"https://www.skuchain.com/"}},[e._v("SkuChain")]),e._v(" provided much help in formatting and\nwording, especially under the ABCI section")]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/jtremback"}},[e._v("Jehan Tremback")]),e._v(" of Althea and Dustin Byington\nfor helping with initial iterations")]),e._v(" "),o("li",[o("a",{attrs:{href:"http://soc1024.com/"}},[e._v("Andrew Miller")]),e._v(" of "),o("a",{attrs:{href:"https://eprint.iacr.org/2016/199"}},[e._v("Honey\nBadger")]),e._v(" for feedback on consensus")]),e._v(" "),o("li",[o("a",{attrs:{href:"https://fixingtao.com/"}},[e._v("Greg Slepak")]),e._v(" for feedback on consensus and wording")]),e._v(" "),o("li",[e._v("Also thanks to "),o("a",{attrs:{href:"https://github.com/gleim"}},[e._v("Bill Gleim")]),e._v(" and "),o("a",{attrs:{href:"http://www.seunghwanhan.com"}},[e._v("Seunghwan\nHan")]),e._v(" for various contributions.")]),e._v(" "),o("li",[o("strong",[e._v("Your name and organization here for your contribution")])])]),e._v(" "),o("h2",{attrs:{id:"citations"}},[e._v("Citations")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"https://bitcoin.org/bitcoin.pdf"}},[e._v("1")]),e._v(" Bitcoin: "),o("a",{attrs:{href:"https://bitcoin.org/bitcoin.pdf"}},[e._v("https://bitcoin.org/bitcoin.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"http://zerocash-project.org/paper"}},[e._v("2")]),e._v(" ZeroCash: "),o("a",{attrs:{href:"http://zerocash-project.org/paper"}},[e._v("http://zerocash-project.org/paper")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/ethereum/wiki/wiki/White-Paper"}},[e._v("3")]),e._v(" Ethereum: "),o("a",{attrs:{href:"https://github.com/ethereum/wiki/wiki/White-Paper"}},[e._v("https://github.com/ethereum/wiki/wiki/White-Paper")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://download.slock.it/public/DAO/WhitePaper.pdf"}},[e._v("4")]),e._v(" TheDAO: "),o("a",{attrs:{href:"https://download.slock.it/public/DAO/WhitePaper.pdf"}},[e._v("https://download.slock.it/public/DAO/WhitePaper.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki"}},[e._v("5")]),e._v(" Segregated Witness: "),o("a",{attrs:{href:"https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki"}},[e._v("https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://arxiv.org/pdf/1510.02037v2.pdf"}},[e._v("6")]),e._v(" BitcoinNG: "),o("a",{attrs:{href:"https://arxiv.org/pdf/1510.02037v2.pdf"}},[e._v("https://arxiv.org/pdf/1510.02037v2.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://lightning.network/lightning-network-paper-DRAFT-0.5.pdf"}},[e._v("7")]),e._v(" Lightning Network: "),o("a",{attrs:{href:"https://lightning.network/lightning-network-paper-DRAFT-0.5.pdf"}},[e._v("https://lightning.network/lightning-network-paper-DRAFT-0.5.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/tendermint/tendermint/wiki"}},[e._v("8")]),e._v(" Tendermint: "),o("a",{attrs:{href:"https://github.com/tendermint/tendermint/wiki"}},[e._v("https://github.com/tendermint/tendermint/wiki")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://groups.csail.mit.edu/tds/papers/Lynch/jacm85.pdf"}},[e._v("9")]),e._v(" FLP Impossibility: "),o("a",{attrs:{href:"https://groups.csail.mit.edu/tds/papers/Lynch/jacm85.pdf"}},[e._v("https://groups.csail.mit.edu/tds/papers/Lynch/jacm85.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://blog.ethereum.org/2014/01/15/slasher-a-punitive-proof-of-stake-algorithm/"}},[e._v("10")]),e._v(" Slasher: "),o("a",{attrs:{href:"https://blog.ethereum.org/2014/01/15/slasher-a-punitive-proof-of-stake-algorithm/"}},[e._v("https://blog.ethereum.org/2014/01/15/slasher-a-punitive-proof-of-stake-algorithm/")])]),e._v(" "),o("li",[o("a",{attrs:{href:"http://pmg.csail.mit.edu/papers/osdi99.pdf"}},[e._v("11")]),e._v(" PBFT: "),o("a",{attrs:{href:"http://pmg.csail.mit.edu/papers/osdi99.pdf"}},[e._v("http://pmg.csail.mit.edu/papers/osdi99.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://bitshares.org/technology/delegated-proof-of-stake-consensus/"}},[e._v("12")]),e._v(" BitShares: "),o("a",{attrs:{href:"https://bitshares.org/technology/delegated-proof-of-stake-consensus/"}},[e._v("https://bitshares.org/technology/delegated-proof-of-stake-consensus/")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://www.stellar.org/papers/stellar-consensus-protocol.pdf"}},[e._v("13")]),e._v(" Stellar: "),o("a",{attrs:{href:"https://www.stellar.org/papers/stellar-consensus-protocol.pdf"}},[e._v("https://www.stellar.org/papers/stellar-consensus-protocol.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://interledger.org/rfcs/0001-interledger-architecture/"}},[e._v("14")]),e._v(" Interledger: "),o("a",{attrs:{href:"https://interledger.org/rfcs/0001-interledger-architecture/"}},[e._v("https://interledger.org/rfcs/0001-interledger-architecture/")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://blockstream.com/sidechains.pdf"}},[e._v("15")]),e._v(" Sidechains: "),o("a",{attrs:{href:"https://blockstream.com/sidechains.pdf"}},[e._v("https://blockstream.com/sidechains.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost/"}},[e._v("16")]),e._v(" Casper: "),o("a",{attrs:{href:"https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost/"}},[e._v("https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost/")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/tendermint/abci"}},[e._v("17")]),e._v(" ABCI: "),o("a",{attrs:{href:"https://github.com/tendermint/abci"}},[e._v("https://github.com/tendermint/abci")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://github.com/ethereum/EIPs/issues/53"}},[e._v("18")]),e._v(" Ethereum Sharding: "),o("a",{attrs:{href:"https://github.com/ethereum/EIPs/issues/53"}},[e._v("https://github.com/ethereum/EIPs/issues/53")])]),e._v(" "),o("li",[o("a",{attrs:{href:"http://www.ds.ewi.tudelft.nl/fileadmin/pds/papers/PerformanceAnalysisOfLibswift.pdf"}},[e._v("19")]),e._v(" LibSwift: "),o("a",{attrs:{href:"http://www.ds.ewi.tudelft.nl/fileadmin/pds/papers/PerformanceAnalysisOfLibswift.pdf"}},[e._v("http://www.ds.ewi.tudelft.nl/fileadmin/pds/papers/PerformanceAnalysisOfLibswift.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf"}},[e._v("20")]),e._v(" DLS: "),o("a",{attrs:{href:"http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf"}},[e._v("http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf")])]),e._v(" "),o("li",[o("a",{attrs:{href:"https://en.bitcoin.it/wiki/Thin_Client_Security"}},[e._v("21")]),e._v(" Thin Client Security: "),o("a",{attrs:{href:"https://en.bitcoin.it/wiki/Thin_Client_Security"}},[e._v("https://en.bitcoin.it/wiki/Thin_Client_Security")])]),e._v(" "),o("li",[o("a",{attrs:{href:"http://vitalik.ca/files/mauve_paper.html"}},[e._v("22")]),e._v(" Ethereum 2.0 Mauve Paper: "),o("a",{attrs:{href:"http://vitalik.ca/files/mauve_paper.html"}},[e._v("http://vitalik.ca/files/mauve_paper.html")])])]),e._v(" "),o("h4",{attrs:{id:"unsorted-links"}},[e._v("Unsorted links")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"https://www.docdroid.net/ec7xGzs/314477721-ethereum-platform-review-opportunities-and-challenges-for-private-and-consortium-blockchains.pdf.html"}},[e._v("https://www.docdroid.net/ec7xGzs/314477721-ethereum-platform-review-opportunities-and-challenges-for-private-and-consortium-blockchains.pdf.html")])])])])}]}},558:function(e,t,o){e.exports=o(514)},561:function(e,t,o){e.exports=o(517)},562:function(e,t,o){e.exports=o(518)},563:function(e,t,o){e.exports=o(519)}});
//# sourceMappingURL=0.4929f4a1783782cf3459.js.map